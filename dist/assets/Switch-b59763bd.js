import{r,_ as v,c as N,a as E}from"./main.cc7980d7.js";import{S as $,u as k}from"./Label-b8166eab.js";function z(e,t){const n=r.createContext(t);function c(u){const{children:o,...a}=u,i=r.useMemo(()=>a,Object.values(a));return r.createElement(n.Provider,{value:i},o)}return c.displayName=e+"Provider",[c,function(u){const o=r.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${u}\` must be used within \`${e}\``)}]}const[Y,M]=z("Label",{id:void 0,controlRef:{current:null}}),O=e=>{const t=M("LabelConsumer"),{controlRef:n}=t;return r.useEffect(()=>{e&&(n.current=e)},[e,n]),t.id},x=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>({...e,[t]:r.forwardRef((n,c)=>{const{asChild:u,...o}=n,a=u?$:t;return r.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),r.createElement(a,v({},o,{ref:c}))})}),{});function T(e){const[t,n]=r.useState(void 0);return r.useEffect(()=>{if(e){const c=new ResizeObserver(u=>{if(!Array.isArray(u)||!u.length)return;const o=u[0];let a,i;if("borderBoxSize"in o){const s=o.borderBoxSize,d=Array.isArray(s)?s[0]:s;a=d.inlineSize,i=d.blockSize}else{const s=e.getBoundingClientRect();a=s.width,i=s.height}n({width:a,height:i})});return c.observe(e,{box:"border-box"}),()=>c.unobserve(e)}n(void 0)},[e]),t}function j(e){const t=r.useRef({value:e,previous:e});return r.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function q({prop:e,defaultProp:t,onChange:n=()=>{}}){const[c,u]=function({defaultProp:s,onChange:d}){const l=r.useState(s),[p]=l,f=r.useRef(p),h=k(d);return r.useEffect(()=>{f.current!==p&&(h(p),f.current=p)},[p,f,h]),l}({defaultProp:t,onChange:n}),o=e!==void 0,a=o?e:c,i=k(n);return[a,r.useCallback(s=>{if(o){const d=s,l=typeof s=="function"?d(e):s;l!==e&&i(l)}else u(s)},[o,e,u,i])]}function A(e,t=[]){let n=[];const c=()=>{const u=n.map(o=>r.createContext(o));return function(o){const a=(o==null?void 0:o[e])||u;return r.useMemo(()=>({[`__scope${e}`]:{...o,[e]:a}}),[o,a])}};return c.scopeName=e,[function(u,o){const a=r.createContext(o),i=n.length;function s(d){const{scope:l,children:p,...f}=d,h=(l==null?void 0:l[e][i])||a,w=r.useMemo(()=>f,Object.values(f));return r.createElement(h.Provider,{value:w},p)}return n=[...n,o],s.displayName=u+"Provider",[s,function(d,l){const p=(l==null?void 0:l[e][i])||a,f=r.useContext(p);if(f)return f;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${u}\``)}]},B(c,...t)]}function B(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const c=e.map(u=>({useScope:u(),scopeName:u.scopeName}));return function(u){const o=c.reduce((a,{useScope:i,scopeName:s})=>({...a,...i(u)[`__scope${s}`]}),{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function L(...e){return t=>e.forEach(n=>function(c,u){typeof c=="function"?c(u):c!=null&&(c.current=u)}(n,t))}function D(...e){return r.useCallback(L(...e),e)}function H(e,t,{checkForDefaultPrevented:n=!0}={}){return function(c){if(e==null||e(c),n===!1||!c.defaultPrevented)return t==null?void 0:t(c)}}const[I,Z]=A("Switch"),[F,X]=I("Switch"),G=r.forwardRef((e,t)=>{const{__scopeSwitch:n,"aria-labelledby":c,name:u,checked:o,defaultChecked:a,required:i,disabled:s,value:d="on",onCheckedChange:l,...p}=e,[f,h]=r.useState(null),w=D(t,m=>h(m)),g=O(f),P=c||g,S=r.useRef(!1),C=!f||!!f.closest("form"),[b=!1,R]=q({prop:o,defaultProp:a,onChange:l});return r.createElement(F,{scope:n,checked:b,disabled:s},r.createElement(x.button,v({type:"button",role:"switch","aria-checked":b,"aria-labelledby":P,"aria-required":i,"data-state":y(b),"data-disabled":s?"":void 0,disabled:s,value:d},p,{ref:w,onClick:H(e.onClick,m=>{R(_=>!_),C&&(S.current=m.isPropagationStopped(),S.current||m.stopPropagation())})})),C&&r.createElement(K,{control:f,bubbles:!S.current,name:u,value:d,checked:b,required:i,disabled:s,style:{transform:"translateX(-100%)"}}))}),J=r.forwardRef((e,t)=>{const{__scopeSwitch:n,...c}=e,u=X("SwitchThumb",n);return r.createElement(x.span,v({"data-state":y(u.checked),"data-disabled":u.disabled?"":void 0},c,{ref:t}))}),K=e=>{const{control:t,checked:n,bubbles:c=!0,...u}=e,o=r.useRef(null),a=j(n),i=T(t);return r.useEffect(()=>{const s=o.current,d=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==n&&l){const p=new Event("click",{bubbles:c});l.call(s,n),s.dispatchEvent(p)}},[a,n,c]),r.createElement("input",v({type:"checkbox","aria-hidden":!0,defaultChecked:n},u,{tabIndex:-1,ref:o,style:{...e.style,...i,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function y(e){return e?"checked":"unchecked"}const Q=G,U=J;function ee({className:e,value:t="off",...n}){const c=N("Switch",e);return E(Q,{className:c,value:t,...n,children:E(U,{className:"Switch__thumb"})})}export{ee as S};
//# sourceMappingURL=Switch-b59763bd.js.map
