{"version":3,"file":"AssetPipeline-f01a48ac.js","sources":["../../node_modules/property-graph/dist/property-graph.modern.js","../../node_modules/@gltf-transform/core/dist/core.modern.js","../../node_modules/@gltf-transform/extensions/dist/extensions.modern.js","../../node_modules/iota-array/iota.js","../../node_modules/is-buffer/index.js","../../node_modules/ndarray/ndarray.js","../../node_modules/uniq/uniq.js","../../node_modules/cwise-compiler/lib/compile.js","../../node_modules/cwise-compiler/lib/thunk.js","../../node_modules/cwise-compiler/compiler.js","../../node_modules/ndarray-ops/ndarray-ops.js","../../node_modules/ndarray-pixels/dist/ndarray-pixels-browser.modern.js","../../node_modules/ndarray-lanczos/dist/ndarray-lanczos.modern.js","../../node_modules/@gltf-transform/functions/dist/functions.modern.js","../../src/asset-pipeline/extensions/KHRAudioExtension.ts","../../src/asset-pipeline/extensions/MXBackgroundExtension.ts","../../src/asset-pipeline/extensions/MXLightmapExtension.ts","../../src/asset-pipeline/extensions/MXLightsShadows.ts","../../src/asset-pipeline/extensions/MXPortalExtension.ts","../../src/asset-pipeline/extensions/MXPostprocessing.ts","../../src/asset-pipeline/extensions/MXReflectionProbesExtension.ts","../../src/asset-pipeline/extensions/MXSceneAR.ts","../../src/asset-pipeline/extensions/MXSpawnPointExtension.ts","../../src/asset-pipeline/extensions/MXStatic.ts","../../src/asset-pipeline/extensions/MXTextureRGBM.ts","../../src/asset-pipeline/extensions/OMIColliderExtension.ts","../../src/asset-pipeline/extensions/OMILinkExtension.ts","../../src/asset-pipeline/functions/compressTextures.ts","../../src/asset-pipeline/functions/dedupeProperties.ts","../../src/asset-pipeline/functions/extensionAwareInstance.ts","../../src/asset-pipeline/pipeline.ts","../../src/asset-pipeline/web.ts","../../src/ui/views/asset-pipeline/AssetPipeline.tsx"],"sourcesContent":["class t{constructor(){this._listeners={}}addEventListener(t,e){const s=this._listeners;return void 0===s[t]&&(s[t]=[]),-1===s[t].indexOf(e)&&s[t].push(e),this}removeEventListener(t,e){if(void 0===this._listeners)return this;const s=this._listeners[t];if(void 0!==s){const t=s.indexOf(e);-1!==t&&s.splice(t,1)}return this}dispatchEvent(t){if(void 0===this._listeners)return this;const e=this._listeners[t.type];if(void 0!==e){const s=e.slice(0);for(let e=0,i=s.length;e<i;e++)s[e].call(this,t)}return this}dispose(){for(const t in this._listeners)delete this._listeners[t]}}class e extends t{constructor(t,e,s,i={}){if(super(),this._name=void 0,this._parent=void 0,this._child=void 0,this._attributes=void 0,this._disposed=!1,this._name=t,this._parent=e,this._child=s,this._attributes=i,!e.isOnGraph(s))throw new Error(\"Cannot connect disconnected graphs.\")}getName(){return this._name}getParent(){return this._parent}getChild(){return this._child}setChild(t){return this._child=t,this}getAttributes(){return this._attributes}dispose(){this._disposed||(this._disposed=!0,this.dispatchEvent({type:\"dispose\",target:this}),super.dispose())}isDisposed(){return this._disposed}}class s extends t{constructor(...t){super(...t),this._emptySet=new Set,this._edges=new Set,this._parentEdges=new Map,this._childEdges=new Map}listEdges(){return Array.from(this._edges)}listParentEdges(t){return Array.from(this._childEdges.get(t)||this._emptySet)}listParents(t){return this.listParentEdges(t).map(t=>t.getParent())}listChildEdges(t){return Array.from(this._parentEdges.get(t)||this._emptySet)}listChildren(t){return this.listChildEdges(t).map(t=>t.getChild())}disconnectParents(t,e){let s=this.listParentEdges(t);return e&&(s=s.filter(t=>e(t.getParent()))),s.forEach(t=>t.dispose()),this}createEdge(t,s,i,r){return this._registerEdge(new e(t,s,i,r))}_registerEdge(t){this._edges.add(t);const e=t.getParent();this._parentEdges.has(e)||this._parentEdges.set(e,new Set),this._parentEdges.get(e).add(t);const s=t.getChild();return this._childEdges.has(s)||this._childEdges.set(s,new Set),this._childEdges.get(s).add(t),t.addEventListener(\"dispose\",()=>this._removeEdge(t)),t}_removeEdge(t){return this._edges.delete(t),this._parentEdges.get(t.getParent()).delete(t),this._childEdges.get(t.getChild()).delete(t),this}}function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},i.apply(this,arguments)}function r(t){return t instanceof e}function n(t){return Array.isArray(t)&&t[0]instanceof e}function h(t){return!!(t&&\"object\"==typeof t&&Object.values(t)[0]instanceof e)}const d=Symbol(\"attributes\"),a=Symbol(\"immutableKeys\");class o extends t{constructor(t){super(),this._disposed=!1,this.graph=void 0,this[d]=void 0,this[a]=void 0,this.graph=t,this[a]=new Set,this[d]=this._createAttributes()}getDefaults(){return{}}_createAttributes(){const t=this.getDefaults(),e={};for(const s in t){const i=t[s];if(i instanceof o){const t=this.graph.createEdge(s,this,i);t.addEventListener(\"dispose\",()=>i.dispose()),this[a].add(s),e[s]=t}else e[s]=i}return e}isOnGraph(t){return this.graph===t.graph}isDisposed(){return this._disposed}dispose(){this._disposed||(this.graph.listChildEdges(this).forEach(t=>t.dispose()),this.graph.disconnectParents(this),this._disposed=!0,this.dispatchEvent({type:\"dispose\"}))}detach(){return this.graph.disconnectParents(this),this}swap(t,e){for(const s in this[d]){const i=this[d][s];if(r(i)){const r=i;r.getChild()===t&&this.setRef(s,e,r.getAttributes())}else if(n(i)){const r=i.find(e=>e.getChild()===t);if(r){const i=r.getAttributes();this.removeRef(s,t).addRef(s,e,i)}}else if(h(i)){const r=i;for(const i in r){const n=r[i];n.getChild()===t&&this.setRefMap(s,i,e,n.getAttributes())}}}return this}get(t){return this[d][t]}set(t,e){return this[d][t]=e,this.dispatchEvent({type:\"change\",attribute:t})}getRef(t){const e=this[d][t];return e?e.getChild():null}setRef(t,e,s){if(this[a].has(t))throw new Error(`Cannot overwrite immutable attribute, \"${t}\".`);const i=this[d][t];if(i&&i.dispose(),!e)return this;const r=this.graph.createEdge(t,this,e,s);return r.addEventListener(\"dispose\",()=>{delete this[d][t],this.dispatchEvent({type:\"change\",attribute:t})}),this[d][t]=r,this.dispatchEvent({type:\"change\",attribute:t})}listRefs(t){return this[d][t].map(t=>t.getChild())}addRef(t,e,s){const i=this.graph.createEdge(t,this,e,s),r=this[d][t];return r.push(i),i.addEventListener(\"dispose\",()=>{const e=r.filter(t=>t!==i);r.length=0;for(const t of e)r.push(t);this.dispatchEvent({type:\"change\",attribute:t})}),this.dispatchEvent({type:\"change\",attribute:t})}removeRef(t,e){return this[d][t].filter(t=>t.getChild()===e).forEach(t=>t.dispose()),this}listRefMapKeys(t){return Object.keys(this[d][t])}listRefMapValues(t){return Object.values(this[d][t]).map(t=>t.getChild())}getRefMap(t,e){const s=this[d][t];return s[e]?s[e].getChild():null}setRefMap(t,e,s,r){const n=this[d][t],h=n[e];if(h&&h.dispose(),!s)return this;r=Object.assign(r||{},{key:e});const a=this.graph.createEdge(t,this,s,i({},r,{key:e}));return a.addEventListener(\"dispose\",()=>{delete n[e],this.dispatchEvent({type:\"change\",attribute:t,key:e})}),n[e]=a,this.dispatchEvent({type:\"change\",attribute:t,key:e})}dispatchEvent(t){return super.dispatchEvent(i({},t,{target:this})),this.graph.dispatchEvent(i({},t,{target:this,type:`node:${t.type}`})),this}}export{d as $attributes,a as $immutableKeys,t as EventDispatcher,s as Graph,e as GraphEdge,o as GraphNode,r as isRef,n as isRefList,h as isRefMap};\n//# sourceMappingURL=property-graph.modern.js.map\n","import{GraphNode as t,$attributes as e,GraphEdge as r,$immutableKeys as s,isRefList as n,isRefMap as i,isRef as o,Graph as a}from\"property-graph\";export{Graph,GraphEdge}from\"property-graph\";import{transformMat4 as u,length as c}from\"gl-matrix/vec3\";import{determinant as h,getRotation as l,multiply as f}from\"gl-matrix/mat4\";const d=\"v2.4.3\",g=\"@glb.bin\";var p,m,w,y,v,T;function x(t){const e={min:[Infinity,Infinity,Infinity],max:[-Infinity,-Infinity,-Infinity]},r=t.propertyType===p.NODE?[t]:t.listChildren();for(const t of r)t.traverse(t=>{const r=t.getMesh();if(!r)return;const s=b(r,t.getWorldMatrix());A(s.min,e),A(s.max,e)});return e}function b(t,e){const r={min:[Infinity,Infinity,Infinity],max:[-Infinity,-Infinity,-Infinity]};for(const s of t.listPrimitives()){const t=s.getAttribute(\"POSITION\");if(!t)continue;let n=[0,0,0],i=[0,0,0];for(let s=0;s<t.getCount();s++)n=t.getElement(s,n),i=u(i,n,e),A(i,r)}return r}function A(t,e){for(let r=0;r<3;r++)e.min[r]=Math.min(t[r],e.min[r]),e.max[r]=Math.max(t[r],e.max[r])}!function(t){t.ACCESSOR=\"Accessor\",t.ANIMATION=\"Animation\",t.ANIMATION_CHANNEL=\"AnimationChannel\",t.ANIMATION_SAMPLER=\"AnimationSampler\",t.BUFFER=\"Buffer\",t.CAMERA=\"Camera\",t.MATERIAL=\"Material\",t.MESH=\"Mesh\",t.PRIMITIVE=\"Primitive\",t.PRIMITIVE_TARGET=\"PrimitiveTarget\",t.NODE=\"Node\",t.ROOT=\"Root\",t.SCENE=\"Scene\",t.SKIN=\"Skin\",t.TEXTURE=\"Texture\",t.TEXTURE_INFO=\"TextureInfo\"}(p||(p={})),function(t){t.INTERLEAVED=\"interleaved\",t.SEPARATE=\"separate\"}(m||(m={})),function(t){t.ARRAY_BUFFER=\"ARRAY_BUFFER\",t.ELEMENT_ARRAY_BUFFER=\"ELEMENT_ARRAY_BUFFER\",t.INVERSE_BIND_MATRICES=\"INVERSE_BIND_MATRICES\",t.OTHER=\"OTHER\"}(w||(w={})),function(t){t[t.R=4096]=\"R\",t[t.G=256]=\"G\",t[t.B=16]=\"B\",t[t.A=1]=\"A\"}(y||(y={})),function(t){t.GLTF=\"GLTF\",t.GLB=\"GLB\"}(v||(v={}));class E{static createBufferFromDataURI(t){if(\"undefined\"==typeof Buffer){const e=atob(t.split(\",\")[1]),r=new Uint8Array(e.length);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return r}{const e=t.split(\",\")[1],r=t.indexOf(\"base64\")>=0;return Buffer.from(e,r?\"base64\":\"utf8\")}}static encodeText(t){return\"undefined\"!=typeof TextEncoder?(new TextEncoder).encode(t):Buffer.from(t)}static decodeText(t){return\"undefined\"!=typeof TextDecoder?(new TextDecoder).decode(t):Buffer.from(t).toString(\"utf8\")}static concat(t){let e=0;for(const r of t)e+=r.byteLength;const r=new Uint8Array(e);let s=0;for(const e of t)r.set(e,s),s+=e.byteLength;return r}static pad(t,e=0){const r=this.padNumber(t.byteLength);if(r===t.byteLength)return t;const s=new Uint8Array(r);if(s.set(t),0!==e)for(let n=t.byteLength;n<r;n++)s[n]=e;return s}static padNumber(t){return 4*Math.ceil(t/4)}static equals(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;let r=t.byteLength;for(;r--;)if(t[r]!==e[r])return!1;return!0}static toView(t,e=0,r=Infinity){return new Uint8Array(t.buffer,t.byteOffset+e,Math.min(t.byteLength,r))}static assertView(t){if(t&&!ArrayBuffer.isView(t))throw new Error(`Method requires Uint8Array parameter; received \"${typeof t}\".`);return t}}class S{static hexToFactor(t,e){t=Math.floor(t);const r=e;return r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,this.convertSRGBToLinear(e,e)}static factorToHex(t){const e=[...t],[r,s,n]=this.convertLinearToSRGB(t,e);return 255*r<<16^255*s<<8^255*n<<0}static convertSRGBToLinear(t,e){const r=t,s=e;for(let t=0;t<3;t++)s[t]=r[t]<.04045?.0773993808*r[t]:Math.pow(.9478672986*r[t]+.0521327014,2.4);return e}static convertLinearToSRGB(t,e){const r=t,s=e;for(let t=0;t<3;t++)s[t]=r[t]<.0031308?12.92*r[t]:1.055*Math.pow(r[t],.41666)-.055;return e}}class M{match(t){return t.length>=8&&137===t[0]&&80===t[1]&&78===t[2]&&71===t[3]&&13===t[4]&&10===t[5]&&26===t[6]&&10===t[7]}getSize(t){const e=new DataView(t.buffer,t.byteOffset);return E.decodeText(t.slice(12,16))===M.PNG_FRIED_CHUNK_NAME?[e.getUint32(32,!1),e.getUint32(36,!1)]:[e.getUint32(16,!1),e.getUint32(20,!1)]}getChannels(t){return 4}}M.PNG_FRIED_CHUNK_NAME=\"CgBI\";class I{static registerFormat(t,e){this.impls[t]=e}static getMimeType(t){for(const e in this.impls)if(this.impls[e].match(t))return e;return null}static getSize(t,e){return this.impls[e]?this.impls[e].getSize(t):null}static getChannels(t,e){return this.impls[e]?this.impls[e].getChannels(t):null}static getMemSize(t,e){if(!this.impls[e])return null;if(this.impls[e].getGPUByteLength)return this.impls[e].getGPUByteLength(t);let r=0;const s=this.getSize(t,e);if(!s)return null;for(;s[0]>1||s[1]>1;)r+=s[0]*s[1]*4,s[0]=Math.max(Math.floor(s[0]/2),1),s[1]=Math.max(Math.floor(s[1]/2),1);return r+=4,r}static mimeTypeToExtension(t){return\"image/jpeg\"===t?\"jpg\":t.split(\"/\").pop()}static extensionToMimeType(t){return\"jpg\"===t?\"image/jpeg\":`image/${t}`}}function R(t,e){if(e>t.byteLength)throw new TypeError(\"Corrupt JPG, exceeded buffer limits\");if(255!==t.getUint8(e))throw new TypeError(\"Invalid JPG, marker table corrupted\");return t}I.impls={\"image/jpeg\":new class{match(t){return t.length>=3&&255===t[0]&&216===t[1]&&255===t[2]}getSize(t){let e,r,s=new DataView(t.buffer,t.byteOffset+4);for(;s.byteLength;){if(e=s.getUint16(0,!1),R(s,e),r=s.getUint8(e+1),192===r||193===r||194===r)return[s.getUint16(e+7,!1),s.getUint16(e+5,!1)];s=new DataView(t.buffer,s.byteOffset+e+2)}throw new TypeError(\"Invalid JPG, no size found\")}getChannels(t){return 3}},\"image/png\":new M};class N{static basename(t){const e=t.split(/[\\\\/]/).pop();return e.substring(0,e.lastIndexOf(\".\"))}static extension(t){if(t.startsWith(\"data:image/\")){const e=t.match(/data:(image\\/\\w+)/)[1];return I.mimeTypeToExtension(e)}return t.startsWith(\"data:model/gltf+json\")?\"gltf\":t.startsWith(\"data:model/gltf-binary\")?\"glb\":t.startsWith(\"data:application/\")?\"bin\":t.split(/[\\\\/]/).pop().split(/[.]/).pop()}}function O(t){return\"[object Object]\"===Object.prototype.toString.call(t)}function C(t){if(!1===O(t))return!1;const e=t.constructor;if(void 0===e)return!0;const r=e.prototype;return!1!==O(r)&&!1!==Object.prototype.hasOwnProperty.call(r,\"isPrototypeOf\")}!function(t){t[t.SILENT=4]=\"SILENT\",t[t.ERROR=3]=\"ERROR\",t[t.WARN=2]=\"WARN\",t[t.INFO=1]=\"INFO\",t[t.DEBUG=0]=\"DEBUG\"}(T||(T={}));class F{constructor(t){this.verbosity=void 0,this.verbosity=t}debug(t){this.verbosity<=F.Verbosity.DEBUG&&console.debug(t)}info(t){this.verbosity<=F.Verbosity.INFO&&console.info(t)}warn(t){this.verbosity<=F.Verbosity.WARN&&console.warn(t)}error(t){this.verbosity<=F.Verbosity.ERROR&&console.error(t)}}F.Verbosity=T,F.DEFAULT_INSTANCE=new F(F.Verbosity.INFO);class B{static identity(t){return t}static eq(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(Math.abs(t[r]-e[r])>1e-5)return!1;return!0}static denormalize(t,e){switch(e){case 5126:return t;case 5123:return t/65535;case 5121:return t/255;case 5122:return Math.max(t/32767,-1);case 5120:return Math.max(t/127,-1);default:throw new Error(\"Invalid component type.\")}}static normalize(t,e){switch(e){case 5126:return t;case 5123:return Math.round(65535*t);case 5121:return Math.round(255*t);case 5122:return Math.round(32767*t);case 5120:return Math.round(127*t);default:throw new Error(\"Invalid component type.\")}}static decompose(t,e,r,s){let n=c([t[0],t[1],t[2]]);const i=c([t[4],t[5],t[6]]),o=c([t[8],t[9],t[10]]);h(t)<0&&(n=-n),e[0]=t[12],e[1]=t[13],e[2]=t[14];const a=t.slice(),u=1/n,f=1/i,d=1/o;a[0]*=u,a[1]*=u,a[2]*=u,a[4]*=f,a[5]*=f,a[6]*=f,a[8]*=d,a[9]*=d,a[10]*=d,l(r,a),s[0]=n,s[1]=i,s[2]=o}static compose(t,e,r,s){const n=s,i=e[0],o=e[1],a=e[2],u=e[3],c=i+i,h=o+o,l=a+a,f=i*c,d=i*h,g=i*l,p=o*h,m=o*l,w=a*l,y=u*c,v=u*h,T=u*l,x=r[0],b=r[1],A=r[2];return n[0]=(1-(p+w))*x,n[1]=(d+T)*x,n[2]=(g-v)*x,n[3]=0,n[4]=(d-T)*b,n[5]=(1-(f+w))*b,n[6]=(m+y)*b,n[7]=0,n[8]=(g+v)*A,n[9]=(m-y)*A,n[10]=(1-(f+p))*A,n[11]=0,n[12]=t[0],n[13]=t[1],n[14]=t[2],n[15]=1,n}}function U(t,e){if(!!t!=!!e)return!1;const r=t.getChild(),s=e.getChild();return r===s||r.equals(s)}function P(t,e){if(!!t!=!!e)return!1;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){const s=t[r],n=e[r];if(s.getChild()!==n.getChild()&&!s.getChild().equals(n.getChild()))return!1}return!0}function j(t,e){if(!!t!=!!e)return!1;const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(const r in t){const s=t[r],n=e[r];if(!!s!=!!n)return!1;const i=s.getChild(),o=n.getChild();if(i!==o&&!i.equals(o))return!1}return!0}function L(t,e){if(t===e)return!0;if(!!t!=!!e||!t||!e)return!1;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function _(t,e){if(t===e)return!0;if(!!t!=!!e)return!1;if(!C(t)||!C(e))return t===e;const r=t,s=e;let n,i=0,o=0;for(n in r)i++;for(n in s)o++;if(i!==o)return!1;for(n in r){const t=r[n],e=s[n];if(D(t)&&D(e)){if(!L(t,e))return!1}else if(C(t)&&C(e)){if(!_(t,e))return!1}else if(t!==e)return!1}return!0}function D(t){return Array.isArray(t)||ArrayBuffer.isView(t)}const k=\"23456789abdegjkmnpqrvwxyzABDEGJKMNPQRVWXYZ\",z=new Set,G=function(){let t=\"\";for(let e=0;e<6;e++)t+=k.charAt(Math.floor(Math.random()*k.length));return t},J=function(){for(let t=0;t<999;t++){const t=G();if(!z.has(t))return z.add(t),t}return\"\"};class ${static dirname(t){const e=t.lastIndexOf(\"/\");return-1===e?\"./\":t.substring(0,e+1)}static basename(t){return N.basename(new URL(t,\"https://null.example\").pathname)}static extension(t){return N.extension(new URL(t,\"https://null.example\").pathname)}static resolve(t,e){if(!this.isRelativePath(e))return e;const r=t.split(\"/\"),s=e.split(\"/\");r.pop();for(let t=0;t<s.length;t++)\".\"!==s[t]&&(\"..\"===s[t]?r.pop():r.push(s[t]));return r.join(\"/\")}static isAbsoluteURL(t){return this.PROTOCOL_REGEXP.test(t)}static isRelativePath(t){return!/^(?:[a-zA-Z]+:)?\\//.test(t)}}$.DEFAULT_INIT={},$.PROTOCOL_REGEXP=/^[a-zA-Z]+:\\/\\//;const V=t=>t,q=new Set;class W extends t{constructor(t,r=\"\"){super(t),this[e].name=r,this.init(),this.dispatchEvent({type:\"create\"})}getDefaults(){return Object.assign(super.getDefaults(),{name:\"\",extras:{}})}getName(){return this.get(\"name\")}setName(t){return this.set(\"name\",t)}getExtras(){return this.get(\"extras\")}setExtras(t){return this.set(\"extras\",t)}clone(){return new(0,this.constructor)(this.graph).copy(this,V)}copy(t,o=V){for(const t in this[e]){const o=this[e][t];if(o instanceof r)this[s].has(t)||o.dispose();else if(n(o))for(const t of o)t.dispose();else if(i(o))for(const t in o)o[t].dispose()}for(const a in t[e]){const u=this[e][a],c=t[e][a];if(c instanceof r)this[s].has(a)?u.getChild().copy(o(c.getChild()),o):this.setRef(a,o(c.getChild()),c.getAttributes());else if(n(c))for(const t of c)this.addRef(a,o(t.getChild()),t.getAttributes());else if(i(c))for(const t in c){const e=c[t];this.setRefMap(a,t,o(e.getChild()),e.getAttributes())}else this[e][a]=C(c)?JSON.parse(JSON.stringify(c)):Array.isArray(c)||c instanceof ArrayBuffer||ArrayBuffer.isView(c)?c.slice():c}return this}equals(t,r=q){if(this===t)return!0;if(this.propertyType!==t.propertyType)return!1;for(const s in this[e]){if(r.has(s))continue;const a=this[e][s],u=t[e][s];if(o(a)||o(u)){if(!U(a,u))return!1}else if(n(a)||n(u)){if(!P(a,u))return!1}else if(i(a)||i(u)){if(!j(a,u))return!1}else if(C(a)||C(u)){if(!_(a,u))return!1}else if(D(a)||D(u)){if(!L(a,u))return!1}else if(a!==u)return!1}return!0}detach(){return this.graph.disconnectParents(this,t=>\"Root\"!==t.propertyType),this}listParents(){return this.graph.listParents(this)}}class H extends W{getDefaults(){return Object.assign(super.getDefaults(),{extensions:{}})}getExtension(t){return this.getRefMap(\"extensions\",t)}setExtension(t,e){return e&&e.t(this),this.setRefMap(\"extensions\",t,e)}listExtensions(){return this.listRefMapValues(\"extensions\")}}class Y extends H{constructor(...t){super(...t),this.i=B.identity,this.o=B.identity}init(){this.propertyType=p.ACCESSOR}getDefaults(){return Object.assign(super.getDefaults(),{array:null,type:Y.Type.SCALAR,componentType:Y.ComponentType.FLOAT,normalized:!1,buffer:null})}copy(t,e=V){return super.copy(t,e),this.i=t.i,this.o=t.o,this}static getElementSize(t){switch(t){case Y.Type.SCALAR:return 1;case Y.Type.VEC2:return 2;case Y.Type.VEC3:return 3;case Y.Type.VEC4:case Y.Type.MAT2:return 4;case Y.Type.MAT3:return 9;case Y.Type.MAT4:return 16;default:throw new Error(\"Unexpected type: \"+t)}}static getComponentSize(t){switch(t){case Y.ComponentType.BYTE:case Y.ComponentType.UNSIGNED_BYTE:return 1;case Y.ComponentType.SHORT:case Y.ComponentType.UNSIGNED_SHORT:return 2;case Y.ComponentType.UNSIGNED_INT:case Y.ComponentType.FLOAT:return 4;default:throw new Error(\"Unexpected component type: \"+t)}}getMinNormalized(t){const e=this.getElementSize();this.getMin(t);for(let r=0;r<e;r++)t[r]=this.o(t[r]);return t}getMin(t){const e=this.get(\"array\"),r=this.getCount(),s=this.getElementSize();for(let e=0;e<s;e++)t[e]=Infinity;for(let n=0;n<r*s;n+=s)for(let r=0;r<s;r++){const s=e[n+r];Number.isFinite(s)&&(t[r]=Math.min(t[r],s))}return t}getMaxNormalized(t){const e=this.getElementSize();this.getMax(t);for(let r=0;r<e;r++)t[r]=this.o(t[r]);return t}getMax(t){const e=this.get(\"array\"),r=this.getCount(),s=this.getElementSize();for(let e=0;e<s;e++)t[e]=-Infinity;for(let n=0;n<r*s;n+=s)for(let r=0;r<s;r++){const s=e[n+r];Number.isFinite(s)&&(t[r]=Math.max(t[r],s))}return t}getCount(){const t=this.get(\"array\");return t?t.length/this.getElementSize():0}getType(){return this.get(\"type\")}setType(t){return this.set(\"type\",t)}getElementSize(){return Y.getElementSize(this.get(\"type\"))}getComponentSize(){return this.get(\"array\").BYTES_PER_ELEMENT}getComponentType(){return this.get(\"componentType\")}getNormalized(){return this.get(\"normalized\")}setNormalized(t){return this.set(\"normalized\",t),t?(this.o=t=>B.denormalize(t,this.get(\"componentType\")),this.i=t=>B.normalize(t,this.get(\"componentType\"))):(this.o=B.identity,this.i=B.identity),this}getScalar(t){const e=this.getElementSize();return this.o(this.get(\"array\")[t*e])}setScalar(t,e){return this.get(\"array\")[t*this.getElementSize()]=this.i(e),this}getElement(t,e){const r=this.getElementSize(),s=this.get(\"array\");for(let n=0;n<r;n++)e[n]=this.o(s[t*r+n]);return e}setElement(t,e){const r=this.getElementSize(),s=this.get(\"array\");for(let n=0;n<r;n++)s[t*r+n]=this.i(e[n]);return this}getBuffer(){return this.getRef(\"buffer\")}setBuffer(t){return this.setRef(\"buffer\",t)}getArray(){return this.get(\"array\")}setArray(t){return this.set(\"componentType\",t?function(t){switch(t.constructor){case Float32Array:return Y.ComponentType.FLOAT;case Uint32Array:return Y.ComponentType.UNSIGNED_INT;case Uint16Array:return Y.ComponentType.UNSIGNED_SHORT;case Uint8Array:return Y.ComponentType.UNSIGNED_BYTE;case Int16Array:return Y.ComponentType.SHORT;case Int8Array:return Y.ComponentType.BYTE;default:throw new Error(\"Unknown accessor componentType.\")}}(t):Y.ComponentType.FLOAT),this.set(\"array\",t),this}getByteLength(){const t=this.get(\"array\");return t?t.byteLength:0}}Y.Type={SCALAR:\"SCALAR\",VEC2:\"VEC2\",VEC3:\"VEC3\",VEC4:\"VEC4\",MAT2:\"MAT2\",MAT3:\"MAT3\",MAT4:\"MAT4\"},Y.ComponentType={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126};class Z extends H{init(){this.propertyType=p.ANIMATION}getDefaults(){return Object.assign(super.getDefaults(),{channels:[],samplers:[]})}addChannel(t){return this.addRef(\"channels\",t)}removeChannel(t){return this.removeRef(\"channels\",t)}listChannels(){return this.listRefs(\"channels\")}addSampler(t){return this.addRef(\"samplers\",t)}removeSampler(t){return this.removeRef(\"samplers\",t)}listSamplers(){return this.listRefs(\"samplers\")}}class K extends H{init(){this.propertyType=p.ANIMATION_CHANNEL}getDefaults(){return Object.assign(super.getDefaults(),{targetPath:null,targetNode:null,sampler:null})}getTargetPath(){return this.get(\"targetPath\")}setTargetPath(t){return this.set(\"targetPath\",t)}getTargetNode(){return this.getRef(\"targetNode\")}setTargetNode(t){return this.setRef(\"targetNode\",t)}getSampler(){return this.getRef(\"sampler\")}setSampler(t){return this.setRef(\"sampler\",t)}}K.TargetPath={TRANSLATION:\"translation\",ROTATION:\"rotation\",SCALE:\"scale\",WEIGHTS:\"weights\"};class Q extends H{init(){this.propertyType=p.ANIMATION_SAMPLER}getDefaultAttributes(){return Object.assign(super.getDefaults(),{interpolation:Q.Interpolation.LINEAR,input:null,output:null})}getInterpolation(){return this.get(\"interpolation\")}setInterpolation(t){return this.set(\"interpolation\",t)}getInput(){return this.getRef(\"input\")}setInput(t){return this.setRef(\"input\",t,{usage:w.OTHER})}getOutput(){return this.getRef(\"output\")}setOutput(t){return this.setRef(\"output\",t,{usage:w.OTHER})}}Q.Interpolation={LINEAR:\"LINEAR\",STEP:\"STEP\",CUBICSPLINE:\"CUBICSPLINE\"};class X extends H{init(){this.propertyType=p.BUFFER}getDefaults(){return Object.assign(super.getDefaults(),{uri:\"\"})}getURI(){return this.get(\"uri\")}setURI(t){return this.set(\"uri\",t)}}class tt extends H{init(){this.propertyType=p.CAMERA}getDefaults(){return Object.assign(super.getDefaults(),{type:tt.Type.PERSPECTIVE,znear:.1,zfar:100,aspectRatio:null,yfov:2*Math.PI*50/360,xmag:1,ymag:1})}getType(){return this.get(\"type\")}setType(t){return this.set(\"type\",t)}getZNear(){return this.get(\"znear\")}setZNear(t){return this.set(\"znear\",t)}getZFar(){return this.get(\"zfar\")}setZFar(t){return this.set(\"zfar\",t)}getAspectRatio(){return this.get(\"aspectRatio\")}setAspectRatio(t){return this.set(\"aspectRatio\",t)}getYFov(){return this.get(\"yfov\")}setYFov(t){return this.set(\"yfov\",t)}getXMag(){return this.get(\"xmag\")}setXMag(t){return this.set(\"xmag\",t)}getYMag(){return this.get(\"ymag\")}setYMag(t){return this.set(\"ymag\",t)}}tt.Type={PERSPECTIVE:\"perspective\",ORTHOGRAPHIC:\"orthographic\"};class et extends W{t(t){if(!this.parentTypes.includes(t.propertyType))throw new Error(`Parent \"${t.propertyType}\" invalid for child \"${this.propertyType}\".`)}}et.EXTENSION_NAME=void 0;class rt extends H{init(){this.propertyType=p.TEXTURE_INFO}getDefaults(){return Object.assign(super.getDefaults(),{texCoord:0,magFilter:null,minFilter:null,wrapS:rt.WrapMode.REPEAT,wrapT:rt.WrapMode.REPEAT})}getTexCoord(){return this.get(\"texCoord\")}setTexCoord(t){return this.set(\"texCoord\",t)}getMagFilter(){return this.get(\"magFilter\")}setMagFilter(t){return this.set(\"magFilter\",t)}getMinFilter(){return this.get(\"minFilter\")}setMinFilter(t){return this.set(\"minFilter\",t)}getWrapS(){return this.get(\"wrapS\")}setWrapS(t){return this.set(\"wrapS\",t)}getWrapT(){return this.get(\"wrapT\")}setWrapT(t){return this.set(\"wrapT\",t)}}rt.WrapMode={CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},rt.MagFilter={NEAREST:9728,LINEAR:9729},rt.MinFilter={NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987};const{R:st,G:nt,B:it,A:ot}=y;class at extends H{init(){this.propertyType=p.MATERIAL}getDefaults(){return Object.assign(super.getDefaults(),{alphaMode:at.AlphaMode.OPAQUE,alphaCutoff:.5,doubleSided:!1,baseColorFactor:[1,1,1,1],baseColorTexture:null,baseColorTextureInfo:new rt(this.graph,\"baseColorTextureInfo\"),emissiveFactor:[0,0,0],emissiveTexture:null,emissiveTextureInfo:new rt(this.graph,\"emissiveTextureInfo\"),normalScale:1,normalTexture:null,normalTextureInfo:new rt(this.graph,\"normalTextureInfo\"),occlusionStrength:1,occlusionTexture:null,occlusionTextureInfo:new rt(this.graph,\"occlusionTextureInfo\"),roughnessFactor:1,metallicFactor:1,metallicRoughnessTexture:null,metallicRoughnessTextureInfo:new rt(this.graph,\"metallicRoughnessTextureInfo\")})}getDoubleSided(){return this.get(\"doubleSided\")}setDoubleSided(t){return this.set(\"doubleSided\",t)}getAlpha(){return this.get(\"baseColorFactor\")[3]}setAlpha(t){const e=this.get(\"baseColorFactor\").slice();return e[3]=t,this.set(\"baseColorFactor\",e)}getAlphaMode(){return this.get(\"alphaMode\")}setAlphaMode(t){return this.set(\"alphaMode\",t)}getAlphaCutoff(){return this.get(\"alphaCutoff\")}setAlphaCutoff(t){return this.set(\"alphaCutoff\",t)}getBaseColorFactor(){return this.get(\"baseColorFactor\")}setBaseColorFactor(t){return this.set(\"baseColorFactor\",t)}getBaseColorHex(){return S.factorToHex(this.get(\"baseColorFactor\"))}setBaseColorHex(t){const e=this.get(\"baseColorFactor\").slice();return this.set(\"baseColorFactor\",S.hexToFactor(t,e))}getBaseColorTexture(){return this.getRef(\"baseColorTexture\")}getBaseColorTextureInfo(){return this.getRef(\"baseColorTexture\")?this.getRef(\"baseColorTextureInfo\"):null}setBaseColorTexture(t){return this.setRef(\"baseColorTexture\",t,{channels:st|nt|it|ot})}getEmissiveFactor(){return this.get(\"emissiveFactor\")}setEmissiveFactor(t){return this.set(\"emissiveFactor\",t)}getEmissiveHex(){return S.factorToHex(this.get(\"emissiveFactor\"))}setEmissiveHex(t){const e=this.get(\"emissiveFactor\").slice();return this.set(\"emissiveFactor\",S.hexToFactor(t,e))}getEmissiveTexture(){return this.getRef(\"emissiveTexture\")}getEmissiveTextureInfo(){return this.getRef(\"emissiveTexture\")?this.getRef(\"emissiveTextureInfo\"):null}setEmissiveTexture(t){return this.setRef(\"emissiveTexture\",t,{channels:st|nt|it})}getNormalScale(){return this.get(\"normalScale\")}setNormalScale(t){return this.set(\"normalScale\",t)}getNormalTexture(){return this.getRef(\"normalTexture\")}getNormalTextureInfo(){return this.getRef(\"normalTexture\")?this.getRef(\"normalTextureInfo\"):null}setNormalTexture(t){return this.setRef(\"normalTexture\",t,{channels:st|nt|it})}getOcclusionStrength(){return this.get(\"occlusionStrength\")}setOcclusionStrength(t){return this.set(\"occlusionStrength\",t)}getOcclusionTexture(){return this.getRef(\"occlusionTexture\")}getOcclusionTextureInfo(){return this.getRef(\"occlusionTexture\")?this.getRef(\"occlusionTextureInfo\"):null}setOcclusionTexture(t){return this.setRef(\"occlusionTexture\",t,{channels:st})}getRoughnessFactor(){return this.get(\"roughnessFactor\")}setRoughnessFactor(t){return this.set(\"roughnessFactor\",t)}getMetallicFactor(){return this.get(\"metallicFactor\")}setMetallicFactor(t){return this.set(\"metallicFactor\",t)}getMetallicRoughnessTexture(){return this.getRef(\"metallicRoughnessTexture\")}getMetallicRoughnessTextureInfo(){return this.getRef(\"metallicRoughnessTexture\")?this.getRef(\"metallicRoughnessTextureInfo\"):null}setMetallicRoughnessTexture(t){return this.setRef(\"metallicRoughnessTexture\",t,{channels:nt|it})}}at.AlphaMode={OPAQUE:\"OPAQUE\",MASK:\"MASK\",BLEND:\"BLEND\"};class ut extends H{init(){this.propertyType=p.MESH}getDefaults(){return Object.assign(super.getDefaults(),{weights:[],primitives:[]})}addPrimitive(t){return this.addRef(\"primitives\",t)}removePrimitive(t){return this.removeRef(\"primitives\",t)}listPrimitives(){return this.listRefs(\"primitives\")}getWeights(){return this.get(\"weights\")}setWeights(t){return this.set(\"weights\",t)}}class ct extends H{constructor(...t){super(...t),this.u=null}init(){this.propertyType=p.NODE}getDefaults(){return Object.assign(super.getDefaults(),{translation:[0,0,0],rotation:[0,0,0,1],scale:[1,1,1],weights:[],camera:null,mesh:null,skin:null,children:[]})}copy(t,e=V){if(e===V)throw new Error(\"Node cannot be copied.\");return super.copy(t,e)}getTranslation(){return this.get(\"translation\")}getRotation(){return this.get(\"rotation\")}getScale(){return this.get(\"scale\")}setTranslation(t){return this.set(\"translation\",t)}setRotation(t){return this.set(\"rotation\",t)}setScale(t){return this.set(\"scale\",t)}getMatrix(){return B.compose(this.get(\"translation\"),this.get(\"rotation\"),this.get(\"scale\"),[])}setMatrix(t){const e=this.get(\"translation\").slice(),r=this.get(\"rotation\").slice(),s=this.get(\"scale\").slice();return B.decompose(t,e,r,s),this.set(\"translation\",e).set(\"rotation\",r).set(\"scale\",s)}getWorldTranslation(){const t=[0,0,0];return B.decompose(this.getWorldMatrix(),t,[0,0,0,1],[1,1,1]),t}getWorldRotation(){const t=[0,0,0,1];return B.decompose(this.getWorldMatrix(),[0,0,0],t,[1,1,1]),t}getWorldScale(){const t=[1,1,1];return B.decompose(this.getWorldMatrix(),[0,0,0],[0,0,0,1],t),t}getWorldMatrix(){const t=[];for(let e=this;e instanceof ct;e=e.u)t.push(e);let e;const r=t.pop().getMatrix();for(;e=t.pop();)f(r,r,e.getMatrix());return r}addChild(t){t.u&&t.u.removeChild(t),this.addRef(\"children\",t),t.u=this;const r=this[e].children;return r[r.length-1].addEventListener(\"dispose\",()=>t.u=null),this}removeChild(t){return this.removeRef(\"children\",t)}listChildren(){return this.listRefs(\"children\")}getParent(){return this.u}getMesh(){return this.getRef(\"mesh\")}setMesh(t){return this.setRef(\"mesh\",t)}getCamera(){return this.getRef(\"camera\")}setCamera(t){return this.setRef(\"camera\",t)}getSkin(){return this.getRef(\"skin\")}setSkin(t){return this.setRef(\"skin\",t)}getWeights(){return this.get(\"weights\")}setWeights(t){return this.set(\"weights\",t)}traverse(t){t(this);for(const e of this.listChildren())e.traverse(t);return this}}class ht extends H{init(){this.propertyType=p.PRIMITIVE}getDefaults(){return Object.assign(super.getDefaults(),{mode:ht.Mode.TRIANGLES,material:null,indices:null,attributes:{},targets:[]})}getIndices(){return this.getRef(\"indices\")}setIndices(t){return this.setRef(\"indices\",t,{usage:w.ELEMENT_ARRAY_BUFFER})}getAttribute(t){return this.getRefMap(\"attributes\",t)}setAttribute(t,e){return this.setRefMap(\"attributes\",t,e,{usage:w.ARRAY_BUFFER})}listAttributes(){return this.listRefMapValues(\"attributes\")}listSemantics(){return this.listRefMapKeys(\"attributes\")}getMaterial(){return this.getRef(\"material\")}setMaterial(t){return this.setRef(\"material\",t)}getMode(){return this.get(\"mode\")}setMode(t){return this.set(\"mode\",t)}listTargets(){return this.listRefs(\"targets\")}addTarget(t){return this.addRef(\"targets\",t)}removeTarget(t){return this.removeRef(\"targets\",t)}}ht.Mode={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};class lt extends W{init(){this.propertyType=p.PRIMITIVE_TARGET}getDefaults(){return Object.assign(super.getDefaults(),{attributes:{}})}getAttribute(t){return this.getRefMap(\"attributes\",t)}setAttribute(t,e){return this.setRefMap(\"attributes\",t,e,{usage:w.ARRAY_BUFFER})}listAttributes(){return this.listRefMapValues(\"attributes\")}listSemantics(){return this.listRefMapKeys(\"attributes\")}}function ft(){return(ft=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t}).apply(this,arguments)}class dt extends H{init(){this.propertyType=p.SCENE}getDefaults(){return Object.assign(super.getDefaults(),{children:[]})}copy(t,e=V){if(e===V)throw new Error(\"Scene cannot be copied.\");return super.copy(t,e)}addChild(t){t.u&&t.u.removeChild(t),this.addRef(\"children\",t),t.u=this;const r=this[e].children;return r[r.length-1].addEventListener(\"dispose\",()=>t.u=null),this}removeChild(t){return this.removeRef(\"children\",t)}listChildren(){return this.listRefs(\"children\")}traverse(t){for(const e of this.listChildren())e.traverse(t);return this}}class gt extends H{init(){this.propertyType=p.SKIN}getDefaults(){return Object.assign(super.getDefaults(),{skeleton:null,inverseBindMatrices:null,joints:[]})}getSkeleton(){return this.getRef(\"skeleton\")}setSkeleton(t){return this.setRef(\"skeleton\",t)}getInverseBindMatrices(){return this.getRef(\"inverseBindMatrices\")}setInverseBindMatrices(t){return this.setRef(\"inverseBindMatrices\",t,{usage:w.INVERSE_BIND_MATRICES})}addJoint(t){return this.addRef(\"joints\",t)}removeJoint(t){return this.removeRef(\"joints\",t)}listJoints(){return this.listRefs(\"joints\")}}class pt extends H{init(){this.propertyType=p.TEXTURE}getDefaults(){return Object.assign(super.getDefaults(),{image:null,mimeType:\"\",uri:\"\"})}getMimeType(){return this.get(\"mimeType\")||I.extensionToMimeType(N.extension(this.get(\"uri\")))}setMimeType(t){return this.set(\"mimeType\",t)}getURI(){return this.get(\"uri\")}setURI(t){return this.set(\"uri\",t),this.set(\"mimeType\",I.extensionToMimeType(N.extension(t))),this}getImage(){return this.get(\"image\")}setImage(t){return this.set(\"image\",E.assertView(t))}getSize(){const t=this.get(\"image\");return t?I.getSize(t,this.getMimeType()):null}}class mt extends H{init(){this.propertyType=p.ROOT}getDefaults(){return Object.assign(super.getDefaults(),{asset:{generator:\"glTF-Transform v2.4.3\",version:\"2.0\"},defaultScene:null,accessors:[],animations:[],buffers:[],cameras:[],materials:[],meshes:[],nodes:[],scenes:[],skins:[],textures:[]})}constructor(t){super(t),this.h=new Set,t.addEventListener(\"node:create\",t=>{this.l(t.target)})}clone(){throw new Error(\"Root cannot be cloned.\")}copy(t,e=V){if(e===V)throw new Error(\"Root cannot be copied.\");this.set(\"asset\",ft({},t.get(\"asset\"))),this.setName(t.getName()),this.setExtras(ft({},t.getExtras())),this.setDefaultScene(t.getDefaultScene()?e(t.getDefaultScene()):null);for(const r of t.listRefMapKeys(\"extensions\")){const s=t.getExtension(r);this.setExtension(r,e(s))}return this}l(t){return t instanceof dt?this.addRef(\"scenes\",t):t instanceof ct?this.addRef(\"nodes\",t):t instanceof tt?this.addRef(\"cameras\",t):t instanceof gt?this.addRef(\"skins\",t):t instanceof ut?this.addRef(\"meshes\",t):t instanceof at?this.addRef(\"materials\",t):t instanceof pt?this.addRef(\"textures\",t):t instanceof Z?this.addRef(\"animations\",t):t instanceof Y?this.addRef(\"accessors\",t):t instanceof X&&this.addRef(\"buffers\",t),this}getAsset(){return this.get(\"asset\")}listExtensionsUsed(){return Array.from(this.h)}listExtensionsRequired(){return this.listExtensionsUsed().filter(t=>t.isRequired())}g(t){return this.h.add(t),this}p(t){return this.h.delete(t),this}listScenes(){return this.listRefs(\"scenes\")}setDefaultScene(t){return this.setRef(\"defaultScene\",t)}getDefaultScene(){return this.getRef(\"defaultScene\")}listNodes(){return this.listRefs(\"nodes\")}listCameras(){return this.listRefs(\"cameras\")}listSkins(){return this.listRefs(\"skins\")}listMeshes(){return this.listRefs(\"meshes\")}listMaterials(){return this.listRefs(\"materials\")}listTextures(){return this.listRefs(\"textures\")}listAnimations(){return this.listRefs(\"animations\")}listAccessors(){return this.listRefs(\"accessors\")}listBuffers(){return this.listRefs(\"buffers\")}}class wt{constructor(){this.m=new a,this.v=new mt(this.m),this.T=F.DEFAULT_INSTANCE}getRoot(){return this.v}getGraph(){return this.m}getLogger(){return this.T}setLogger(t){return this.T=t,this}clone(){return(new wt).setLogger(this.T).merge(this)}merge(t){for(const e of t.getRoot().listExtensionsUsed()){const t=this.createExtension(e.constructor);e.isRequired()&&t.setRequired(!0)}const e=new Set,r=new Map;e.add(t.v),r.set(t.v,this.v);for(const s of t.m.listEdges())for(const t of[s.getParent(),s.getChild()]){if(e.has(t))continue;let s;s=t.propertyType===p.TEXTURE_INFO?t:new(0,t.constructor)(this.m),r.set(t,s),e.add(t)}const s=t=>{const e=r.get(t);if(!e)throw new Error(\"Could resolve property.\");return e};for(const t of e){const e=r.get(t);if(!e)throw new Error(\"Could resolve property.\");e.propertyType!==p.TEXTURE_INFO&&e.copy(t,s)}return this}async transform(...t){const e=t.map(t=>t.name);for(const r of t)await r(this,{stack:e});return this}createExtension(t){const e=t.EXTENSION_NAME;return this.getRoot().listExtensionsUsed().find(t=>t.extensionName===e)||new t(this)}createScene(t=\"\"){return new dt(this.m,t)}createNode(t=\"\"){return new ct(this.m,t)}createCamera(t=\"\"){return new tt(this.m,t)}createSkin(t=\"\"){return new gt(this.m,t)}createMesh(t=\"\"){return new ut(this.m,t)}createPrimitive(){return new ht(this.m)}createPrimitiveTarget(t=\"\"){return new lt(this.m,t)}createMaterial(t=\"\"){return new at(this.m,t)}createTexture(t=\"\"){return new pt(this.m,t)}createAnimation(t=\"\"){return new Z(this.m,t)}createAnimationChannel(t=\"\"){return new K(this.m,t)}createAnimationSampler(t=\"\"){return new Q(this.m,t)}createAccessor(t=\"\",e=null){return e||(e=this.getRoot().listBuffers()[0]),new Y(this.m,t).setBuffer(e)}createBuffer(t=\"\"){return new X(this.m,t)}}class yt{constructor(t){this.extensionName=\"\",this.prereadTypes=[],this.prewriteTypes=[],this.readDependencies=[],this.writeDependencies=[],this.document=void 0,this.required=!1,this.properties=new Set,this.S=void 0,this.document=t,t.getRoot().g(this),this.S=t=>{const e=t,r=e.target;r instanceof et&&r.extensionName===this.extensionName&&(\"node:create\"===e.type&&this.M(r),\"node:dispose\"===e.type&&this.I(r))};const e=t.getGraph();e.addEventListener(\"node:create\",this.S),e.addEventListener(\"node:dispose\",this.S)}dispose(){this.document.getRoot().p(this);const t=this.document.getGraph();t.removeEventListener(\"node:create\",this.S),t.removeEventListener(\"node:dispose\",this.S);for(const t of this.properties)t.dispose()}static register(){}isRequired(){return this.required}setRequired(t){return this.required=t,this}M(t){return this.properties.add(t),this}I(t){return this.properties.delete(t),this}install(t,e){return this}preread(t,e){return this}prewrite(t,e){return this}}yt.EXTENSION_NAME=void 0;class vt{constructor(t){this.jsonDoc=void 0,this.buffers=[],this.bufferViews=[],this.bufferViewBuffers=[],this.accessors=[],this.textures=[],this.textureInfos=new Map,this.materials=[],this.meshes=[],this.cameras=[],this.nodes=[],this.skins=[],this.animations=[],this.scenes=[],this.jsonDoc=t}setTextureInfo(t,e){this.textureInfos.set(t,e),void 0!==e.texCoord&&t.setTexCoord(e.texCoord),void 0!==e.extras&&t.setExtras(e.extras);const r=this.jsonDoc.json.textures[e.index];if(void 0===r.sampler)return;const s=this.jsonDoc.json.samplers[r.sampler];void 0!==s.magFilter&&t.setMagFilter(s.magFilter),void 0!==s.minFilter&&t.setMinFilter(s.minFilter),void 0!==s.wrapS&&t.setWrapS(s.wrapS),void 0!==s.wrapT&&t.setWrapT(s.wrapT)}}const Tt={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},xt={logger:F.DEFAULT_INSTANCE,extensions:[],dependencies:{}};function bt(t,e){const r=e.bufferViews[t.bufferView],s=e.jsonDoc.json.bufferViews[t.bufferView],n=Tt[t.componentType],i=Y.getElementSize(t.type),o=n.BYTES_PER_ELEMENT;if(void 0!==s.byteStride&&s.byteStride!==i*o)return function(t,e){const r=e.bufferViews[t.bufferView],s=e.jsonDoc.json.bufferViews[t.bufferView],n=Tt[t.componentType],i=Y.getElementSize(t.type),o=n.BYTES_PER_ELEMENT,a=t.byteOffset||0,u=new n(t.count*i),c=new DataView(r.buffer,r.byteOffset,r.byteLength),h=s.byteStride;for(let e=0;e<t.count;e++)for(let r=0;r<i;r++){const s=a+e*h+r*o;let n;switch(t.componentType){case Y.ComponentType.FLOAT:n=c.getFloat32(s,!0);break;case Y.ComponentType.UNSIGNED_INT:n=c.getUint32(s,!0);break;case Y.ComponentType.UNSIGNED_SHORT:n=c.getUint16(s,!0);break;case Y.ComponentType.UNSIGNED_BYTE:n=c.getUint8(s);break;case Y.ComponentType.SHORT:n=c.getInt16(s,!0);break;case Y.ComponentType.BYTE:n=c.getInt8(s);break;default:throw new Error(`Unexpected componentType \"${t.componentType}\".`)}u[e*i+r]=n}return u}(t,e);const a=r.byteOffset+(t.byteOffset||0);return new n(r.buffer.slice(a,a+t.count*i*o))}var At;!function(t){t[t.ARRAY_BUFFER=34962]=\"ARRAY_BUFFER\",t[t.ELEMENT_ARRAY_BUFFER=34963]=\"ELEMENT_ARRAY_BUFFER\"}(At||(At={}));class Et{constructor(t,e,r){this.N=void 0,this.jsonDoc=void 0,this.options=void 0,this.accessorIndexMap=new Map,this.animationIndexMap=new Map,this.bufferIndexMap=new Map,this.cameraIndexMap=new Map,this.skinIndexMap=new Map,this.materialIndexMap=new Map,this.meshIndexMap=new Map,this.nodeIndexMap=new Map,this.imageIndexMap=new Map,this.textureDefIndexMap=new Map,this.textureInfoDefMap=new Map,this.samplerDefIndexMap=new Map,this.sceneIndexMap=new Map,this.imageBufferViews=[],this.otherBufferViews=new Map,this.otherBufferViewsIndexMap=new Map,this.extensionData={},this.bufferURIGenerator=void 0,this.imageURIGenerator=void 0,this.logger=void 0,this.O=new Map,this.accessorUsageGroupedByParent=new Set([\"ARRAY_BUFFER\"]),this.accessorParents=new Map,this.N=t,this.jsonDoc=e,this.options=r;const s=t.getRoot(),n=s.listBuffers().length,i=s.listTextures().length;this.bufferURIGenerator=new St(n>1,()=>r.basename||\"buffer\"),this.imageURIGenerator=new St(i>1,e=>function(t,e){const r=t.getGraph().listParentEdges(e).find(e=>e.getParent()!==t.getRoot());return r?r.getName().replace(/texture$/i,\"\"):\"\"}(t,e)||r.basename||\"texture\"),this.logger=t.getLogger()}createTextureInfoDef(t,e){const r={magFilter:e.getMagFilter()||void 0,minFilter:e.getMinFilter()||void 0,wrapS:e.getWrapS(),wrapT:e.getWrapT()},s=JSON.stringify(r);this.samplerDefIndexMap.has(s)||(this.samplerDefIndexMap.set(s,this.jsonDoc.json.samplers.length),this.jsonDoc.json.samplers.push(r));const n={source:this.imageIndexMap.get(t),sampler:this.samplerDefIndexMap.get(s)},i=JSON.stringify(n);this.textureDefIndexMap.has(i)||(this.textureDefIndexMap.set(i,this.jsonDoc.json.textures.length),this.jsonDoc.json.textures.push(n));const o={index:this.textureDefIndexMap.get(i)};return 0!==e.getTexCoord()&&(o.texCoord=e.getTexCoord()),Object.keys(e.getExtras()).length>0&&(o.extras=e.getExtras()),this.textureInfoDefMap.set(e,o),o}createPropertyDef(t){const e={};return t.getName()&&(e.name=t.getName()),Object.keys(t.getExtras()).length>0&&(e.extras=t.getExtras()),e}createAccessorDef(t){const e=this.createPropertyDef(t);return e.type=t.getType(),e.componentType=t.getComponentType(),e.count=t.getCount(),this.N.getGraph().listParentEdges(t).some(t=>\"attributes\"===t.getName()&&\"POSITION\"===t.getAttributes().key||\"input\"===t.getName())&&(e.max=t.getMax([]).map(Math.fround),e.min=t.getMin([]).map(Math.fround)),t.getNormalized()&&(e.normalized=t.getNormalized()),e}createImageData(t,e,r){if(this.options.format===v.GLB)this.imageBufferViews.push(e),t.bufferView=this.jsonDoc.json.bufferViews.length,this.jsonDoc.json.bufferViews.push({buffer:0,byteOffset:-1,byteLength:e.byteLength});else{const s=I.mimeTypeToExtension(r.getMimeType());t.uri=this.imageURIGenerator.createURI(r,s),this.jsonDoc.resources[t.uri]=e}}getAccessorUsage(t){const e=this.O.get(t);if(e)return e;for(const e of this.N.getGraph().listParentEdges(t)){const{usage:t}=e.getAttributes();if(t)return t;e.getParent().propertyType!==p.ROOT&&this.N.getLogger().warn(`Missing attribute \".usage\" on edge, \"${e.getName()}\".`)}return Et.BufferViewUsage.OTHER}addAccessorToUsageGroup(t,e){const r=this.O.get(t);if(r&&r!==e)throw new Error(`Accessor with usage \"${r}\" cannot be reused as \"${e}\".`);return this.O.set(t,e),this}listAccessorUsageGroups(){const t={};for(const[e,r]of Array.from(this.O.entries()))t[r]=t[r]||[],t[r].push(e);return t}}Et.BufferViewTarget=At,Et.BufferViewUsage=w,Et.USAGE_TO_TARGET={[w.ARRAY_BUFFER]:At.ARRAY_BUFFER,[w.ELEMENT_ARRAY_BUFFER]:At.ELEMENT_ARRAY_BUFFER};class St{constructor(t,e){this.multiple=void 0,this.basename=void 0,this.counter={},this.multiple=t,this.basename=e}createURI(t,e){if(t.getURI())return t.getURI();if(this.multiple){const r=this.basename(t);return this.counter[r]=this.counter[r]||1,`${r}_${this.counter[r]++}.${e}`}return`${this.basename(t)}.${e}`}}const{BufferViewUsage:Mt}=Et;var It;!function(t){t[t.JSON=1313821514]=\"JSON\",t[t.BIN=5130562]=\"BIN\"}(It||(It={}));class Rt{constructor(){this.T=F.DEFAULT_INSTANCE,this.h=new Set,this.C={},this.F=m.INTERLEAVED,this.lastReadBytes=0,this.lastWriteBytes=0}setLogger(t){return this.T=t,this}registerExtensions(t){for(const e of t)this.h.add(e),e.register();return this}registerDependencies(t){return Object.assign(this.C,t),this}setVertexLayout(t){return this.F=t,this}async read(t){return await this.readJSON(await this.readAsJSON(t))}async readAsJSON(t){return t.match(/^data:application\\/octet-stream;/)||this.detectFormat(t)===v.GLB?this.U(t):this.P(t)}async readJSON(t){return t=this.j(t),this.L(t),class{static read(t,e=xt){const r=ft({},xt,e),{json:s}=t,n=new wt;this.validate(t,r);const i=new vt(t),o=s.asset,a=n.getRoot().getAsset();o.copyright&&(a.copyright=o.copyright),o.extras&&(a.extras=o.extras),void 0!==s.extras&&n.getRoot().setExtras(ft({},s.extras));const u=s.extensionsUsed||[],c=s.extensionsRequired||[];for(const t of r.extensions)if(u.includes(t.EXTENSION_NAME)){const e=n.createExtension(t).setRequired(c.includes(t.EXTENSION_NAME));for(const t of e.readDependencies)e.install(t,r.dependencies[t])}const h=s.buffers||[];n.getRoot().listExtensionsUsed().filter(t=>t.prereadTypes.includes(p.BUFFER)).forEach(t=>t.preread(i,p.BUFFER)),i.buffers=h.map(t=>{const e=n.createBuffer(t.name);return t.extras&&e.setExtras(t.extras),t.uri&&0!==t.uri.indexOf(\"__\")&&e.setURI(t.uri),e}),i.bufferViewBuffers=(s.bufferViews||[]).map((e,r)=>{if(!i.bufferViews[r]){const s=t.json.buffers[e.buffer];i.bufferViews[r]=E.toView(s.uri?t.resources[s.uri]:t.resources[\"@glb.bin\"],e.byteOffset||0,e.byteLength)}return i.buffers[e.buffer]}),i.accessors=(s.accessors||[]).map(t=>{const e=n.createAccessor(t.name,i.bufferViewBuffers[t.bufferView]).setType(t.type);if(t.extras&&e.setExtras(t.extras),void 0!==t.normalized&&e.setNormalized(t.normalized),void 0===t.bufferView&&!t.sparse)return e;let r;return r=void 0!==t.sparse?function(t,e){const r=Tt[t.componentType],s=Y.getElementSize(t.type);let n;n=void 0!==t.bufferView?bt(t,e):new r(t.count*s);const i=t.sparse,o=i.count,a=ft({},t,i.indices,{count:o,type:\"SCALAR\"}),u=ft({},t,i.values,{count:o}),c=bt(a,e),h=bt(u,e);for(let t=0;t<a.count;t++)for(let e=0;e<s;e++)n[c[t]*s+e]=h[t*s+e];return n}(t,i):bt(t,i),e.setArray(r),e});const l=s.images||[],f=s.textures||[];n.getRoot().listExtensionsUsed().filter(t=>t.prereadTypes.includes(p.TEXTURE)).forEach(t=>t.preread(i,p.TEXTURE)),i.textures=l.map(e=>{const r=n.createTexture(e.name);if(e.extras&&r.setExtras(e.extras),void 0!==e.bufferView){const n=s.bufferViews[e.bufferView],i=t.json.buffers[n.buffer],o=n.byteOffset||0,a=(i.uri?t.resources[i.uri]:t.resources[\"@glb.bin\"]).slice(o,o+n.byteLength);r.setImage(a)}else void 0!==e.uri&&(r.setImage(t.resources[e.uri]),0!==e.uri.indexOf(\"__\")&&r.setURI(e.uri));if(void 0!==e.mimeType)r.setMimeType(e.mimeType);else if(e.uri){const t=N.extension(e.uri);r.setMimeType(I.extensionToMimeType(t))}return r}),i.materials=(s.materials||[]).map(t=>{const e=n.createMaterial(t.name);t.extras&&e.setExtras(t.extras),void 0!==t.alphaMode&&e.setAlphaMode(t.alphaMode),void 0!==t.alphaCutoff&&e.setAlphaCutoff(t.alphaCutoff),void 0!==t.doubleSided&&e.setDoubleSided(t.doubleSided);const r=t.pbrMetallicRoughness||{};if(void 0!==r.baseColorFactor&&e.setBaseColorFactor(r.baseColorFactor),void 0!==t.emissiveFactor&&e.setEmissiveFactor(t.emissiveFactor),void 0!==r.metallicFactor&&e.setMetallicFactor(r.metallicFactor),void 0!==r.roughnessFactor&&e.setRoughnessFactor(r.roughnessFactor),void 0!==r.baseColorTexture){const t=r.baseColorTexture;e.setBaseColorTexture(i.textures[f[t.index].source]),i.setTextureInfo(e.getBaseColorTextureInfo(),t)}if(void 0!==t.emissiveTexture){const r=t.emissiveTexture;e.setEmissiveTexture(i.textures[f[r.index].source]),i.setTextureInfo(e.getEmissiveTextureInfo(),r)}if(void 0!==t.normalTexture){const r=t.normalTexture;e.setNormalTexture(i.textures[f[r.index].source]),i.setTextureInfo(e.getNormalTextureInfo(),r),void 0!==t.normalTexture.scale&&e.setNormalScale(t.normalTexture.scale)}if(void 0!==t.occlusionTexture){const r=t.occlusionTexture;e.setOcclusionTexture(i.textures[f[r.index].source]),i.setTextureInfo(e.getOcclusionTextureInfo(),r),void 0!==t.occlusionTexture.strength&&e.setOcclusionStrength(t.occlusionTexture.strength)}if(void 0!==r.metallicRoughnessTexture){const t=r.metallicRoughnessTexture;e.setMetallicRoughnessTexture(i.textures[f[t.index].source]),i.setTextureInfo(e.getMetallicRoughnessTextureInfo(),t)}return e});const d=s.meshes||[];n.getRoot().listExtensionsUsed().filter(t=>t.prereadTypes.includes(p.PRIMITIVE)).forEach(t=>t.preread(i,p.PRIMITIVE)),i.meshes=d.map(t=>{const e=n.createMesh(t.name);return t.extras&&e.setExtras(t.extras),void 0!==t.weights&&e.setWeights(t.weights),(t.primitives||[]).forEach(r=>{const s=n.createPrimitive();r.extras&&s.setExtras(r.extras),void 0!==r.material&&s.setMaterial(i.materials[r.material]),void 0!==r.mode&&s.setMode(r.mode);for(const[t,e]of Object.entries(r.attributes||{}))s.setAttribute(t,i.accessors[e]);void 0!==r.indices&&s.setIndices(i.accessors[r.indices]);const o=t.extras&&t.extras.targetNames||[];(r.targets||[]).forEach((t,e)=>{const r=o[e]||e.toString(),a=n.createPrimitiveTarget(r);for(const[e,r]of Object.entries(t))a.setAttribute(e,i.accessors[r]);s.addTarget(a)}),e.addPrimitive(s)}),e}),i.cameras=(s.cameras||[]).map(t=>{const e=n.createCamera(t.name).setType(t.type);if(t.extras&&e.setExtras(t.extras),t.type===tt.Type.PERSPECTIVE){const r=t.perspective;e.setYFov(r.yfov),e.setZNear(r.znear),void 0!==r.zfar&&e.setZFar(r.zfar),void 0!==r.aspectRatio&&e.setAspectRatio(r.aspectRatio)}else{const r=t.orthographic;e.setZNear(r.znear).setZFar(r.zfar).setXMag(r.xmag).setYMag(r.ymag)}return e});const g=s.nodes||[];n.getRoot().listExtensionsUsed().filter(t=>t.prereadTypes.includes(p.NODE)).forEach(t=>t.preread(i,p.NODE)),i.nodes=g.map(t=>{const e=n.createNode(t.name);if(t.extras&&e.setExtras(t.extras),void 0!==t.translation&&e.setTranslation(t.translation),void 0!==t.rotation&&e.setRotation(t.rotation),void 0!==t.scale&&e.setScale(t.scale),void 0!==t.matrix){const r=[0,0,0],s=[0,0,0,1],n=[1,1,1];B.decompose(t.matrix,r,s,n),e.setTranslation(r),e.setRotation(s),e.setScale(n)}return void 0!==t.weights&&e.setWeights(t.weights),e}),i.skins=(s.skins||[]).map(t=>{const e=n.createSkin(t.name);t.extras&&e.setExtras(t.extras),void 0!==t.inverseBindMatrices&&e.setInverseBindMatrices(i.accessors[t.inverseBindMatrices]),void 0!==t.skeleton&&e.setSkeleton(i.nodes[t.skeleton]);for(const r of t.joints)e.addJoint(i.nodes[r]);return e}),g.map((t,e)=>{const r=i.nodes[e];(t.children||[]).forEach(t=>r.addChild(i.nodes[t])),void 0!==t.mesh&&r.setMesh(i.meshes[t.mesh]),void 0!==t.camera&&r.setCamera(i.cameras[t.camera]),void 0!==t.skin&&r.setSkin(i.skins[t.skin])}),i.animations=(s.animations||[]).map(t=>{const e=n.createAnimation(t.name);t.extras&&e.setExtras(t.extras);const r=(t.samplers||[]).map(t=>{const r=n.createAnimationSampler().setInput(i.accessors[t.input]).setOutput(i.accessors[t.output]).setInterpolation(t.interpolation||Q.Interpolation.LINEAR);return t.extras&&r.setExtras(t.extras),e.addSampler(r),r});return(t.channels||[]).forEach(t=>{const s=n.createAnimationChannel().setSampler(r[t.sampler]).setTargetPath(t.target.path);void 0!==t.target.node&&s.setTargetNode(i.nodes[t.target.node]),t.extras&&s.setExtras(t.extras),e.addChannel(s)}),e});const m=s.scenes||[];return n.getRoot().listExtensionsUsed().filter(t=>t.prereadTypes.includes(p.SCENE)).forEach(t=>t.preread(i,p.SCENE)),i.scenes=m.map(t=>{const e=n.createScene(t.name);return t.extras&&e.setExtras(t.extras),(t.nodes||[]).map(t=>i.nodes[t]).forEach(t=>e.addChild(t)),e}),void 0!==s.scene&&n.getRoot().setDefaultScene(i.scenes[s.scene]),n.getRoot().listExtensionsUsed().forEach(t=>t.read(i)),n}static validate(t,e){const r=t.json;if(\"2.0\"!==r.asset.version)throw new Error(`Unsupported glTF version, \"${r.asset.version}\".`);if(r.extensionsRequired)for(const t of r.extensionsRequired)if(!e.extensions.find(e=>e.EXTENSION_NAME===t))throw new Error(`Missing required extension, \"${t}\".`);if(r.extensionsUsed)for(const t of r.extensionsUsed)e.extensions.find(e=>e.EXTENSION_NAME===t)||e.logger.warn(`Missing optional extension, \"${t}\".`)}}.read(t,{extensions:Array.from(this.h),dependencies:this.C,logger:this.T})}async binaryToJSON(t){const e=this._(E.assertView(t));this.L(e);const r=e.json;if(r.buffers&&r.buffers.some(t=>function(t,e){return void 0!==e.uri&&!(e.uri in t.resources)}(e,t)))throw new Error(\"Cannot resolve external buffers with binaryToJSON().\");if(r.images&&r.images.some(t=>function(t,e){return void 0!==e.uri&&!(e.uri in t.resources)&&void 0===e.bufferView}(e,t)))throw new Error(\"Cannot resolve external images with binaryToJSON().\");return e}async readBinary(t){return this.readJSON(await this.binaryToJSON(E.assertView(t)))}async writeJSON(t,e={}){if(e.format===v.GLB&&t.getRoot().listBuffers().length>1)throw new Error(\"GLB must have 01 buffers.\");return class{static write(t,e){const r=t.getRoot(),s={asset:ft({generator:\"glTF-Transform v2.4.3\"},r.getAsset()),extras:ft({},r.getExtras())},n={json:s,resources:{}},i=new Et(t,n,e),o=e.logger||F.DEFAULT_INSTANCE,a=new Set(e.extensions.map(t=>t.EXTENSION_NAME)),u=t.getRoot().listExtensionsUsed().filter(t=>a.has(t.extensionName)),c=t.getRoot().listExtensionsRequired().filter(t=>a.has(t.extensionName));u.length<t.getRoot().listExtensionsUsed().length&&o.warn(\"Some extensions were not registered for I/O, and will not be written.\");for(const t of u)for(const r of t.writeDependencies)t.install(r,e.dependencies[r]);function h(t,e,r,n){const o=[];let a=0;for(const e of t){const t=i.createAccessorDef(e);t.bufferView=s.bufferViews.length;const r=e.getArray(),n=E.pad(E.toView(r));t.byteOffset=a,a+=n.byteLength,o.push(n),i.accessorIndexMap.set(e,s.accessors.length),s.accessors.push(t)}const u={buffer:e,byteOffset:r,byteLength:E.concat(o).byteLength};return n&&(u.target=n),s.bufferViews.push(u),{buffers:o,byteLength:a}}function l(t,e,r){const n=t[0].getCount();let o=0;for(const e of t){const t=i.createAccessorDef(e);t.bufferView=s.bufferViews.length,t.byteOffset=o;const r=e.getElementSize(),n=e.getComponentSize();o+=E.padNumber(r*n),i.accessorIndexMap.set(e,s.accessors.length),s.accessors.push(t)}const a=n*o,u=new ArrayBuffer(a),c=new DataView(u);for(let e=0;e<n;e++){let r=0;for(const s of t){const t=s.getElementSize(),n=s.getComponentSize(),i=s.getComponentType(),a=s.getArray();for(let s=0;s<t;s++){const u=e*o+r+s*n,h=a[e*t+s];switch(i){case Y.ComponentType.FLOAT:c.setFloat32(u,h,!0);break;case Y.ComponentType.BYTE:c.setInt8(u,h);break;case Y.ComponentType.SHORT:c.setInt16(u,h,!0);break;case Y.ComponentType.UNSIGNED_BYTE:c.setUint8(u,h);break;case Y.ComponentType.UNSIGNED_SHORT:c.setUint16(u,h,!0);break;case Y.ComponentType.UNSIGNED_INT:c.setUint32(u,h,!0);break;default:throw new Error(\"Unexpected component type: \"+i)}}r+=E.padNumber(t*n)}}return s.bufferViews.push({buffer:e,byteOffset:r,byteLength:a,byteStride:o,target:Et.BufferViewTarget.ARRAY_BUFFER}),{byteLength:a,buffers:[new Uint8Array(u)]}}const f=new Map;for(const e of t.getGraph().listEdges()){if(e.getParent()===r)continue;const t=e.getChild();if(t instanceof Y){const r=f.get(t)||[];r.push(e),f.set(t,r)}}if(s.accessors=[],s.bufferViews=[],s.samplers=[],s.textures=[],s.images=r.listTextures().map((t,e)=>{const r=i.createPropertyDef(t);t.getMimeType()&&(r.mimeType=t.getMimeType());const s=t.getImage();return s&&i.createImageData(r,s,t),i.imageIndexMap.set(t,e),r}),u.filter(t=>t.prewriteTypes.includes(p.ACCESSOR)).forEach(t=>t.prewrite(i,p.ACCESSOR)),r.listAccessors().forEach(t=>{const e=i.accessorUsageGroupedByParent,r=i.accessorParents;if(i.accessorIndexMap.has(t))return;const s=f.get(t)||[],n=i.getAccessorUsage(t);if(i.addAccessorToUsageGroup(t,n),e.has(n)){const e=s[0].getParent(),n=r.get(e)||new Set;n.add(t),r.set(e,n)}}),u.filter(t=>t.prewriteTypes.includes(p.BUFFER)).forEach(t=>t.prewrite(i,p.BUFFER)),(r.listAccessors().length>0||r.listTextures().length>0||i.otherBufferViews.size>0)&&0===r.listBuffers().length)throw new Error(\"Buffer required for Document resources, but none was found.\");s.buffers=[],r.listBuffers().forEach((t,r)=>{const o=i.createPropertyDef(t),a=i.accessorUsageGroupedByParent,u=i.accessorParents,c=t.listParents().filter(t=>t instanceof Y),f=new Set(c),d=[],g=s.buffers.length;let p=0;const w=i.listAccessorUsageGroups();for(const t in w)if(a.has(t))for(const r of Array.from(u.values())){const s=Array.from(r).filter(t=>f.has(t)).filter(e=>i.getAccessorUsage(e)===t);if(s.length)if(t!==Mt.ARRAY_BUFFER||e.vertexLayout===m.INTERLEAVED){const e=t===Mt.ARRAY_BUFFER?l(s,g,p):h(s,g,p);p+=e.byteLength,d.push(...e.buffers)}else for(const t of s){const e=l([t],g,p);p+=e.byteLength,d.push(...e.buffers)}}else{const e=w[t].filter(t=>f.has(t));if(!e.length)continue;const r=h(e,g,p,t===Mt.ELEMENT_ARRAY_BUFFER?Et.BufferViewTarget.ELEMENT_ARRAY_BUFFER:void 0);p+=r.byteLength,d.push(...r.buffers)}if(i.imageBufferViews.length&&0===r)for(let t=0;t<i.imageBufferViews.length;t++)if(s.bufferViews[s.images[t].bufferView].byteOffset=p,p+=i.imageBufferViews[t].byteLength,d.push(i.imageBufferViews[t]),p%8){const t=8-p%8;p+=t,d.push(new Uint8Array(t))}if(i.otherBufferViews.has(t))for(const e of i.otherBufferViews.get(t))s.bufferViews.push({buffer:g,byteOffset:p,byteLength:e.byteLength}),i.otherBufferViewsIndexMap.set(e,s.bufferViews.length-1),p+=e.byteLength,d.push(e);if(p){let r;e.format===v.GLB?r=\"@glb.bin\":(r=i.bufferURIGenerator.createURI(t,\"bin\"),o.uri=r),o.byteLength=p,n.resources[r]=E.concat(d)}s.buffers.push(o),i.bufferIndexMap.set(t,r)}),r.listAccessors().find(t=>!t.getBuffer())&&o.warn(\"Skipped writing one or more Accessors: no Buffer assigned.\"),s.materials=r.listMaterials().map((t,e)=>{const r=i.createPropertyDef(t);if(t.getAlphaMode()!==at.AlphaMode.OPAQUE&&(r.alphaMode=t.getAlphaMode()),t.getAlphaMode()===at.AlphaMode.MASK&&(r.alphaCutoff=t.getAlphaCutoff()),t.getDoubleSided()&&(r.doubleSided=!0),r.pbrMetallicRoughness={},B.eq(t.getBaseColorFactor(),[1,1,1,1])||(r.pbrMetallicRoughness.baseColorFactor=t.getBaseColorFactor()),B.eq(t.getEmissiveFactor(),[0,0,0])||(r.emissiveFactor=t.getEmissiveFactor()),1!==t.getRoughnessFactor()&&(r.pbrMetallicRoughness.roughnessFactor=t.getRoughnessFactor()),1!==t.getMetallicFactor()&&(r.pbrMetallicRoughness.metallicFactor=t.getMetallicFactor()),t.getBaseColorTexture()){const e=t.getBaseColorTexture(),s=t.getBaseColorTextureInfo();r.pbrMetallicRoughness.baseColorTexture=i.createTextureInfoDef(e,s)}if(t.getEmissiveTexture()){const e=t.getEmissiveTexture(),s=t.getEmissiveTextureInfo();r.emissiveTexture=i.createTextureInfoDef(e,s)}if(t.getNormalTexture()){const e=t.getNormalTexture(),s=t.getNormalTextureInfo(),n=i.createTextureInfoDef(e,s);1!==t.getNormalScale()&&(n.scale=t.getNormalScale()),r.normalTexture=n}if(t.getOcclusionTexture()){const e=t.getOcclusionTexture(),s=t.getOcclusionTextureInfo(),n=i.createTextureInfoDef(e,s);1!==t.getOcclusionStrength()&&(n.strength=t.getOcclusionStrength()),r.occlusionTexture=n}if(t.getMetallicRoughnessTexture()){const e=t.getMetallicRoughnessTexture(),s=t.getMetallicRoughnessTextureInfo();r.pbrMetallicRoughness.metallicRoughnessTexture=i.createTextureInfoDef(e,s)}return i.materialIndexMap.set(t,e),r}),s.meshes=r.listMeshes().map((t,e)=>{const r=i.createPropertyDef(t);let s=null;return r.primitives=t.listPrimitives().map(t=>{const e={attributes:{}};e.mode=t.getMode();const r=t.getMaterial();r&&(e.material=i.materialIndexMap.get(r)),Object.keys(t.getExtras()).length&&(e.extras=t.getExtras());const n=t.getIndices();n&&(e.indices=i.accessorIndexMap.get(n));for(const r of t.listSemantics())e.attributes[r]=i.accessorIndexMap.get(t.getAttribute(r));for(const r of t.listTargets()){const t={};for(const e of r.listSemantics())t[e]=i.accessorIndexMap.get(r.getAttribute(e));e.targets=e.targets||[],e.targets.push(t)}return t.listTargets().length&&!s&&(s=t.listTargets().map(t=>t.getName())),e}),t.getWeights().length&&(r.weights=t.getWeights()),s&&(r.extras=r.extras||{},r.extras.targetNames=s),i.meshIndexMap.set(t,e),r}),s.cameras=r.listCameras().map((t,e)=>{const r=i.createPropertyDef(t);if(r.type=t.getType(),r.type===tt.Type.PERSPECTIVE){r.perspective={znear:t.getZNear(),zfar:t.getZFar(),yfov:t.getYFov()};const e=t.getAspectRatio();null!==e&&(r.perspective.aspectRatio=e)}else r.orthographic={znear:t.getZNear(),zfar:t.getZFar(),xmag:t.getXMag(),ymag:t.getYMag()};return i.cameraIndexMap.set(t,e),r}),s.nodes=r.listNodes().map((t,e)=>{const r=i.createPropertyDef(t);return B.eq(t.getTranslation(),[0,0,0])||(r.translation=t.getTranslation()),B.eq(t.getRotation(),[0,0,0,1])||(r.rotation=t.getRotation()),B.eq(t.getScale(),[1,1,1])||(r.scale=t.getScale()),t.getWeights().length&&(r.weights=t.getWeights()),i.nodeIndexMap.set(t,e),r}),s.skins=r.listSkins().map((t,e)=>{const r=i.createPropertyDef(t),s=t.getInverseBindMatrices();s&&(r.inverseBindMatrices=i.accessorIndexMap.get(s));const n=t.getSkeleton();return n&&(r.skeleton=i.nodeIndexMap.get(n)),r.joints=t.listJoints().map(t=>i.nodeIndexMap.get(t)),i.skinIndexMap.set(t,e),r}),r.listNodes().forEach((t,e)=>{const r=s.nodes[e],n=t.getMesh();n&&(r.mesh=i.meshIndexMap.get(n));const o=t.getCamera();o&&(r.camera=i.cameraIndexMap.get(o));const a=t.getSkin();a&&(r.skin=i.skinIndexMap.get(a)),t.listChildren().length>0&&(r.children=t.listChildren().map(t=>i.nodeIndexMap.get(t)))}),s.animations=r.listAnimations().map((t,e)=>{const r=i.createPropertyDef(t),s=new Map;return r.samplers=t.listSamplers().map((t,e)=>{const r=i.createPropertyDef(t);return r.input=i.accessorIndexMap.get(t.getInput()),r.output=i.accessorIndexMap.get(t.getOutput()),r.interpolation=t.getInterpolation(),s.set(t,e),r}),r.channels=t.listChannels().map(t=>{const e=i.createPropertyDef(t);return e.sampler=s.get(t.getSampler()),e.target={node:i.nodeIndexMap.get(t.getTargetNode()),path:t.getTargetPath()},e}),i.animationIndexMap.set(t,e),r}),s.scenes=r.listScenes().map((t,e)=>{const r=i.createPropertyDef(t);return r.nodes=t.listChildren().map(t=>i.nodeIndexMap.get(t)),i.sceneIndexMap.set(t,e),r});const d=r.getDefaultScene();return d&&(s.scene=r.listScenes().indexOf(d)),s.extensionsUsed=u.map(t=>t.extensionName),s.extensionsRequired=c.map(t=>t.extensionName),u.forEach(t=>t.write(i)),function(t){const e=[];for(const r in t){const s=t[r];(Array.isArray(s)&&0===s.length||null===s||\"\"===s||s&&\"object\"==typeof s&&0===Object.keys(s).length)&&e.push(r)}for(const r of e)delete t[r]}(s),n}}.write(t,{format:e.format||v.GLTF,basename:e.basename||\"\",logger:this.T,vertexLayout:this.F,dependencies:ft({},this.C),extensions:Array.from(this.h)})}async writeBinary(t){const{json:e,resources:r}=await this.writeJSON(t,{format:v.GLB}),s=new Uint32Array([1179937895,2,12]),n=JSON.stringify(e),i=E.pad(E.encodeText(n),32),o=E.toView(new Uint32Array([i.byteLength,1313821514])),a=E.concat([o,i]);s[s.length-1]+=a.byteLength;const u=Object.values(r)[0];if(!u||!u.byteLength)return E.concat([E.toView(s),a]);const c=E.pad(u,0),h=E.toView(new Uint32Array([c.byteLength,5130562])),l=E.concat([h,c]);return s[s.length-1]+=l.byteLength,E.concat([E.toView(s),a,l])}detectFormat(t){return\"glb\"===($.isAbsoluteURL(t)?$.extension(t):N.extension(t))?v.GLB:v.GLTF}async P(t){this.lastReadBytes=0;const e=await this.readURI(t,\"text\");this.lastReadBytes+=e.length;const r={json:JSON.parse(e),resources:{}};return await this.D(r,this.dirname(t)),this.L(r),r}async U(t){const e=await this.readURI(t,\"view\");this.lastReadBytes=e.byteLength;const r=this._(e);return await this.D(r,this.dirname(t)),this.L(r),r}async D(t,e){var r=this;const s=[...t.json.images||[],...t.json.buffers||[]].map(async function(s){const n=s.uri;if(!n||n.match(/data:/))return Promise.resolve();t.resources[n]=await r.readURI(r.resolve(e,n),\"view\"),r.lastReadBytes+=t.resources[n].byteLength});await Promise.all(s)}L(t){function e(e){if(e.uri)if(e.uri in t.resources)E.assertView(t.resources[e.uri]);else if(e.uri.match(/data:/)){const r=`__${J()}.${N.extension(e.uri)}`;t.resources[r]=E.createBufferFromDataURI(e.uri),e.uri=r}}(t.json.images||[]).forEach(t=>{if(void 0===t.bufferView&&void 0===t.uri)throw new Error(\"Missing resource URI or buffer view.\");e(t)}),(t.json.buffers||[]).forEach(e)}j(t){const{images:e,buffers:r}=t.json;return t={json:ft({},t.json),resources:ft({},t.resources)},e&&(t.json.images=e.map(t=>ft({},t))),r&&(t.json.buffers=r.map(t=>ft({},t))),t}_(t){const e=new Uint32Array(t.buffer,t.byteOffset,3);if(1179937895!==e[0])throw new Error(\"Invalid glTF asset.\");if(2!==e[1])throw new Error(`Unsupported glTF binary version, \"${e[1]}\".`);const r=new Uint32Array(t.buffer,t.byteOffset+12,2);if(r[1]!==It.JSON)throw new Error(\"Missing required GLB JSON chunk.\");const s=r[0],n=E.decodeText(E.toView(t,20,s)),i=JSON.parse(n),o=20+s;if(t.byteLength<=o)return{json:i,resources:{}};const a=new Uint32Array(t.buffer,t.byteOffset+o,2);if(a[1]!==It.BIN)throw new Error(\"Expected GLB BIN in second chunk.\");return{json:i,resources:{\"@glb.bin\":E.toView(t,o+8,a[0])}}}}class Nt extends Rt{constructor(t=null,e=$.DEFAULT_INIT){super(),this.k=void 0,this.J=void 0,this.$=void 0,this.V=void 0,this.q=!1,this.k=require(\"fs\").promises,this.J=require(\"path\"),this.$=t,this.V=e}setAllowHTTP(t){if(t&&!this.$)throw new Error(\"NodeIO requires a Fetch API implementation for HTTP requests.\");return this.q=t,this}async readURI(t,e){if($.isAbsoluteURL(t)){if(!this.q||!this.$)throw new Error(\"Network request blocked. Allow HTTP requests explicitly, if needed.\");const r=await this.$(t,this.V);switch(e){case\"view\":return new Uint8Array(await r.arrayBuffer());case\"text\":return r.text()}}else switch(e){case\"view\":return this.k.readFile(t);case\"text\":return this.k.readFile(t,\"utf8\")}}resolve(t,e){return $.isAbsoluteURL(t)||$.isAbsoluteURL(e)?$.resolve(t,e):this.J.resolve(t,e)}dirname(t){return $.isAbsoluteURL(t)?$.dirname(t):this.J.dirname(t)}async write(t,e){const r=!!t.match(/\\.glb$/);await(r?this.W(t,e):this.H(t,e))}async H(t,e){var r=this;this.lastWriteBytes=0;const{json:s,resources:n}=await this.writeJSON(e,{format:v.GLTF,basename:N.basename(t)}),{k:i,J:o}=this,a=o.dirname(t),u=JSON.stringify(s,null,2);this.lastWriteBytes+=u.length,await i.writeFile(t,u);const c=Object.keys(n).map(async function(t){if($.isAbsoluteURL(t)){if(\"bin\"===$.extension(t))throw new Error(`Cannot write buffer to path \"${t}\".`);return}const e=Buffer.from(n[t]);await i.writeFile(o.join(a,t),e),r.lastWriteBytes+=e.byteLength});await Promise.all(c)}async W(t,e){const r=Buffer.from(await this.writeBinary(e));await this.k.writeFile(t,r),this.lastWriteBytes=r.byteLength}}class Ot extends Rt{constructor(t){super(),this.J=void 0,this.J=t}async readURI(t,e){switch(e){case\"view\":return Deno.readFile(t);case\"text\":return Deno.readTextFile(t)}}resolve(t,e){return this.J.resolve(t,e)}dirname(t){return this.J.dirname(t)}}class Ct extends Rt{constructor(t=$.DEFAULT_INIT){super(),this.V=void 0,this.V=t}async readURI(t,e){const r=await fetch(t,this.V);switch(e){case\"view\":return new Uint8Array(await r.arrayBuffer());case\"text\":return r.text()}}resolve(t,e){return $.resolve(t,e)}dirname(t){return $.dirname(t)}detectFormat(t){return\"glb\"===$.extension(t)?v.GLB:v.GLTF}}export{Y as Accessor,Z as Animation,K as AnimationChannel,Q as AnimationSampler,X as Buffer,E as BufferUtils,V as COPY_IDENTITY,tt as Camera,S as ColorUtils,Ot as DenoIO,wt as Document,H as ExtensibleProperty,yt as Extension,et as ExtensionProperty,N as FileUtils,v as Format,g as GLB_BUFFER,I as ImageUtils,F as Logger,at as Material,B as MathUtils,ut as Mesh,ct as Node,Nt as NodeIO,Rt as PlatformIO,ht as Primitive,lt as PrimitiveTarget,W as Property,p as PropertyType,vt as ReaderContext,mt as Root,dt as Scene,gt as Skin,pt as Texture,y as TextureChannel,rt as TextureInfo,d as VERSION,T as Verbosity,m as VertexLayout,Ct as WebIO,Et as WriterContext,x as bounds,J as uuid};\n//# sourceMappingURL=core.modern.js.map\n","import{ExtensionProperty as e,PropertyType as t,Extension as s,BufferUtils as r,WriterContext as n,Primitive as o,Root as i,AnimationSampler as a,AnimationChannel as c,Accessor as u,MathUtils as l,GLB_BUFFER as h,ImageUtils as f,bounds as g,ColorUtils as p,TextureInfo as x,TextureChannel as d}from\"@gltf-transform/core\";import{read as T,KHR_DF_MODEL_ETC1S as m,KHR_DF_MODEL_UASTC as E}from\"ktx-parse\";const I=\"INSTANCE_ATTRIBUTE\";class R extends e{init(){this.extensionName=\"EXT_mesh_gpu_instancing\",this.propertyType=\"InstancedMesh\",this.parentTypes=[t.NODE]}getDefaults(){return Object.assign(super.getDefaults(),{attributes:{}})}getAttribute(e){return this.getRefMap(\"attributes\",e)}setAttribute(e,t){return this.setRefMap(\"attributes\",e,t,{usage:\"INSTANCE_ATTRIBUTE\"})}listAttributes(){return this.listRefMapValues(\"attributes\")}listSemantics(){return this.listRefMapKeys(\"attributes\")}}R.EXTENSION_NAME=\"EXT_mesh_gpu_instancing\";const N=\"EXT_mesh_gpu_instancing\";class _ extends s{constructor(...e){super(...e),this.extensionName=N,this.provideTypes=[t.NODE],this.prewriteTypes=[t.ACCESSOR]}createInstancedMesh(){return new R(this.document.getGraph())}read(e){return(e.jsonDoc.json.nodes||[]).forEach((t,s)=>{if(!t.extensions||!t.extensions[N])return;const r=t.extensions[N],n=this.createInstancedMesh();for(const t in r.attributes)n.setAttribute(t,e.accessors[r.attributes[t]]);e.nodes[s].setExtension(N,n)}),this}prewrite(e){e.accessorUsageGroupedByParent.add(\"INSTANCE_ATTRIBUTE\");for(const t of this.properties)for(const s of t.listAttributes())e.addAccessorToUsageGroup(s,\"INSTANCE_ATTRIBUTE\");return this}write(e){const t=e.jsonDoc;return this.document.getRoot().listNodes().forEach(s=>{const r=s.getExtension(N);if(r){const n=e.nodeIndexMap.get(s),o=t.json.nodes[n],i={attributes:{}};r.listSemantics().forEach(t=>{const s=r.getAttribute(t);i.attributes[t]=e.accessorIndexMap.get(s)}),o.extensions=o.extensions||{},o.extensions[N]=i}}),this}}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}).apply(this,arguments)}var A,y,C;_.EXTENSION_NAME=N,function(e){e.QUANTIZE=\"quantize\",e.FILTER=\"filter\"}(A||(A={})),function(e){e.ATTRIBUTES=\"ATTRIBUTES\",e.TRIANGLES=\"TRIANGLES\",e.INDICES=\"INDICES\"}(y||(y={})),function(e){e.NONE=\"NONE\",e.OCTAHEDRAL=\"OCTAHEDRAL\",e.QUATERNION=\"QUATERNION\",e.EXPONENTIAL=\"EXPONENTIAL\"}(C||(C={}));const{BYTE:M,SHORT:O,FLOAT:w}=u.ComponentType,{normalize:D,denormalize:F}=l;function b(e,t,s,n){const{filter:o,bits:i}=n,a={array:e.getArray(),byteStride:e.getElementSize()*e.getComponentSize(),componentType:e.getComponentType(),normalized:e.getNormalized()};if(s!==y.ATTRIBUTES)return a;if(o!==C.NONE){let s=e.getNormalized()?function(e){const t=e.getComponentType(),s=e.getArray(),r=new Float32Array(s.length);for(let e=0;e<s.length;e++)r[e]=F(s[e],t);return r}(e):new Float32Array(a.array);switch(o){case C.EXPONENTIAL:a.byteStride=4*e.getElementSize(),a.componentType=w,a.normalized=!1,a.array=t.encodeFilterExp(s,e.getCount(),a.byteStride,i);break;case C.OCTAHEDRAL:a.byteStride=i>8?8:4,a.componentType=i>8?O:M,a.normalized=!0,s=3===e.getElementSize()?function(e){const t=new Float32Array(4*e.length/3);for(let s=0,r=e.length/3;s<r;s++)t[4*s]=e[3*s],t[4*s+1]=e[3*s+1],t[4*s+2]=e[3*s+2];return t}(s):s,a.array=t.encodeFilterOct(s,e.getCount(),a.byteStride,i);break;case C.QUATERNION:a.byteStride=8,a.componentType=O,a.normalized=!0,a.array=t.encodeFilterQuat(s,e.getCount(),a.byteStride,i);break;default:throw new Error(\"Invalid filter.\")}a.min=e.getMin([]),a.max=e.getMax([]),e.getNormalized()&&(a.min=a.min.map(t=>F(t,e.getComponentType())),a.max=a.max.map(t=>F(t,e.getComponentType()))),a.normalized&&(a.min=a.min.map(e=>D(e,a.componentType)),a.max=a.max.map(e=>D(e,a.componentType)))}else a.byteStride%4&&(a.array=function(e,t){const s=r.padNumber(e.BYTES_PER_ELEMENT*t)/e.BYTES_PER_ELEMENT,n=new e.constructor(e.length/t*s);for(let r=0;r*t<e.length;r++)for(let o=0;o<t;o++)n[r*s+o]=e[r*t+o];return n}(a.array,e.getElementSize()),a.byteStride=a.array.byteLength/e.getCount());return a}function j(e,t){return t===n.BufferViewUsage.ELEMENT_ARRAY_BUFFER?e.listParents().some(e=>e instanceof o&&e.getMode()===o.Mode.TRIANGLES)?y.TRIANGLES:y.INDICES:y.ATTRIBUTES}function v(e,t){const s=t.getGraph().listParentEdges(e).filter(e=>!(e.getParent()instanceof i));for(const t of s){const s=t.getName(),r=t.getAttributes().key||\"\";if(\"indices\"===s)return{filter:C.NONE};if(\"attributes\"===s){if(\"POSITION\"===r)return{filter:C.NONE};if(\"TEXCOORD_0\"===r)return{filter:C.NONE};if(\"NORMAL\"===r)return{filter:C.OCTAHEDRAL,bits:8};if(\"TANGENT\"===r)return{filter:C.OCTAHEDRAL,bits:8};if(r.startsWith(\"JOINTS_\"))return{filter:C.NONE};if(r.startsWith(\"WEIGHTS_\"))return{filter:C.NONE}}if(\"output\"===s){const t=k(e);return\"rotation\"===t?{filter:C.QUATERNION,bits:16}:\"translation\"===t||\"scale\"===t?{filter:C.EXPONENTIAL,bits:12}:{filter:C.NONE}}if(\"input\"===s)return{filter:C.NONE};if(\"inverseBindMatrices\"===s)return{filter:C.NONE}}return{filter:C.NONE}}function k(e){for(const t of e.listParents())if(t instanceof a)for(const e of t.listParents())if(e instanceof c)return e.getTargetPath();return null}const B=\"EXT_meshopt_compression\",G={method:A.QUANTIZE};class H extends s{constructor(...e){super(...e),this.extensionName=B,this.prereadTypes=[t.BUFFER,t.PRIMITIVE],this.prewriteTypes=[t.BUFFER,t.ACCESSOR],this.readDependencies=[\"meshopt.decoder\"],this.writeDependencies=[\"meshopt.encoder\"],this._decoder=null,this._decoderFallbackBufferMap=new Map,this._encoder=null,this._encoderOptions=G,this._encoderFallbackBuffer=null,this._encoderBufferViews={},this._encoderBufferViewData={},this._encoderBufferViewAccessors={}}install(e,t){return\"meshopt.decoder\"===e&&(this._decoder=t),\"meshopt.encoder\"===e&&(this._encoder=t),this}setEncoderOptions(e){return this._encoderOptions=S({},G,e),this}preread(e,s){if(!this._decoder){if(!this.isRequired())return this;throw new Error(`[${B}] Please install extension dependency, \"meshopt.decoder\".`)}if(!this._decoder.supported){if(!this.isRequired())return this;throw new Error(`[${B}]: Missing WASM support.`)}return s===t.BUFFER?this._prereadBuffers(e):s===t.PRIMITIVE&&this._prereadPrimitives(e),this}_prereadBuffers(e){const t=e.jsonDoc;(t.json.bufferViews||[]).forEach((s,n)=>{if(!s.extensions||!s.extensions[B])return;const o=s.extensions[B],i=o.byteOffset||0,a=o.byteLength||0,c=o.count,u=o.byteStride,l=new Uint8Array(c*u),f=t.json.buffers[s.buffer],g=r.toView(f.uri?t.resources[f.uri]:t.resources[h],i,a);this._decoder.decodeGltfBuffer(l,c,u,g,o.mode,o.filter),e.bufferViews[n]=l})}_prereadPrimitives(e){const t=e.jsonDoc;(t.json.bufferViews||[]).forEach(s=>{var r;s.extensions&&s.extensions[B]&&(r=t.json.buffers[s.buffer]).extensions&&r.extensions.EXT_meshopt_compression&&r.extensions.EXT_meshopt_compression.fallback&&this._decoderFallbackBufferMap.set(e.buffers[s.buffer],e.buffers[s.extensions[B].buffer])})}read(e){if(!this.isRequired())return this;for(const[e,t]of this._decoderFallbackBufferMap){for(const s of e.listParents())s instanceof u&&s.swap(e,t);e.dispose()}return this}prewrite(e,s){return s===t.ACCESSOR?this._prewriteAccessors(e):s===t.BUFFER&&this._prewriteBuffers(e),this}_prewriteAccessors(e){const t=e.jsonDoc.json,s=this._encoder,r=this._encoderOptions,o=this.document.createBuffer(),i=this.document.getRoot().listBuffers().indexOf(o);this._encoderFallbackBuffer=o,this._encoderBufferViews={},this._encoderBufferViewData={},this._encoderBufferViewAccessors={};for(const o of this.document.getRoot().listAccessors()){if(\"weights\"===k(o))continue;const a=e.getAccessorUsage(o),c=j(o,a),u=r.method===A.FILTER?v(o,this.document):{filter:C.NONE},l=b(o,s,c,u),{array:h,byteStride:f}=l,g=o.getBuffer();if(!g)throw new Error(`${B}: Missing buffer for accessor.`);const p=this.document.getRoot().listBuffers().indexOf(g),x=[a,c,u.filter,f,p].join(\":\");let d=this._encoderBufferViews[x],T=this._encoderBufferViewData[x],m=this._encoderBufferViewAccessors[x];d&&T||(m=this._encoderBufferViewAccessors[x]=[],T=this._encoderBufferViewData[x]=[],d=this._encoderBufferViews[x]={buffer:i,target:n.USAGE_TO_TARGET[a],byteOffset:0,byteLength:0,byteStride:a===n.BufferViewUsage.ARRAY_BUFFER?f:void 0,extensions:{[B]:{buffer:p,byteOffset:0,byteLength:0,mode:c,filter:u.filter!==C.NONE?u.filter:void 0,byteStride:f,count:0}}});const E=e.createAccessorDef(o);E.componentType=l.componentType,E.normalized=l.normalized,E.byteOffset=d.byteLength,E.min&&l.min&&(E.min=l.min),E.max&&l.max&&(E.max=l.max),e.accessorIndexMap.set(o,t.accessors.length),t.accessors.push(E),m.push(E),T.push(new Uint8Array(h.buffer,h.byteOffset,h.byteLength)),d.byteLength+=h.byteLength,d.extensions.EXT_meshopt_compression.count+=o.getCount()}}_prewriteBuffers(e){const t=this._encoder;for(const s in this._encoderBufferViews){const n=this._encoderBufferViews[s],o=this._encoderBufferViewData[s],i=this.document.getRoot().listBuffers()[n.extensions[B].buffer],a=e.otherBufferViews.get(i)||[],{count:c,byteStride:u,mode:l}=n.extensions[B],h=r.concat(o),f=t.encodeGltfBuffer(h,c,u,l),g=r.pad(f);n.extensions[B].byteLength=f.byteLength,o.length=0,o.push(g),a.push(g),e.otherBufferViews.set(i,a)}}write(e){let t=0;for(const s in this._encoderBufferViews){const n=this._encoderBufferViews[s],o=e.otherBufferViewsIndexMap.get(this._encoderBufferViewData[s][0]),i=this._encoderBufferViewAccessors[s];for(const e of i)e.bufferView=o;const a=e.jsonDoc.json.bufferViews[o],c=a.byteOffset||0;Object.assign(a,n),a.byteOffset=t,a.extensions[B].byteOffset=c,t+=r.padNumber(n.byteLength)}const s=this._encoderFallbackBuffer,n=e.bufferIndexMap.get(s),o=e.jsonDoc.json.buffers[n];return o.byteLength=t,o.extensions={[B]:{fallback:!0}},s.dispose(),this}}H.EXTENSION_NAME=B,H.EncoderMethod=A;const L=\"EXT_texture_webp\";class U{match(e){return e.length>=12&&87===e[8]&&69===e[9]&&66===e[10]&&80===e[11]}getSize(e){const t=r.decodeText(e.slice(0,4)),s=r.decodeText(e.slice(8,12));if(\"RIFF\"!==t||\"WEBP\"!==s)return null;const n=new DataView(e.buffer,e.byteOffset);let o=12;for(;o<n.byteLength;){const e=r.decodeText(new Uint8Array([n.getUint8(o),n.getUint8(o+1),n.getUint8(o+2),n.getUint8(o+3)])),t=n.getUint32(o+4,!0);if(\"VP8 \"===e)return[16383&n.getInt16(o+14,!0),16383&n.getInt16(o+16,!0)];if(\"VP8L\"===e){const e=n.getUint8(o+9),t=n.getUint8(o+10),s=n.getUint8(o+11);return[1+((63&t)<<8|e),1+((15&n.getUint8(o+12))<<10|s<<2|(192&t)>>6)]}o+=8+t+t%2}return null}getChannels(e){return 4}}class P extends s{constructor(...e){super(...e),this.extensionName=L,this.prereadTypes=[t.TEXTURE]}static register(){f.registerFormat(\"image/webp\",new U)}preread(e){return(e.jsonDoc.json.textures||[]).forEach(e=>{e.extensions&&e.extensions[L]&&(e.source=e.extensions[L].source)}),this}read(e){return this}write(e){const t=e.jsonDoc;return this.document.getRoot().listTextures().forEach(s=>{if(\"image/webp\"===s.getMimeType()){const r=e.imageIndexMap.get(s);(t.json.textures||[]).forEach(e=>{e.source===r&&(e.extensions=e.extensions||{},e.extensions[L]={source:e.source},delete e.source)})}}),this}}P.EXTENSION_NAME=L;const V=\"KHR_draco_mesh_compression\";let X,K,z,q;function $(e,t){const s=new X.DecoderBuffer;try{if(s.Init(t,t.length),e.GetEncodedGeometryType(s)!==X.TRIANGULAR_MESH)throw new Error(`[${V}] Unknown geometry type.`);const r=new X.Mesh;if(!e.DecodeBufferToMesh(s,r).ok()||0===r.ptr)throw new Error(`[${V}] Decoding failure.`);return r}finally{X.destroy(s)}}function Y(e,t){const s=3*t.num_faces();let r,n;if(t.num_points()<=65534){const o=s*Uint16Array.BYTES_PER_ELEMENT;r=X._malloc(o),e.GetTrianglesUInt16Array(t,o,r),n=new Uint16Array(X.HEAPU16.buffer,r,s).slice()}else{const o=s*Uint32Array.BYTES_PER_ELEMENT;r=X._malloc(o),e.GetTrianglesUInt32Array(t,o,r),n=new Uint32Array(X.HEAPU32.buffer,r,s).slice()}return X._free(r),n}function Q(e,t,s,r){const n=z[r.componentType],o=K[r.componentType],i=s.num_components(),a=t.num_points()*i,c=a*o.BYTES_PER_ELEMENT,u=X._malloc(c);e.GetAttributeDataArrayForAllPoints(t,s,n,c,u);const l=new o(X.HEAPF32.buffer,u,a).slice();return X._free(u),l}var W,J;!function(e){e[e.EDGEBREAKER=1]=\"EDGEBREAKER\",e[e.SEQUENTIAL=0]=\"SEQUENTIAL\"}(W||(W={})),function(e){e.POSITION=\"POSITION\",e.NORMAL=\"NORMAL\",e.COLOR=\"COLOR\",e.TEX_COORD=\"TEX_COORD\",e.GENERIC=\"GENERIC\"}(J||(J={}));const Z={[J.POSITION]:14,[J.NORMAL]:10,[J.COLOR]:8,[J.TEX_COORD]:12,[J.GENERIC]:12},ee={decodeSpeed:5,encodeSpeed:5,method:W.EDGEBREAKER,quantizationBits:Z,quantizationVolume:\"mesh\"};function te(e,t=ee){const s=S({},ee,t);s.quantizationBits=S({},Z,t.quantizationBits);const r=new q.Encoder,n=new q.MeshBuilder,o=new q.Mesh,i={},a=new q.DracoInt8Array;for(const t of e.listSemantics()){const a=e.getAttribute(t),c=se(t),u=re(n,a.getComponentType(),o,q[c],a.getCount(),a.getElementSize(),a.getArray());if(-1===u)throw new Error(`Error compressing \"${t}\" attribute.`);if(i[t]=u,\"mesh\"===s.quantizationVolume||\"POSITION\"!==t)r.SetAttributeQuantization(q[c],s.quantizationBits[c]);else{if(\"object\"!=typeof s.quantizationVolume)throw new Error(\"Invalid quantization volume state.\");{const{quantizationVolume:e}=s,t=Math.max(e.max[0]-e.min[0],e.max[1]-e.min[1],e.max[2]-e.min[2]);r.SetAttributeExplicitQuantization(q[c],s.quantizationBits[c],a.getElementSize(),e.min,t)}}}const c=e.getIndices();if(!c)throw new Error(\"Primitive must have indices.\");n.AddFacesToMesh(o,c.getCount()/3,c.getArray()),r.SetSpeedOptions(s.encodeSpeed,s.decodeSpeed),r.SetTrackEncodedProperties(!0),s.method===W.SEQUENTIAL||e.listTargets().length>0?r.SetEncodingMethod(q.MESH_SEQUENTIAL_ENCODING):r.SetEncodingMethod(q.MESH_EDGEBREAKER_ENCODING);const u=r.EncodeMeshToDracoBuffer(o,a);if(u<=0)throw new Error(\"Error applying Draco compression.\");const l=new Uint8Array(u);for(let e=0;e<u;++e)l[e]=a.GetValue(e);const h=e.getAttribute(\"POSITION\").getCount(),f=r.GetNumberOfEncodedPoints(),g=3*r.GetNumberOfEncodedFaces();if(e.listTargets().length>0&&f!==h)throw new Error('Compression reduced vertex count unexpectedly, corrupting morph targets. Applying the \"weld\" function before compression may resolve the issue.');return q.destroy(a),q.destroy(o),q.destroy(n),q.destroy(r),{numVertices:f,numIndices:g,data:l,attributeIDs:i}}function se(e){return\"POSITION\"===e?J.POSITION:\"NORMAL\"===e?J.NORMAL:e.startsWith(\"COLOR_\")?J.COLOR:e.startsWith(\"TEXCOORD_\")?J.TEX_COORD:J.GENERIC}function re(e,t,s,r,n,o,i){switch(t){case u.ComponentType.UNSIGNED_BYTE:return e.AddUInt8Attribute(s,r,n,o,i);case u.ComponentType.BYTE:return e.AddInt8Attribute(s,r,n,o,i);case u.ComponentType.UNSIGNED_SHORT:return e.AddUInt16Attribute(s,r,n,o,i);case u.ComponentType.SHORT:return e.AddInt16Attribute(s,r,n,o,i);case u.ComponentType.UNSIGNED_INT:return e.AddUInt32Attribute(s,r,n,o,i);case u.ComponentType.FLOAT:return e.AddFloatAttribute(s,r,n,o,i);default:throw new Error(`Unexpected component type, \"${t}\".`)}}const ne=\"KHR_draco_mesh_compression\";class oe extends s{constructor(...e){super(...e),this.extensionName=ne,this.prereadTypes=[t.PRIMITIVE],this.prewriteTypes=[t.ACCESSOR],this.readDependencies=[\"draco3d.decoder\"],this.writeDependencies=[\"draco3d.encoder\"],this._decoderModule=null,this._encoderModule=null,this._encoderOptions={}}install(e,t){return\"draco3d.decoder\"===e&&(this._decoderModule=t,X=this._decoderModule,K={[u.ComponentType.FLOAT]:Float32Array,[u.ComponentType.UNSIGNED_INT]:Uint32Array,[u.ComponentType.UNSIGNED_SHORT]:Uint16Array,[u.ComponentType.UNSIGNED_BYTE]:Uint8Array,[u.ComponentType.SHORT]:Int16Array,[u.ComponentType.BYTE]:Int8Array},z={[u.ComponentType.FLOAT]:X.DT_FLOAT32,[u.ComponentType.UNSIGNED_INT]:X.DT_UINT32,[u.ComponentType.UNSIGNED_SHORT]:X.DT_UINT16,[u.ComponentType.UNSIGNED_BYTE]:X.DT_UINT8,[u.ComponentType.SHORT]:X.DT_INT16,[u.ComponentType.BYTE]:X.DT_INT8}),\"draco3d.encoder\"===e&&(this._encoderModule=t,q=this._encoderModule),this}setEncoderOptions(e){return this._encoderOptions=e,this}preread(e){if(!this._decoderModule)throw new Error(`[${ne}] Please install extension dependency, \"draco3d.decoder\".`);const t=this.document.getLogger(),s=e.jsonDoc,n=new Map;try{const o=s.json.meshes||[];for(const i of o)for(const o of i.primitives){if(!o.extensions||!o.extensions[ne])continue;const i=o.extensions[ne];let[a,c]=n.get(i.bufferView)||[];if(!c||!a){const e=s.json.bufferViews[i.bufferView],o=s.json.buffers[e.buffer],u=r.toView(o.uri?s.resources[o.uri]:s.resources[h],e.byteOffset||0,e.byteLength);a=new this._decoderModule.Decoder,c=$(a,u),n.set(i.bufferView,[a,c]),t.debug(`[${ne}] Decompressed ${u.byteLength} bytes.`)}for(const t in o.attributes){const s=e.jsonDoc.json.accessors[o.attributes[t]],r=a.GetAttributeByUniqueId(c,i.attributes[t]),n=Q(a,c,r,s);e.accessors[o.attributes[t]].setArray(n)}void 0!==o.indices&&e.accessors[o.indices].setArray(Y(a,c))}}finally{for(const[e,t]of Array.from(n.values()))this._decoderModule.destroy(e),this._decoderModule.destroy(t)}return this}read(e){return this}prewrite(e,s){if(!this._encoderModule)throw new Error(`[${ne}] Please install extension dependency, \"draco3d.encoder\".`);const r=this.document.getLogger();r.debug(`[${ne}] Compression options: ${JSON.stringify(this._encoderOptions)}`);const n=function(e){const s=e.getLogger(),r=new Set,n=new Set;for(const t of e.getRoot().listMeshes())for(const e of t.listPrimitives())e.getIndices()?e.getMode()!==o.Mode.TRIANGLES?(n.add(e),s.warn(`[${ne}] Skipping Draco compression on non-TRIANGLES primitive.`)):r.add(e):(n.add(e),s.warn(`[${ne}] Skipping Draco compression on non-indexed primitive.`));const i=e.getRoot().listAccessors(),a=new Map;for(let e=0;e<i.length;e++)a.set(i[e],e);const c=new Map,u=new Set,l=new Map;for(const t of Array.from(r)){let s=ie(t,a);if(u.has(s))l.set(t,s);else{if(c.has(t.getIndices())){const s=t.getIndices(),r=s.clone();a.set(r,e.getRoot().listAccessors().length-1),t.swap(s,r)}for(const s of t.listAttributes())if(c.has(s)){const r=s.clone();a.set(r,e.getRoot().listAccessors().length-1),t.swap(s,r)}s=ie(t,a),u.add(s),l.set(t,s),c.set(t.getIndices(),s);for(const e of t.listAttributes())c.set(e,s)}}for(const e of Array.from(c.keys())){const s=new Set(e.listParents().map(e=>e.propertyType));if(2!==s.size||!s.has(t.PRIMITIVE)||!s.has(t.ROOT))throw new Error(`[${ne}] Compressed accessors must only be used as indices or vertex attributes.`)}for(const e of Array.from(r)){const t=l.get(e),s=e.getIndices();if(c.get(s)!==t||e.listAttributes().some(e=>c.get(e)!==t))throw new Error(`[${ne}] Draco primitives must share all, or no, accessors.`)}for(const e of Array.from(n)){const t=e.getIndices();if(c.has(t)||e.listAttributes().some(e=>c.has(e)))throw new Error(`[${ne}] Accessor cannot be shared by compressed and uncompressed primitives.`)}return l}(this.document),i=new Map;let a=\"mesh\";\"scene\"===this._encoderOptions.quantizationVolume&&(1!==this.document.getRoot().listScenes().length?r.warn(`[${ne}]: quantizationVolume=scene requires exactly 1 scene.`):a=g(this.document.getRoot().listScenes().pop()));for(const t of Array.from(n.keys())){const s=n.get(t);if(!s)throw new Error(\"Unexpected primitive.\");if(i.has(s)){i.set(s,i.get(s));continue}const r=t.getIndices(),o=e.jsonDoc.json.accessors,c=te(t,S({},this._encoderOptions,{quantizationVolume:a}));i.set(s,c);const u=e.createAccessorDef(r);u.count=c.numIndices,e.accessorIndexMap.set(r,o.length),o.push(u);for(const s of t.listSemantics()){const r=t.getAttribute(s),n=e.createAccessorDef(r);n.count=c.numVertices,e.accessorIndexMap.set(r,o.length),o.push(n)}const l=t.getAttribute(\"POSITION\").getBuffer()||this.document.getRoot().listBuffers()[0];e.otherBufferViews.has(l)||e.otherBufferViews.set(l,[]),e.otherBufferViews.get(l).push(c.data)}return r.debug(`[${ne}] Compressed ${n.size} primitives.`),e.extensionData[ne]={primitiveHashMap:n,primitiveEncodingMap:i},this}write(e){const t=e.extensionData[ne];for(const s of this.document.getRoot().listMeshes()){const r=e.jsonDoc.json.meshes[e.meshIndexMap.get(s)];for(let n=0;n<s.listPrimitives().length;n++){const o=s.listPrimitives()[n],i=r.primitives[n],a=t.primitiveHashMap.get(o);if(!a)continue;const c=t.primitiveEncodingMap.get(a);i.extensions=i.extensions||{},i.extensions[ne]={bufferView:e.otherBufferViewsIndexMap.get(c.data),attributes:c.attributeIDs}}}if(!t.primitiveHashMap.size){const t=e.jsonDoc.json;t.extensionsUsed=(t.extensionsUsed||[]).filter(e=>e!==ne),t.extensionsRequired=(t.extensionsRequired||[]).filter(e=>e!==ne)}return this}}function ie(e,t){const s=[],r=e.getIndices();s.push(t.get(r));for(const r of e.listAttributes())s.push(t.get(r));return s.sort().join(\"|\")}oe.EXTENSION_NAME=ne,oe.EncoderMethod=W;class ae extends e{init(){this.extensionName=\"KHR_lights_punctual\",this.propertyType=\"Light\",this.parentTypes=[t.NODE]}getDefaults(){return Object.assign(super.getDefaults(),{color:[1,1,1],intensity:1,type:ae.Type.POINT,range:null,innerConeAngle:0,outerConeAngle:Math.PI/4})}getColor(){return this.get(\"color\")}setColor(e){return this.set(\"color\",e)}getColorHex(){return p.factorToHex(this.getColor())}setColorHex(e){const t=this.getColor().slice();return p.hexToFactor(e,t),this.setColor(t)}getIntensity(){return this.get(\"intensity\")}setIntensity(e){return this.set(\"intensity\",e)}getType(){return this.get(\"type\")}setType(e){return this.set(\"type\",e)}getRange(){return this.get(\"range\")}setRange(e){return this.set(\"range\",e)}getInnerConeAngle(){return this.get(\"innerConeAngle\")}setInnerConeAngle(e){return this.set(\"innerConeAngle\",e)}getOuterConeAngle(){return this.get(\"outerConeAngle\")}setOuterConeAngle(e){return this.set(\"outerConeAngle\",e)}}ae.EXTENSION_NAME=\"KHR_lights_punctual\",ae.Type={POINT:\"point\",SPOT:\"spot\",DIRECTIONAL:\"directional\"};const ce=\"KHR_lights_punctual\";class ue extends s{constructor(...e){super(...e),this.extensionName=ce}createLight(e=\"\"){return new ae(this.document.getGraph(),e)}read(e){const t=e.jsonDoc;if(!t.json.extensions||!t.json.extensions[ce])return this;const s=(t.json.extensions[ce].lights||[]).map(e=>{var t,s;const r=this.createLight().setName(e.name||\"\").setType(e.type);return void 0!==e.color&&r.setColor(e.color),void 0!==e.intensity&&r.setIntensity(e.intensity),void 0!==e.range&&r.setRange(e.range),void 0!==(null==(t=e.spot)?void 0:t.innerConeAngle)&&r.setInnerConeAngle(e.spot.innerConeAngle),void 0!==(null==(s=e.spot)?void 0:s.outerConeAngle)&&r.setOuterConeAngle(e.spot.outerConeAngle),r});return t.json.nodes.forEach((t,r)=>{t.extensions&&t.extensions[ce]&&e.nodes[r].setExtension(ce,s[t.extensions[ce].light])}),this}write(e){const t=e.jsonDoc;if(0===this.properties.size)return this;const s=[],r=new Map;for(const e of this.properties){const t=e,n={type:t.getType()};l.eq(t.getColor(),[1,1,1])||(n.color=t.getColor()),1!==t.getIntensity()&&(n.intensity=t.getIntensity()),null!=t.getRange()&&(n.range=t.getRange()),t.getName()&&(n.name=t.getName()),t.getType()===ae.Type.SPOT&&(n.spot={innerConeAngle:t.getInnerConeAngle(),outerConeAngle:t.getOuterConeAngle()}),s.push(n),r.set(t,s.length-1)}return this.document.getRoot().listNodes().forEach(s=>{const n=s.getExtension(ce);if(n){const o=e.nodeIndexMap.get(s),i=t.json.nodes[o];i.extensions=i.extensions||{},i.extensions[ce]={light:r.get(n)}}}),t.json.extensions=t.json.extensions||{},t.json.extensions[ce]={lights:s},this}}ue.EXTENSION_NAME=ce;const{R:le,G:he,B:fe}=d;class ge extends e{init(){this.extensionName=\"KHR_materials_clearcoat\",this.propertyType=\"Clearcoat\",this.parentTypes=[t.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{clearcoatFactor:0,clearcoatTexture:null,clearcoatTextureInfo:new x(this.graph,\"clearcoatTextureInfo\"),clearcoatRoughnessFactor:0,clearcoatRoughnessTexture:null,clearcoatRoughnessTextureInfo:new x(this.graph,\"clearcoatRoughnessTextureInfo\"),clearcoatNormalScale:1,clearcoatNormalTexture:null,clearcoatNormalTextureInfo:new x(this.graph,\"clearcoatNormalTextureInfo\")})}getClearcoatFactor(){return this.get(\"clearcoatFactor\")}setClearcoatFactor(e){return this.set(\"clearcoatFactor\",e)}getClearcoatTexture(){return this.getRef(\"clearcoatTexture\")}getClearcoatTextureInfo(){return this.getRef(\"clearcoatTexture\")?this.getRef(\"clearcoatTextureInfo\"):null}setClearcoatTexture(e){return this.setRef(\"clearcoatTexture\",e,{channels:le})}getClearcoatRoughnessFactor(){return this.get(\"clearcoatRoughnessFactor\")}setClearcoatRoughnessFactor(e){return this.set(\"clearcoatRoughnessFactor\",e)}getClearcoatRoughnessTexture(){return this.getRef(\"clearcoatRoughnessTexture\")}getClearcoatRoughnessTextureInfo(){return this.getRef(\"clearcoatRoughnessTexture\")?this.getRef(\"clearcoatRoughnessTextureInfo\"):null}setClearcoatRoughnessTexture(e){return this.setRef(\"clearcoatRoughnessTexture\",e,{channels:he})}getClearcoatNormalScale(){return this.get(\"clearcoatNormalScale\")}setClearcoatNormalScale(e){return this.set(\"clearcoatNormalScale\",e)}getClearcoatNormalTexture(){return this.getRef(\"clearcoatNormalTexture\")}getClearcoatNormalTextureInfo(){return this.getRef(\"clearcoatNormalTexture\")?this.getRef(\"clearcoatNormalTextureInfo\"):null}setClearcoatNormalTexture(e){return this.setRef(\"clearcoatNormalTexture\",e,{channels:le|he|fe})}}ge.EXTENSION_NAME=\"KHR_materials_clearcoat\";const pe=\"KHR_materials_clearcoat\";class xe extends s{constructor(...e){super(...e),this.extensionName=pe}createClearcoat(){return new ge(this.document.getGraph())}read(e){const t=e.jsonDoc,s=t.json.textures||[];return(t.json.materials||[]).forEach((t,r)=>{if(t.extensions&&t.extensions[pe]){const n=this.createClearcoat();e.materials[r].setExtension(pe,n);const o=t.extensions[pe];if(void 0!==o.clearcoatFactor&&n.setClearcoatFactor(o.clearcoatFactor),void 0!==o.clearcoatRoughnessFactor&&n.setClearcoatRoughnessFactor(o.clearcoatRoughnessFactor),void 0!==o.clearcoatTexture){const t=o.clearcoatTexture;n.setClearcoatTexture(e.textures[s[t.index].source]),e.setTextureInfo(n.getClearcoatTextureInfo(),t)}if(void 0!==o.clearcoatRoughnessTexture){const t=o.clearcoatRoughnessTexture;n.setClearcoatRoughnessTexture(e.textures[s[t.index].source]),e.setTextureInfo(n.getClearcoatRoughnessTextureInfo(),t)}if(void 0!==o.clearcoatNormalTexture){const t=o.clearcoatNormalTexture;n.setClearcoatNormalTexture(e.textures[s[t.index].source]),e.setTextureInfo(n.getClearcoatNormalTextureInfo(),t),void 0!==t.scale&&n.setClearcoatNormalScale(t.scale)}}}),this}write(e){const t=e.jsonDoc;return this.document.getRoot().listMaterials().forEach(s=>{const r=s.getExtension(pe);if(r){const n=e.materialIndexMap.get(s),o=t.json.materials[n];o.extensions=o.extensions||{};const i=o.extensions[pe]={clearcoatFactor:r.getClearcoatFactor(),clearcoatRoughnessFactor:r.getClearcoatRoughnessFactor()};if(r.getClearcoatTexture()){const t=r.getClearcoatTexture(),s=r.getClearcoatTextureInfo();i.clearcoatTexture=e.createTextureInfoDef(t,s)}if(r.getClearcoatRoughnessTexture()){const t=r.getClearcoatRoughnessTexture(),s=r.getClearcoatRoughnessTextureInfo();i.clearcoatRoughnessTexture=e.createTextureInfoDef(t,s)}if(r.getClearcoatNormalTexture()){const t=r.getClearcoatNormalTexture(),s=r.getClearcoatNormalTextureInfo();i.clearcoatNormalTexture=e.createTextureInfoDef(t,s),1!==r.getClearcoatNormalScale()&&(i.clearcoatNormalTexture.scale=r.getClearcoatNormalScale())}}}),this}}xe.EXTENSION_NAME=pe;class de extends e{init(){this.extensionName=\"KHR_materials_emissive_strength\",this.propertyType=\"EmissiveStrength\",this.parentTypes=[t.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{emissiveStrength:1})}getEmissiveStrength(){return this.get(\"emissiveStrength\")}setEmissiveStrength(e){return this.set(\"emissiveStrength\",e)}}de.EXTENSION_NAME=\"KHR_materials_emissive_strength\";const Te=\"KHR_materials_emissive_strength\";class me extends s{constructor(...e){super(...e),this.extensionName=Te}createEmissiveStrength(){return new de(this.document.getGraph())}read(e){return(e.jsonDoc.json.materials||[]).forEach((t,s)=>{if(t.extensions&&t.extensions[Te]){const r=this.createEmissiveStrength();e.materials[s].setExtension(Te,r);const n=t.extensions[Te];void 0!==n.emissiveStrength&&r.setEmissiveStrength(n.emissiveStrength)}}),this}write(e){const t=e.jsonDoc;return this.document.getRoot().listMaterials().forEach(s=>{const r=s.getExtension(Te);if(r){const n=e.materialIndexMap.get(s),o=t.json.materials[n];o.extensions=o.extensions||{},o.extensions[Te]={emissiveStrength:r.getEmissiveStrength()}}}),this}}me.EXTENSION_NAME=Te;class Ee extends e{init(){this.extensionName=\"KHR_materials_ior\",this.propertyType=\"IOR\",this.parentTypes=[t.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{ior:0})}getIOR(){return this.get(\"ior\")}setIOR(e){return this.set(\"ior\",e)}}Ee.EXTENSION_NAME=\"KHR_materials_ior\";const Ie=\"KHR_materials_ior\";class Re extends s{constructor(...e){super(...e),this.extensionName=Ie}createIOR(){return new Ee(this.document.getGraph())}read(e){return(e.jsonDoc.json.materials||[]).forEach((t,s)=>{if(t.extensions&&t.extensions[Ie]){const r=this.createIOR();e.materials[s].setExtension(Ie,r);const n=t.extensions[Ie];void 0!==n.ior&&r.setIOR(n.ior)}}),this}write(e){const t=e.jsonDoc;return this.document.getRoot().listMaterials().forEach(s=>{const r=s.getExtension(Ie);if(r){const n=e.materialIndexMap.get(s),o=t.json.materials[n];o.extensions=o.extensions||{},o.extensions[Ie]={ior:r.getIOR()}}}),this}}Re.EXTENSION_NAME=Ie;const{R:Ne,G:_e}=d;class Se extends e{init(){this.extensionName=\"KHR_materials_iridescence\",this.propertyType=\"Iridescence\",this.parentTypes=[t.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{iridescenceFactor:0,iridescenceTexture:null,iridescenceTextureInfo:new x(this.graph,\"iridescenceTextureInfo\"),iridescenceIOR:1.3,iridescenceThicknessMinimum:100,iridescenceThicknessMaximum:400,iridescenceThicknessTexture:null,iridescenceThicknessTextureInfo:new x(this.graph,\"iridescenceThicknessTextureInfo\")})}getIridescenceFactor(){return this.get(\"iridescenceFactor\")}setIridescenceFactor(e){return this.set(\"iridescenceFactor\",e)}getIridescenceTexture(){return this.getRef(\"iridescenceTexture\")}getIridescenceTextureInfo(){return this.getRef(\"iridescenceTexture\")?this.getRef(\"iridescenceTextureInfo\"):null}setIridescenceTexture(e){return this.setRef(\"iridescenceTexture\",e,{channels:Ne})}getIridescenceIOR(){return this.get(\"iridescenceIOR\")}setIridescenceIOR(e){return this.set(\"iridescenceIOR\",e)}getIridescenceThicknessMinimum(){return this.get(\"iridescenceThicknessMinimum\")}setIridescenceThicknessMinimum(e){return this.set(\"iridescenceThicknessMinimum\",e)}getIridescenceThicknessMaximum(){return this.get(\"iridescenceThicknessMaximum\")}setIridescenceThicknessMaximum(e){return this.set(\"iridescenceThicknessMaximum\",e)}getIridescenceThicknessTexture(){return this.getRef(\"iridescenceThicknessTexture\")}getIridescenceThicknessTextureInfo(){return this.getRef(\"iridescenceThicknessTexture\")?this.getRef(\"iridescenceThicknessTextureInfo\"):null}setIridescenceThicknessTexture(e){return this.setRef(\"iridescenceThicknessTexture\",e,{channels:_e})}}Se.EXTENSION_NAME=\"KHR_materials_iridescence\";const Ae=\"KHR_materials_iridescence\";class ye extends s{constructor(...e){super(...e),this.extensionName=Ae}createIridescence(){return new Se(this.document.getGraph())}read(e){const t=e.jsonDoc,s=t.json.textures||[];return(t.json.materials||[]).forEach((t,r)=>{if(t.extensions&&t.extensions[Ae]){const n=this.createIridescence();e.materials[r].setExtension(Ae,n);const o=t.extensions[Ae];if(void 0!==o.iridescenceFactor&&n.setIridescenceFactor(o.iridescenceFactor),void 0!==o.iridescenceIor&&n.setIridescenceIOR(o.iridescenceIor),void 0!==o.iridescenceThicknessMinimum&&n.setIridescenceThicknessMinimum(o.iridescenceThicknessMinimum),void 0!==o.iridescenceThicknessMaximum&&n.setIridescenceThicknessMaximum(o.iridescenceThicknessMaximum),void 0!==o.iridescenceTexture){const t=o.iridescenceTexture;n.setIridescenceTexture(e.textures[s[t.index].source]),e.setTextureInfo(n.getIridescenceTextureInfo(),t)}if(void 0!==o.iridescenceThicknessTexture){const t=o.iridescenceThicknessTexture;n.setIridescenceThicknessTexture(e.textures[s[t.index].source]),e.setTextureInfo(n.getIridescenceThicknessTextureInfo(),t)}}}),this}write(e){const t=e.jsonDoc;return this.document.getRoot().listMaterials().forEach(s=>{const r=s.getExtension(Ae);if(r){const n=e.materialIndexMap.get(s),o=t.json.materials[n];o.extensions=o.extensions||{};const i=o.extensions[Ae]={};if(r.getIridescenceFactor()>0&&(i.iridescenceFactor=r.getIridescenceFactor()),1.3!==r.getIridescenceIOR()&&(i.iridescenceIor=r.getIridescenceIOR()),100!==r.getIridescenceThicknessMinimum()&&(i.iridescenceThicknessMinimum=r.getIridescenceThicknessMinimum()),400!==r.getIridescenceThicknessMaximum()&&(i.iridescenceThicknessMaximum=r.getIridescenceThicknessMaximum()),r.getIridescenceTexture()){const t=r.getIridescenceTexture(),s=r.getIridescenceTextureInfo();i.iridescenceTexture=e.createTextureInfoDef(t,s)}if(r.getIridescenceThicknessTexture()){const t=r.getIridescenceThicknessTexture(),s=r.getIridescenceThicknessTextureInfo();i.iridescenceThicknessTexture=e.createTextureInfoDef(t,s)}}}),this}}ye.EXTENSION_NAME=Ae;const{R:Ce,G:Me,B:Oe,A:we}=d;class De extends e{init(){this.extensionName=\"KHR_materials_pbrSpecularGlossiness\",this.propertyType=\"PBRSpecularGlossiness\",this.parentTypes=[t.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{diffuseFactor:[1,1,1,1],diffuseTexture:null,diffuseTextureInfo:new x(this.graph,\"diffuseTextureInfo\"),specularFactor:[1,1,1],glossinessFactor:1,specularGlossinessTexture:null,specularGlossinessTextureInfo:new x(this.graph,\"specularGlossinessTextureInfo\")})}getDiffuseFactor(){return this.get(\"diffuseFactor\")}setDiffuseFactor(e){return this.set(\"diffuseFactor\",e)}getDiffuseHex(){return p.factorToHex(this.getDiffuseFactor())}setDiffuseHex(e){const t=this.getDiffuseFactor().slice();return this.setDiffuseFactor(p.hexToFactor(e,t))}getDiffuseTexture(){return this.getRef(\"diffuseTexture\")}getDiffuseTextureInfo(){return this.getRef(\"diffuseTexture\")?this.getRef(\"diffuseTextureInfo\"):null}setDiffuseTexture(e){return this.setRef(\"diffuseTexture\",e,{channels:Ce|Me|Oe|we})}getSpecularFactor(){return this.get(\"specularFactor\")}setSpecularFactor(e){return this.set(\"specularFactor\",e)}getGlossinessFactor(){return this.get(\"glossinessFactor\")}setGlossinessFactor(e){return this.set(\"glossinessFactor\",e)}getSpecularGlossinessTexture(){return this.getRef(\"specularGlossinessTexture\")}getSpecularGlossinessTextureInfo(){return this.getRef(\"specularGlossinessTexture\")?this.getRef(\"specularGlossinessTextureInfo\"):null}setSpecularGlossinessTexture(e){return this.setRef(\"specularGlossinessTexture\",e,{channels:Ce|Me|Oe|we})}}De.EXTENSION_NAME=\"KHR_materials_pbrSpecularGlossiness\";const Fe=\"KHR_materials_pbrSpecularGlossiness\";class be extends s{constructor(...e){super(...e),this.extensionName=Fe}createPBRSpecularGlossiness(){return new De(this.document.getGraph())}read(e){const t=e.jsonDoc,s=t.json.textures||[];return(t.json.materials||[]).forEach((t,r)=>{if(t.extensions&&t.extensions[Fe]){const n=this.createPBRSpecularGlossiness();e.materials[r].setExtension(Fe,n);const o=t.extensions[Fe];if(void 0!==o.diffuseFactor&&n.setDiffuseFactor(o.diffuseFactor),void 0!==o.specularFactor&&n.setSpecularFactor(o.specularFactor),void 0!==o.glossinessFactor&&n.setGlossinessFactor(o.glossinessFactor),void 0!==o.diffuseTexture){const t=o.diffuseTexture;n.setDiffuseTexture(e.textures[s[t.index].source]),e.setTextureInfo(n.getDiffuseTextureInfo(),t)}if(void 0!==o.specularGlossinessTexture){const t=o.specularGlossinessTexture;n.setSpecularGlossinessTexture(e.textures[s[t.index].source]),e.setTextureInfo(n.getSpecularGlossinessTextureInfo(),t)}}}),this}write(e){const t=e.jsonDoc;return this.document.getRoot().listMaterials().forEach(s=>{const r=s.getExtension(Fe);if(r){const n=e.materialIndexMap.get(s),o=t.json.materials[n];o.extensions=o.extensions||{};const i=o.extensions[Fe]={diffuseFactor:r.getDiffuseFactor(),specularFactor:r.getSpecularFactor(),glossinessFactor:r.getGlossinessFactor()};if(r.getDiffuseTexture()){const t=r.getDiffuseTexture(),s=r.getDiffuseTextureInfo();i.diffuseTexture=e.createTextureInfoDef(t,s)}if(r.getSpecularGlossinessTexture()){const t=r.getSpecularGlossinessTexture(),s=r.getSpecularGlossinessTextureInfo();i.specularGlossinessTexture=e.createTextureInfoDef(t,s)}}}),this}}be.EXTENSION_NAME=Fe;const{R:je,G:ve,B:ke,A:Be}=d;class Ge extends e{init(){this.extensionName=\"KHR_materials_sheen\",this.propertyType=\"Sheen\",this.parentTypes=[t.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{sheenColorFactor:[0,0,0],sheenColorTexture:null,sheenColorTextureInfo:new x(this.graph,\"sheenColorTextureInfo\"),sheenRoughnessFactor:0,sheenRoughnessTexture:null,sheenRoughnessTextureInfo:new x(this.graph,\"sheenRoughnessTextureInfo\")})}getSheenColorFactor(){return this.get(\"sheenColorFactor\")}getSheenColorHex(){return p.factorToHex(this.getSheenColorFactor())}setSheenColorFactor(e){return this.set(\"sheenColorFactor\",e)}setSheenColorHex(e){const t=this.getSheenColorFactor().slice();return this.set(\"sheenColorFactor\",p.hexToFactor(e,t))}getSheenColorTexture(){return this.getRef(\"sheenColorTexture\")}getSheenColorTextureInfo(){return this.getRef(\"sheenColorTexture\")?this.getRef(\"sheenColorTextureInfo\"):null}setSheenColorTexture(e){return this.setRef(\"sheenColorTexture\",e,{channels:je|ve|ke})}getSheenRoughnessFactor(){return this.get(\"sheenRoughnessFactor\")}setSheenRoughnessFactor(e){return this.set(\"sheenRoughnessFactor\",e)}getSheenRoughnessTexture(){return this.getRef(\"sheenRoughnessTexture\")}getSheenRoughnessTextureInfo(){return this.getRef(\"sheenRoughnessTexture\")?this.getRef(\"sheenRoughnessTextureInfo\"):null}setSheenRoughnessTexture(e){return this.setRef(\"sheenRoughnessTexture\",e,{channels:Be})}}Ge.EXTENSION_NAME=\"KHR_materials_sheen\";const He=\"KHR_materials_sheen\";class Le extends s{constructor(...e){super(...e),this.extensionName=He}createSheen(){return new Ge(this.document.getGraph())}read(e){const t=e.jsonDoc,s=t.json.textures||[];return(t.json.materials||[]).forEach((t,r)=>{if(t.extensions&&t.extensions[He]){const n=this.createSheen();e.materials[r].setExtension(He,n);const o=t.extensions[He];if(void 0!==o.sheenColorFactor&&n.setSheenColorFactor(o.sheenColorFactor),void 0!==o.sheenRoughnessFactor&&n.setSheenRoughnessFactor(o.sheenRoughnessFactor),void 0!==o.sheenColorTexture){const t=o.sheenColorTexture;n.setSheenColorTexture(e.textures[s[t.index].source]),e.setTextureInfo(n.getSheenColorTextureInfo(),t)}if(void 0!==o.sheenRoughnessTexture){const t=o.sheenRoughnessTexture;n.setSheenRoughnessTexture(e.textures[s[t.index].source]),e.setTextureInfo(n.getSheenRoughnessTextureInfo(),t)}}}),this}write(e){const t=e.jsonDoc;return this.document.getRoot().listMaterials().forEach(s=>{const r=s.getExtension(He);if(r){const n=e.materialIndexMap.get(s),o=t.json.materials[n];o.extensions=o.extensions||{};const i=o.extensions[He]={sheenColorFactor:r.getSheenColorFactor(),sheenRoughnessFactor:r.getSheenRoughnessFactor()};if(r.getSheenColorTexture()){const t=r.getSheenColorTexture(),s=r.getSheenColorTextureInfo();i.sheenColorTexture=e.createTextureInfoDef(t,s)}if(r.getSheenRoughnessTexture()){const t=r.getSheenRoughnessTexture(),s=r.getSheenRoughnessTextureInfo();i.sheenRoughnessTexture=e.createTextureInfoDef(t,s)}}}),this}}Le.EXTENSION_NAME=He;const{R:Ue,G:Pe,B:Ve,A:Xe}=d;class Ke extends e{init(){this.extensionName=\"KHR_materials_specular\",this.propertyType=\"Specular\",this.parentTypes=[t.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{specularFactor:1,specularTexture:null,specularTextureInfo:new x(this.graph,\"specularTextureInfo\"),specularColorFactor:[1,1,1],specularColorTexture:null,specularColorTextureInfo:new x(this.graph,\"specularColorTextureInfo\")})}getSpecularFactor(){return this.get(\"specularFactor\")}setSpecularFactor(e){return this.set(\"specularFactor\",e)}getSpecularColorFactor(){return this.get(\"specularColorFactor\")}setSpecularColorFactor(e){return this.set(\"specularColorFactor\",e)}getSpecularColorHex(){return p.factorToHex(this.getSpecularColorFactor())}setSpecularColorHex(e){const t=this.getSpecularColorFactor().slice();return this.set(\"specularColorFactor\",p.hexToFactor(e,t))}getSpecularTexture(){return this.getRef(\"specularTexture\")}getSpecularTextureInfo(){return this.getRef(\"specularTexture\")?this.getRef(\"specularTextureInfo\"):null}setSpecularTexture(e){return this.setRef(\"specularTexture\",e,{channels:Xe})}getSpecularColorTexture(){return this.getRef(\"specularColorTexture\")}getSpecularColorTextureInfo(){return this.getRef(\"specularColorTexture\")?this.getRef(\"specularColorTextureInfo\"):null}setSpecularColorTexture(e){return this.setRef(\"specularColorTexture\",e,{channels:Ue|Pe|Ve})}}Ke.EXTENSION_NAME=\"KHR_materials_specular\";const ze=\"KHR_materials_specular\";class qe extends s{constructor(...e){super(...e),this.extensionName=ze}createSpecular(){return new Ke(this.document.getGraph())}read(e){const t=e.jsonDoc,s=t.json.textures||[];return(t.json.materials||[]).forEach((t,r)=>{if(t.extensions&&t.extensions[ze]){const n=this.createSpecular();e.materials[r].setExtension(ze,n);const o=t.extensions[ze];if(void 0!==o.specularFactor&&n.setSpecularFactor(o.specularFactor),void 0!==o.specularColorFactor&&n.setSpecularColorFactor(o.specularColorFactor),void 0!==o.specularTexture){const t=o.specularTexture;n.setSpecularTexture(e.textures[s[t.index].source]),e.setTextureInfo(n.getSpecularTextureInfo(),t)}if(void 0!==o.specularColorTexture){const t=o.specularColorTexture;n.setSpecularColorTexture(e.textures[s[t.index].source]),e.setTextureInfo(n.getSpecularColorTextureInfo(),t)}}}),this}write(e){const t=e.jsonDoc;return this.document.getRoot().listMaterials().forEach(s=>{const r=s.getExtension(ze);if(r){const n=e.materialIndexMap.get(s),o=t.json.materials[n];o.extensions=o.extensions||{};const i=o.extensions[ze]={};if(1!==r.getSpecularFactor()&&(i.specularFactor=r.getSpecularFactor()),l.eq(r.getSpecularColorFactor(),[1,1,1])||(i.specularColorFactor=r.getSpecularColorFactor()),r.getSpecularTexture()){const t=r.getSpecularTexture(),s=r.getSpecularTextureInfo();i.specularTexture=e.createTextureInfoDef(t,s)}if(r.getSpecularColorTexture()){const t=r.getSpecularColorTexture(),s=r.getSpecularColorTextureInfo();i.specularColorTexture=e.createTextureInfoDef(t,s)}}}),this}}qe.EXTENSION_NAME=ze;const{R:$e}=d;class Ye extends e{init(){this.extensionName=\"KHR_materials_transmission\",this.propertyType=\"Transmission\",this.parentTypes=[t.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{transmissionFactor:0,transmissionTexture:null,transmissionTextureInfo:new x(this.graph,\"transmissionTextureInfo\")})}getTransmissionFactor(){return this.get(\"transmissionFactor\")}setTransmissionFactor(e){return this.set(\"transmissionFactor\",e)}getTransmissionTexture(){return this.getRef(\"transmissionTexture\")}getTransmissionTextureInfo(){return this.getRef(\"transmissionTexture\")?this.getRef(\"transmissionTextureInfo\"):null}setTransmissionTexture(e){return this.setRef(\"transmissionTexture\",e,{channels:$e})}}Ye.EXTENSION_NAME=\"KHR_materials_transmission\";const Qe=\"KHR_materials_transmission\";class We extends s{constructor(...e){super(...e),this.extensionName=Qe}createTransmission(){return new Ye(this.document.getGraph())}read(e){const t=e.jsonDoc,s=t.json.textures||[];return(t.json.materials||[]).forEach((t,r)=>{if(t.extensions&&t.extensions[Qe]){const n=this.createTransmission();e.materials[r].setExtension(Qe,n);const o=t.extensions[Qe];if(void 0!==o.transmissionFactor&&n.setTransmissionFactor(o.transmissionFactor),void 0!==o.transmissionTexture){const t=o.transmissionTexture;n.setTransmissionTexture(e.textures[s[t.index].source]),e.setTextureInfo(n.getTransmissionTextureInfo(),t)}}}),this}write(e){const t=e.jsonDoc;return this.document.getRoot().listMaterials().forEach(s=>{const r=s.getExtension(Qe);if(r){const n=e.materialIndexMap.get(s),o=t.json.materials[n];o.extensions=o.extensions||{};const i=o.extensions[Qe]={transmissionFactor:r.getTransmissionFactor()};if(r.getTransmissionTexture()){const t=r.getTransmissionTexture(),s=r.getTransmissionTextureInfo();i.transmissionTexture=e.createTextureInfoDef(t,s)}}}),this}}We.EXTENSION_NAME=Qe;class Je extends e{init(){this.extensionName=\"KHR_materials_unlit\",this.propertyType=\"Unlit\",this.parentTypes=[t.MATERIAL]}}Je.EXTENSION_NAME=\"KHR_materials_unlit\";const Ze=\"KHR_materials_unlit\";class et extends s{constructor(...e){super(...e),this.extensionName=Ze}createUnlit(){return new Je(this.document.getGraph())}read(e){return(e.jsonDoc.json.materials||[]).forEach((t,s)=>{t.extensions&&t.extensions[Ze]&&e.materials[s].setExtension(Ze,this.createUnlit())}),this}write(e){const t=e.jsonDoc;return this.document.getRoot().listMaterials().forEach(s=>{if(s.getExtension(Ze)){const r=e.materialIndexMap.get(s),n=t.json.materials[r];n.extensions=n.extensions||{},n.extensions[Ze]={}}}),this}}et.EXTENSION_NAME=Ze;class tt extends e{init(){this.extensionName=\"KHR_materials_variants\",this.propertyType=\"Mapping\",this.parentTypes=[\"MappingList\"]}getDefaults(){return Object.assign(super.getDefaults(),{material:null,variants:[]})}getMaterial(){return this.getRef(\"material\")}setMaterial(e){return this.setRef(\"material\",e)}addVariant(e){return this.addRef(\"variants\",e)}removeVariant(e){return this.removeRef(\"variants\",e)}listVariants(){return this.listRefs(\"variants\")}}tt.EXTENSION_NAME=\"KHR_materials_variants\";class st extends e{init(){this.extensionName=\"KHR_materials_variants\",this.propertyType=\"MappingList\",this.parentTypes=[t.PRIMITIVE]}getDefaults(){return Object.assign(super.getDefaults(),{mappings:[]})}addMapping(e){return this.addRef(\"mappings\",e)}removeMapping(e){return this.removeRef(\"mappings\",e)}listMappings(){return this.listRefs(\"mappings\")}}st.EXTENSION_NAME=\"KHR_materials_variants\";class rt extends e{init(){this.extensionName=\"KHR_materials_variants\",this.propertyType=\"Variant\",this.parentTypes=[\"MappingList\"]}}rt.EXTENSION_NAME=\"KHR_materials_variants\";const nt=\"KHR_materials_variants\";class ot extends s{constructor(...e){super(...e),this.extensionName=nt}createMappingList(){return new st(this.document.getGraph())}createVariant(e=\"\"){return new rt(this.document.getGraph(),e)}createMapping(){return new tt(this.document.getGraph())}listVariants(){return Array.from(this.properties).filter(e=>e instanceof rt)}read(e){const t=e.jsonDoc;if(!t.json.extensions||!t.json.extensions[nt])return this;const s=(t.json.extensions[nt].variants||[]).map(e=>this.createVariant().setName(e.name||\"\"));return(t.json.meshes||[]).forEach((t,r)=>{const n=e.meshes[r];(t.primitives||[]).forEach((t,r)=>{if(!t.extensions||!t.extensions[nt])return;const o=this.createMappingList(),i=t.extensions[nt];for(const t of i.mappings){const r=this.createMapping();void 0!==t.material&&r.setMaterial(e.materials[t.material]);for(const e of t.variants||[])r.addVariant(s[e]);o.addMapping(r)}n.listPrimitives()[r].setExtension(nt,o)})}),this}write(e){const t=e.jsonDoc,s=this.listVariants();if(!s.length)return this;const r=[],n=new Map;for(const t of s)n.set(t,r.length),r.push(e.createPropertyDef(t));for(const t of this.document.getRoot().listMeshes()){const s=e.meshIndexMap.get(t);t.listPrimitives().forEach((t,r)=>{const o=t.getExtension(nt);if(!o)return;const i=e.jsonDoc.json.meshes[s].primitives[r],a=o.listMappings().map(t=>{const s=e.createPropertyDef(t),r=t.getMaterial();return r&&(s.material=e.materialIndexMap.get(r)),s.variants=t.listVariants().map(e=>n.get(e)),s});i.extensions=i.extensions||{},i.extensions[nt]={mappings:a}})}return t.json.extensions=t.json.extensions||{},t.json.extensions[nt]={variants:r},this}}ot.EXTENSION_NAME=nt;const{G:it}=d;class at extends e{init(){this.extensionName=\"KHR_materials_volume\",this.propertyType=\"Volume\",this.parentTypes=[t.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{thicknessFactor:0,thicknessTexture:null,thicknessTextureInfo:new x(this.graph,\"thicknessTexture\"),attenuationDistance:Infinity,attenuationColor:[1,1,1]})}getThicknessFactor(){return this.get(\"thicknessFactor\")}setThicknessFactor(e){return this.set(\"thicknessFactor\",e)}getThicknessTexture(){return this.getRef(\"thicknessTexture\")}getThicknessTextureInfo(){return this.getRef(\"thicknessTexture\")?this.getRef(\"thicknessTextureInfo\"):null}setThicknessTexture(e){return this.setRef(\"thicknessTexture\",e,{channels:it})}getAttenuationDistance(){return this.get(\"attenuationDistance\")}setAttenuationDistance(e){return this.set(\"attenuationDistance\",e)}getAttenuationColor(){return this.get(\"attenuationColor\")}setAttenuationColor(e){return this.set(\"attenuationColor\",e)}getAttenuationColorHex(){return p.factorToHex(this.getAttenuationColor())}setAttenuationColorHex(e){const t=this.getAttenuationColor().slice();return this.set(\"attenuationColor\",p.hexToFactor(e,t))}}at.EXTENSION_NAME=\"KHR_materials_volume\";const ct=\"KHR_materials_volume\";class ut extends s{constructor(...e){super(...e),this.extensionName=ct}createVolume(){return new at(this.document.getGraph())}read(e){const t=e.jsonDoc,s=t.json.textures||[];return(t.json.materials||[]).forEach((t,r)=>{if(t.extensions&&t.extensions[ct]){const n=this.createVolume();e.materials[r].setExtension(ct,n);const o=t.extensions[ct];if(void 0!==o.thicknessFactor&&n.setThicknessFactor(o.thicknessFactor),void 0!==o.attenuationDistance&&n.setAttenuationDistance(o.attenuationDistance),void 0!==o.attenuationColor&&n.setAttenuationColor(o.attenuationColor),void 0!==o.thicknessTexture){const t=o.thicknessTexture;n.setThicknessTexture(e.textures[s[t.index].source]),e.setTextureInfo(n.getThicknessTextureInfo(),t)}}}),this}write(e){const t=e.jsonDoc;return this.document.getRoot().listMaterials().forEach(s=>{const r=s.getExtension(ct);if(r){const n=e.materialIndexMap.get(s),o=t.json.materials[n];o.extensions=o.extensions||{};const i=o.extensions[ct]={};if(r.getThicknessFactor()>0&&(i.thicknessFactor=r.getThicknessFactor()),Number.isFinite(r.getAttenuationDistance())&&(i.attenuationDistance=r.getAttenuationDistance()),l.eq(r.getAttenuationColor(),[1,1,1])||(i.attenuationColor=r.getAttenuationColor()),r.getThicknessTexture()){const t=r.getThicknessTexture(),s=r.getThicknessTextureInfo();i.thicknessTexture=e.createTextureInfoDef(t,s)}}}),this}}ut.EXTENSION_NAME=ct;const lt=\"KHR_mesh_quantization\";class ht extends s{constructor(...e){super(...e),this.extensionName=lt}read(e){return this}write(e){return this}}ht.EXTENSION_NAME=lt;const ft=\"KHR_texture_basisu\";class gt{match(e){return 171===e[0]&&75===e[1]&&84===e[2]&&88===e[3]&&32===e[4]&&50===e[5]&&48===e[6]&&187===e[7]&&13===e[8]&&10===e[9]&&26===e[10]&&10===e[11]}getSize(e){const t=T(e);return[t.pixelWidth,t.pixelHeight]}getChannels(e){const t=T(e).dataFormatDescriptor[0];if(t.colorModel===m)return 2===t.samples.length&&15==(15&t.samples[1].channelType)?4:3;if(t.colorModel===E)return 3==(15&t.samples[0].channelType)?4:3;throw new Error(`Unexpected KTX2 colorModel, \"${t.colorModel}\".`)}getGPUByteLength(e){const t=T(e),s=this.getChannels(e)>3;let r=0;for(let e=0;e<t.levels.length;e++){const n=t.levels[e];r+=n.uncompressedByteLength?n.uncompressedByteLength:Math.max(1,Math.floor(t.pixelWidth/Math.pow(2,e)))/4*(Math.max(1,Math.floor(t.pixelHeight/Math.pow(2,e)))/4)*(s?16:8)}return r}}class pt extends s{constructor(...e){super(...e),this.extensionName=ft,this.prereadTypes=[t.TEXTURE]}static register(){f.registerFormat(\"image/ktx2\",new gt)}preread(e){return e.jsonDoc.json.textures.forEach(e=>{e.extensions&&e.extensions[ft]&&(e.source=e.extensions[ft].source)}),this}read(e){return this}write(e){const t=e.jsonDoc;return this.document.getRoot().listTextures().forEach(s=>{if(\"image/ktx2\"===s.getMimeType()){const r=e.imageIndexMap.get(s);t.json.textures.forEach(e=>{e.source===r&&(e.extensions=e.extensions||{},e.extensions[ft]={source:e.source},delete e.source)})}}),this}}pt.EXTENSION_NAME=ft;class xt extends e{init(){this.extensionName=\"KHR_texture_transform\",this.propertyType=\"Transform\",this.parentTypes=[t.TEXTURE_INFO]}getDefaults(){return Object.assign(super.getDefaults(),{offset:[0,0],rotation:0,scale:[1,1],texCoord:null})}getOffset(){return this.get(\"offset\")}setOffset(e){return this.set(\"offset\",e)}getRotation(){return this.get(\"rotation\")}setRotation(e){return this.set(\"rotation\",e)}getScale(){return this.get(\"scale\")}setScale(e){return this.set(\"scale\",e)}getTexCoord(){return this.get(\"texCoord\")}setTexCoord(e){return this.set(\"texCoord\",e)}}xt.EXTENSION_NAME=\"KHR_texture_transform\";const dt=\"KHR_texture_transform\";class Tt extends s{constructor(...e){super(...e),this.extensionName=dt}createTransform(){return new xt(this.document.getGraph())}read(e){for(const[t,s]of Array.from(e.textureInfos.entries())){if(!s.extensions||!s.extensions[dt])continue;const e=this.createTransform(),r=s.extensions[dt];void 0!==r.offset&&e.setOffset(r.offset),void 0!==r.rotation&&e.setRotation(r.rotation),void 0!==r.scale&&e.setScale(r.scale),void 0!==r.texCoord&&e.setTexCoord(r.texCoord),t.setExtension(dt,e)}return this}write(e){const t=Array.from(e.textureInfoDefMap.entries());for(const[e,s]of t){const t=e.getExtension(dt);if(!t)continue;s.extensions=s.extensions||{};const r={},n=l.eq;n(t.getOffset(),[0,0])||(r.offset=t.getOffset()),0!==t.getRotation()&&(r.rotation=t.getRotation()),n(t.getScale(),[1,1])||(r.scale=t.getScale()),null!=t.getTexCoord()&&(r.texCoord=t.getTexCoord()),s.extensions[dt]=r}return this}}Tt.EXTENSION_NAME=dt;const mt=[t.ROOT,t.SCENE,t.NODE,t.MESH,t.MATERIAL,t.TEXTURE,t.ANIMATION];class Et extends e{init(){this.extensionName=\"KHR_xmp_json_ld\",this.propertyType=\"Packet\",this.parentTypes=mt}getDefaults(){return Object.assign(super.getDefaults(),{context:{},properties:{}})}getContext(){return this.get(\"context\")}setContext(e){return this.set(\"context\",S({},e))}listProperties(){return Object.keys(this.get(\"properties\"))}getProperty(e){const t=this.get(\"properties\");return e in t?t[e]:null}setProperty(e,t){this._assertContext(e);const s=S({},this.get(\"properties\"));return t?s[e]=t:delete s[e],this.set(\"properties\",s)}toJSONLD(){return S({\"@context\":It(this.get(\"context\"))},It(this.get(\"properties\")))}fromJSONLD(e){const t=(e=It(e))[\"@context\"];return t&&this.set(\"context\",t),delete e[\"@context\"],this.set(\"properties\",e)}_assertContext(e){if(!(e.split(\":\")[0]in this.get(\"context\")))throw new Error(`KHR_xmp_json_ld: Missing context for term, \"${e}\".`)}}function It(e){return JSON.parse(JSON.stringify(e))}Et.EXTENSION_NAME=\"KHR_xmp_json_ld\";const Rt=\"KHR_xmp_json_ld\";class Nt extends s{constructor(...e){super(...e),this.extensionName=Rt}createPacket(){return new Et(this.document.getGraph())}listPackets(){return Array.from(this.properties)}read(e){var t;const s=null==(t=e.jsonDoc.json.extensions)?void 0:t[Rt];if(!s||!s.packets)return this;const r=e.jsonDoc.json,n=this.document.getRoot(),o=s.packets.map(e=>this.createPacket().fromJSONLD(e)),i=[[r.asset],r.scenes,r.nodes,r.meshes,r.materials,r.images,r.animations],a=[[n],n.listScenes(),n.listNodes(),n.listMeshes(),n.listMaterials(),n.listTextures(),n.listAnimations()];for(let e=0;e<i.length;e++){const t=i[e]||[];for(let s=0;s<t.length;s++){const r=t[s];r.extensions&&r.extensions[Rt]&&a[e][s].setExtension(Rt,o[r.extensions[Rt].packet])}}return this}write(e){const{json:s}=e.jsonDoc,r=[];for(const n of this.properties){r.push(n.toJSONLD());for(const o of n.listParents()){let n;switch(o.propertyType){case t.ROOT:n=s.asset;break;case t.SCENE:n=s.scenes[e.sceneIndexMap.get(o)];break;case t.NODE:n=s.nodes[e.nodeIndexMap.get(o)];break;case t.MESH:n=s.meshes[e.meshIndexMap.get(o)];break;case t.MATERIAL:n=s.materials[e.materialIndexMap.get(o)];break;case t.TEXTURE:n=s.images[e.imageIndexMap.get(o)];break;case t.ANIMATION:n=s.animations[e.animationIndexMap.get(o)];break;default:n=null,this.document.getLogger().warn(`[${Rt}]: Unsupported parent property, \"${o.propertyType}\"`)}n&&(n.extensions=n.extensions||{},n.extensions[Rt]={packet:r.length-1})}}return r.length>0&&(s.extensions=s.extensions||{},s.extensions[Rt]={packets:r}),this}}Nt.EXTENSION_NAME=Rt;const _t=[oe,ue,xe,me,Re,ye,be,qe,Le,We,et,ot,ut,ht,pt,Tt,Nt],St=[_,H,P,..._t];export{St as ALL_EXTENSIONS,ge as Clearcoat,oe as DracoMeshCompression,de as EmissiveStrength,I as INSTANCE_ATTRIBUTE,Ee as IOR,R as InstancedMesh,Se as Iridescence,_t as KHRONOS_EXTENSIONS,ae as Light,ue as LightsPunctual,tt as Mapping,st as MappingList,xe as MaterialsClearcoat,me as MaterialsEmissiveStrength,Re as MaterialsIOR,ye as MaterialsIridescence,be as MaterialsPBRSpecularGlossiness,Le as MaterialsSheen,qe as MaterialsSpecular,We as MaterialsTransmission,et as MaterialsUnlit,ot as MaterialsVariants,ut as MaterialsVolume,_ as MeshGPUInstancing,ht as MeshQuantization,H as MeshoptCompression,De as PBRSpecularGlossiness,Et as Packet,Ge as Sheen,Ke as Specular,pt as TextureBasisu,Tt as TextureTransform,P as TextureWebP,xt as Transform,Ye as Transmission,Je as Unlit,rt as Variant,at as Volume,Nt as XMP};\n//# sourceMappingURL=extensions.modern.js.map\n","\"use strict\"\n\nfunction iota(n) {\n  var result = new Array(n)\n  for(var i=0; i<n; ++i) {\n    result[i] = i\n  }\n  return result\n}\n\nmodule.exports = iota","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","var iota = require(\"iota-array\")\nvar isBuffer = require(\"is-buffer\")\n\nvar hasTypedArrays  = ((typeof Float64Array) !== \"undefined\")\n\nfunction compare1st(a, b) {\n  return a[0] - b[0]\n}\n\nfunction order() {\n  var stride = this.stride\n  var terms = new Array(stride.length)\n  var i\n  for(i=0; i<terms.length; ++i) {\n    terms[i] = [Math.abs(stride[i]), i]\n  }\n  terms.sort(compare1st)\n  var result = new Array(terms.length)\n  for(i=0; i<result.length; ++i) {\n    result[i] = terms[i][1]\n  }\n  return result\n}\n\nfunction compileConstructor(dtype, dimension) {\n  var className = [\"View\", dimension, \"d\", dtype].join(\"\")\n  if(dimension < 0) {\n    className = \"View_Nil\" + dtype\n  }\n  var useGetters = (dtype === \"generic\")\n\n  if(dimension === -1) {\n    //Special case for trivial arrays\n    var code =\n      \"function \"+className+\"(a){this.data=a;};\\\nvar proto=\"+className+\".prototype;\\\nproto.dtype='\"+dtype+\"';\\\nproto.index=function(){return -1};\\\nproto.size=0;\\\nproto.dimension=-1;\\\nproto.shape=proto.stride=proto.order=[];\\\nproto.lo=proto.hi=proto.transpose=proto.step=\\\nfunction(){return new \"+className+\"(this.data);};\\\nproto.get=proto.set=function(){};\\\nproto.pick=function(){return null};\\\nreturn function construct_\"+className+\"(a){return new \"+className+\"(a);}\"\n    var procedure = new Function(code)\n    return procedure()\n  } else if(dimension === 0) {\n    //Special case for 0d arrays\n    var code =\n      \"function \"+className+\"(a,d) {\\\nthis.data = a;\\\nthis.offset = d\\\n};\\\nvar proto=\"+className+\".prototype;\\\nproto.dtype='\"+dtype+\"';\\\nproto.index=function(){return this.offset};\\\nproto.dimension=0;\\\nproto.size=1;\\\nproto.shape=\\\nproto.stride=\\\nproto.order=[];\\\nproto.lo=\\\nproto.hi=\\\nproto.transpose=\\\nproto.step=function \"+className+\"_copy() {\\\nreturn new \"+className+\"(this.data,this.offset)\\\n};\\\nproto.pick=function \"+className+\"_pick(){\\\nreturn TrivialArray(this.data);\\\n};\\\nproto.valueOf=proto.get=function \"+className+\"_get(){\\\nreturn \"+(useGetters ? \"this.data.get(this.offset)\" : \"this.data[this.offset]\")+\n\"};\\\nproto.set=function \"+className+\"_set(v){\\\nreturn \"+(useGetters ? \"this.data.set(this.offset,v)\" : \"this.data[this.offset]=v\")+\"\\\n};\\\nreturn function construct_\"+className+\"(a,b,c,d){return new \"+className+\"(a,d)}\"\n    var procedure = new Function(\"TrivialArray\", code)\n    return procedure(CACHED_CONSTRUCTORS[dtype][0])\n  }\n\n  var code = [\"'use strict'\"]\n\n  //Create constructor for view\n  var indices = iota(dimension)\n  var args = indices.map(function(i) { return \"i\"+i })\n  var index_str = \"this.offset+\" + indices.map(function(i) {\n        return \"this.stride[\" + i + \"]*i\" + i\n      }).join(\"+\")\n  var shapeArg = indices.map(function(i) {\n      return \"b\"+i\n    }).join(\",\")\n  var strideArg = indices.map(function(i) {\n      return \"c\"+i\n    }).join(\",\")\n  code.push(\n    \"function \"+className+\"(a,\" + shapeArg + \",\" + strideArg + \",d){this.data=a\",\n      \"this.shape=[\" + shapeArg + \"]\",\n      \"this.stride=[\" + strideArg + \"]\",\n      \"this.offset=d|0}\",\n    \"var proto=\"+className+\".prototype\",\n    \"proto.dtype='\"+dtype+\"'\",\n    \"proto.dimension=\"+dimension)\n\n  //view.size:\n  code.push(\"Object.defineProperty(proto,'size',{get:function \"+className+\"_size(){\\\nreturn \"+indices.map(function(i) { return \"this.shape[\"+i+\"]\" }).join(\"*\"),\n\"}})\")\n\n  //view.order:\n  if(dimension === 1) {\n    code.push(\"proto.order=[0]\")\n  } else {\n    code.push(\"Object.defineProperty(proto,'order',{get:\")\n    if(dimension < 4) {\n      code.push(\"function \"+className+\"_order(){\")\n      if(dimension === 2) {\n        code.push(\"return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})\")\n      } else if(dimension === 3) {\n        code.push(\n\"var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);\\\nif(s0>s1){\\\nif(s1>s2){\\\nreturn [2,1,0];\\\n}else if(s0>s2){\\\nreturn [1,2,0];\\\n}else{\\\nreturn [1,0,2];\\\n}\\\n}else if(s0>s2){\\\nreturn [2,0,1];\\\n}else if(s2>s1){\\\nreturn [0,1,2];\\\n}else{\\\nreturn [0,2,1];\\\n}}})\")\n      }\n    } else {\n      code.push(\"ORDER})\")\n    }\n  }\n\n  //view.set(i0, ..., v):\n  code.push(\n\"proto.set=function \"+className+\"_set(\"+args.join(\",\")+\",v){\")\n  if(useGetters) {\n    code.push(\"return this.data.set(\"+index_str+\",v)}\")\n  } else {\n    code.push(\"return this.data[\"+index_str+\"]=v}\")\n  }\n\n  //view.get(i0, ...):\n  code.push(\"proto.get=function \"+className+\"_get(\"+args.join(\",\")+\"){\")\n  if(useGetters) {\n    code.push(\"return this.data.get(\"+index_str+\")}\")\n  } else {\n    code.push(\"return this.data[\"+index_str+\"]}\")\n  }\n\n  //view.index:\n  code.push(\n    \"proto.index=function \"+className+\"_index(\", args.join(), \"){return \"+index_str+\"}\")\n\n  //view.hi():\n  code.push(\"proto.hi=function \"+className+\"_hi(\"+args.join(\",\")+\"){return new \"+className+\"(this.data,\"+\n    indices.map(function(i) {\n      return [\"(typeof i\",i,\"!=='number'||i\",i,\"<0)?this.shape[\", i, \"]:i\", i,\"|0\"].join(\"\")\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"this.stride[\"+i + \"]\"\n    }).join(\",\")+\",this.offset)}\")\n\n  //view.lo():\n  var a_vars = indices.map(function(i) { return \"a\"+i+\"=this.shape[\"+i+\"]\" })\n  var c_vars = indices.map(function(i) { return \"c\"+i+\"=this.stride[\"+i+\"]\" })\n  code.push(\"proto.lo=function \"+className+\"_lo(\"+args.join(\",\")+\"){var b=this.offset,d=0,\"+a_vars.join(\",\")+\",\"+c_vars.join(\",\"))\n  for(var i=0; i<dimension; ++i) {\n    code.push(\n\"if(typeof i\"+i+\"==='number'&&i\"+i+\">=0){\\\nd=i\"+i+\"|0;\\\nb+=c\"+i+\"*d;\\\na\"+i+\"-=d}\")\n  }\n  code.push(\"return new \"+className+\"(this.data,\"+\n    indices.map(function(i) {\n      return \"a\"+i\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"c\"+i\n    }).join(\",\")+\",b)}\")\n\n  //view.step():\n  code.push(\"proto.step=function \"+className+\"_step(\"+args.join(\",\")+\"){var \"+\n    indices.map(function(i) {\n      return \"a\"+i+\"=this.shape[\"+i+\"]\"\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"b\"+i+\"=this.stride[\"+i+\"]\"\n    }).join(\",\")+\",c=this.offset,d=0,ceil=Math.ceil\")\n  for(var i=0; i<dimension; ++i) {\n    code.push(\n\"if(typeof i\"+i+\"==='number'){\\\nd=i\"+i+\"|0;\\\nif(d<0){\\\nc+=b\"+i+\"*(a\"+i+\"-1);\\\na\"+i+\"=ceil(-a\"+i+\"/d)\\\n}else{\\\na\"+i+\"=ceil(a\"+i+\"/d)\\\n}\\\nb\"+i+\"*=d\\\n}\")\n  }\n  code.push(\"return new \"+className+\"(this.data,\"+\n    indices.map(function(i) {\n      return \"a\" + i\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"b\" + i\n    }).join(\",\")+\",c)}\")\n\n  //view.transpose():\n  var tShape = new Array(dimension)\n  var tStride = new Array(dimension)\n  for(var i=0; i<dimension; ++i) {\n    tShape[i] = \"a[i\"+i+\"]\"\n    tStride[i] = \"b[i\"+i+\"]\"\n  }\n  code.push(\"proto.transpose=function \"+className+\"_transpose(\"+args+\"){\"+\n    args.map(function(n,idx) { return n + \"=(\" + n + \"===undefined?\" + idx + \":\" + n + \"|0)\"}).join(\";\"),\n    \"var a=this.shape,b=this.stride;return new \"+className+\"(this.data,\"+tShape.join(\",\")+\",\"+tStride.join(\",\")+\",this.offset)}\")\n\n  //view.pick():\n  code.push(\"proto.pick=function \"+className+\"_pick(\"+args+\"){var a=[],b=[],c=this.offset\")\n  for(var i=0; i<dimension; ++i) {\n    code.push(\"if(typeof i\"+i+\"==='number'&&i\"+i+\">=0){c=(c+this.stride[\"+i+\"]*i\"+i+\")|0}else{a.push(this.shape[\"+i+\"]);b.push(this.stride[\"+i+\"])}\")\n  }\n  code.push(\"var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}\")\n\n  //Add return statement\n  code.push(\"return function construct_\"+className+\"(data,shape,stride,offset){return new \"+className+\"(data,\"+\n    indices.map(function(i) {\n      return \"shape[\"+i+\"]\"\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"stride[\"+i+\"]\"\n    }).join(\",\")+\",offset)}\")\n\n  //Compile procedure\n  var procedure = new Function(\"CTOR_LIST\", \"ORDER\", code.join(\"\\n\"))\n  return procedure(CACHED_CONSTRUCTORS[dtype], order)\n}\n\nfunction arrayDType(data) {\n  if(isBuffer(data)) {\n    return \"buffer\"\n  }\n  if(hasTypedArrays) {\n    switch(Object.prototype.toString.call(data)) {\n      case \"[object Float64Array]\":\n        return \"float64\"\n      case \"[object Float32Array]\":\n        return \"float32\"\n      case \"[object Int8Array]\":\n        return \"int8\"\n      case \"[object Int16Array]\":\n        return \"int16\"\n      case \"[object Int32Array]\":\n        return \"int32\"\n      case \"[object Uint8Array]\":\n        return \"uint8\"\n      case \"[object Uint16Array]\":\n        return \"uint16\"\n      case \"[object Uint32Array]\":\n        return \"uint32\"\n      case \"[object Uint8ClampedArray]\":\n        return \"uint8_clamped\"\n      case \"[object BigInt64Array]\":\n        return \"bigint64\"\n      case \"[object BigUint64Array]\":\n        return \"biguint64\"\n    }\n  }\n  if(Array.isArray(data)) {\n    return \"array\"\n  }\n  return \"generic\"\n}\n\nvar CACHED_CONSTRUCTORS = {\n  \"float32\":[],\n  \"float64\":[],\n  \"int8\":[],\n  \"int16\":[],\n  \"int32\":[],\n  \"uint8\":[],\n  \"uint16\":[],\n  \"uint32\":[],\n  \"array\":[],\n  \"uint8_clamped\":[],\n  \"bigint64\": [],\n  \"biguint64\": [],\n  \"buffer\":[],\n  \"generic\":[]\n}\n\n;(function() {\n  for(var id in CACHED_CONSTRUCTORS) {\n    CACHED_CONSTRUCTORS[id].push(compileConstructor(id, -1))\n  }\n});\n\nfunction wrappedNDArrayCtor(data, shape, stride, offset) {\n  if(data === undefined) {\n    var ctor = CACHED_CONSTRUCTORS.array[0]\n    return ctor([])\n  } else if(typeof data === \"number\") {\n    data = [data]\n  }\n  if(shape === undefined) {\n    shape = [ data.length ]\n  }\n  var d = shape.length\n  if(stride === undefined) {\n    stride = new Array(d)\n    for(var i=d-1, sz=1; i>=0; --i) {\n      stride[i] = sz\n      sz *= shape[i]\n    }\n  }\n  if(offset === undefined) {\n    offset = 0\n    for(var i=0; i<d; ++i) {\n      if(stride[i] < 0) {\n        offset -= (shape[i]-1)*stride[i]\n      }\n    }\n  }\n  var dtype = arrayDType(data)\n  var ctor_list = CACHED_CONSTRUCTORS[dtype]\n  while(ctor_list.length <= d+1) {\n    ctor_list.push(compileConstructor(dtype, ctor_list.length-1))\n  }\n  var ctor = ctor_list[d+1]\n  return ctor(data, shape, stride, offset)\n}\n\nmodule.exports = wrappedNDArrayCtor\n","\"use strict\"\n\nfunction unique_pred(list, compare) {\n  var ptr = 1\n    , len = list.length\n    , a=list[0], b=list[0]\n  for(var i=1; i<len; ++i) {\n    b = a\n    a = list[i]\n    if(compare(a, b)) {\n      if(i === ptr) {\n        ptr++\n        continue\n      }\n      list[ptr++] = a\n    }\n  }\n  list.length = ptr\n  return list\n}\n\nfunction unique_eq(list) {\n  var ptr = 1\n    , len = list.length\n    , a=list[0], b = list[0]\n  for(var i=1; i<len; ++i, b=a) {\n    b = a\n    a = list[i]\n    if(a !== b) {\n      if(i === ptr) {\n        ptr++\n        continue\n      }\n      list[ptr++] = a\n    }\n  }\n  list.length = ptr\n  return list\n}\n\nfunction unique(list, compare, sorted) {\n  if(list.length === 0) {\n    return list\n  }\n  if(compare) {\n    if(!sorted) {\n      list.sort(compare)\n    }\n    return unique_pred(list, compare)\n  }\n  if(!sorted) {\n    list.sort()\n  }\n  return unique_eq(list)\n}\n\nmodule.exports = unique\n","\"use strict\"\n\nvar uniq = require(\"uniq\")\n\n// This function generates very simple loops analogous to how you typically traverse arrays (the outermost loop corresponds to the slowest changing index, the innermost loop to the fastest changing index)\n// TODO: If two arrays have the same strides (and offsets) there is potential for decreasing the number of \"pointers\" and related variables. The drawback is that the type signature would become more specific and that there would thus be less potential for caching, but it might still be worth it, especially when dealing with large numbers of arguments.\nfunction innerFill(order, proc, body) {\n  var dimension = order.length\n    , nargs = proc.arrayArgs.length\n    , has_index = proc.indexArgs.length>0\n    , code = []\n    , vars = []\n    , idx=0, pidx=0, i, j\n  for(i=0; i<dimension; ++i) { // Iteration variables\n    vars.push([\"i\",i,\"=0\"].join(\"\"))\n  }\n  //Compute scan deltas\n  for(j=0; j<nargs; ++j) {\n    for(i=0; i<dimension; ++i) {\n      pidx = idx\n      idx = order[i]\n      if(i === 0) { // The innermost/fastest dimension's delta is simply its stride\n        vars.push([\"d\",j,\"s\",i,\"=t\",j,\"p\",idx].join(\"\"))\n      } else { // For other dimensions the delta is basically the stride minus something which essentially \"rewinds\" the previous (more inner) dimension\n        vars.push([\"d\",j,\"s\",i,\"=(t\",j,\"p\",idx,\"-s\",pidx,\"*t\",j,\"p\",pidx,\")\"].join(\"\"))\n      }\n    }\n  }\n  if (vars.length > 0) {\n    code.push(\"var \" + vars.join(\",\"))\n  }  \n  //Scan loop\n  for(i=dimension-1; i>=0; --i) { // Start at largest stride and work your way inwards\n    idx = order[i]\n    code.push([\"for(i\",i,\"=0;i\",i,\"<s\",idx,\";++i\",i,\"){\"].join(\"\"))\n  }\n  //Push body of inner loop\n  code.push(body)\n  //Advance scan pointers\n  for(i=0; i<dimension; ++i) {\n    pidx = idx\n    idx = order[i]\n    for(j=0; j<nargs; ++j) {\n      code.push([\"p\",j,\"+=d\",j,\"s\",i].join(\"\"))\n    }\n    if(has_index) {\n      if(i > 0) {\n        code.push([\"index[\",pidx,\"]-=s\",pidx].join(\"\"))\n      }\n      code.push([\"++index[\",idx,\"]\"].join(\"\"))\n    }\n    code.push(\"}\")\n  }\n  return code.join(\"\\n\")\n}\n\n// Generate \"outer\" loops that loop over blocks of data, applying \"inner\" loops to the blocks by manipulating the local variables in such a way that the inner loop only \"sees\" the current block.\n// TODO: If this is used, then the previous declaration (done by generateCwiseOp) of s* is essentially unnecessary.\n//       I believe the s* are not used elsewhere (in particular, I don't think they're used in the pre/post parts and \"shape\" is defined independently), so it would be possible to make defining the s* dependent on what loop method is being used.\nfunction outerFill(matched, order, proc, body) {\n  var dimension = order.length\n    , nargs = proc.arrayArgs.length\n    , blockSize = proc.blockSize\n    , has_index = proc.indexArgs.length > 0\n    , code = []\n  for(var i=0; i<nargs; ++i) {\n    code.push([\"var offset\",i,\"=p\",i].join(\"\"))\n  }\n  //Generate loops for unmatched dimensions\n  // The order in which these dimensions are traversed is fairly arbitrary (from small stride to large stride, for the first argument)\n  // TODO: It would be nice if the order in which these loops are placed would also be somehow \"optimal\" (at the very least we should check that it really doesn't hurt us if they're not).\n  for(var i=matched; i<dimension; ++i) {\n    code.push([\"for(var j\"+i+\"=SS[\", order[i], \"]|0;j\", i, \">0;){\"].join(\"\")) // Iterate back to front\n    code.push([\"if(j\",i,\"<\",blockSize,\"){\"].join(\"\")) // Either decrease j by blockSize (s = blockSize), or set it to zero (after setting s = j).\n    code.push([\"s\",order[i],\"=j\",i].join(\"\"))\n    code.push([\"j\",i,\"=0\"].join(\"\"))\n    code.push([\"}else{s\",order[i],\"=\",blockSize].join(\"\"))\n    code.push([\"j\",i,\"-=\",blockSize,\"}\"].join(\"\"))\n    if(has_index) {\n      code.push([\"index[\",order[i],\"]=j\",i].join(\"\"))\n    }\n  }\n  for(var i=0; i<nargs; ++i) {\n    var indexStr = [\"offset\"+i]\n    for(var j=matched; j<dimension; ++j) {\n      indexStr.push([\"j\",j,\"*t\",i,\"p\",order[j]].join(\"\"))\n    }\n    code.push([\"p\",i,\"=(\",indexStr.join(\"+\"),\")\"].join(\"\"))\n  }\n  code.push(innerFill(order, proc, body))\n  for(var i=matched; i<dimension; ++i) {\n    code.push(\"}\")\n  }\n  return code.join(\"\\n\")\n}\n\n//Count the number of compatible inner orders\n// This is the length of the longest common prefix of the arrays in orders.\n// Each array in orders lists the dimensions of the correspond ndarray in order of increasing stride.\n// This is thus the maximum number of dimensions that can be efficiently traversed by simple nested loops for all arrays.\nfunction countMatches(orders) {\n  var matched = 0, dimension = orders[0].length\n  while(matched < dimension) {\n    for(var j=1; j<orders.length; ++j) {\n      if(orders[j][matched] !== orders[0][matched]) {\n        return matched\n      }\n    }\n    ++matched\n  }\n  return matched\n}\n\n//Processes a block according to the given data types\n// Replaces variable names by different ones, either \"local\" ones (that are then ferried in and out of the given array) or ones matching the arguments that the function performing the ultimate loop will accept.\nfunction processBlock(block, proc, dtypes) {\n  var code = block.body\n  var pre = []\n  var post = []\n  for(var i=0; i<block.args.length; ++i) {\n    var carg = block.args[i]\n    if(carg.count <= 0) {\n      continue\n    }\n    var re = new RegExp(carg.name, \"g\")\n    var ptrStr = \"\"\n    var arrNum = proc.arrayArgs.indexOf(i)\n    switch(proc.argTypes[i]) {\n      case \"offset\":\n        var offArgIndex = proc.offsetArgIndex.indexOf(i)\n        var offArg = proc.offsetArgs[offArgIndex]\n        arrNum = offArg.array\n        ptrStr = \"+q\" + offArgIndex // Adds offset to the \"pointer\" in the array\n      case \"array\":\n        ptrStr = \"p\" + arrNum + ptrStr\n        var localStr = \"l\" + i\n        var arrStr = \"a\" + arrNum\n        if (proc.arrayBlockIndices[arrNum] === 0) { // Argument to body is just a single value from this array\n          if(carg.count === 1) { // Argument/array used only once(?)\n            if(dtypes[arrNum] === \"generic\") {\n              if(carg.lvalue) {\n                pre.push([\"var \", localStr, \"=\", arrStr, \".get(\", ptrStr, \")\"].join(\"\")) // Is this necessary if the argument is ONLY used as an lvalue? (keep in mind that we can have a += something, so we would actually need to check carg.rvalue)\n                code = code.replace(re, localStr)\n                post.push([arrStr, \".set(\", ptrStr, \",\", localStr,\")\"].join(\"\"))\n              } else {\n                code = code.replace(re, [arrStr, \".get(\", ptrStr, \")\"].join(\"\"))\n              }\n            } else {\n              code = code.replace(re, [arrStr, \"[\", ptrStr, \"]\"].join(\"\"))\n            }\n          } else if(dtypes[arrNum] === \"generic\") {\n            pre.push([\"var \", localStr, \"=\", arrStr, \".get(\", ptrStr, \")\"].join(\"\")) // TODO: Could we optimize by checking for carg.rvalue?\n            code = code.replace(re, localStr)\n            if(carg.lvalue) {\n              post.push([arrStr, \".set(\", ptrStr, \",\", localStr,\")\"].join(\"\"))\n            }\n          } else {\n            pre.push([\"var \", localStr, \"=\", arrStr, \"[\", ptrStr, \"]\"].join(\"\")) // TODO: Could we optimize by checking for carg.rvalue?\n            code = code.replace(re, localStr)\n            if(carg.lvalue) {\n              post.push([arrStr, \"[\", ptrStr, \"]=\", localStr].join(\"\"))\n            }\n          }\n        } else { // Argument to body is a \"block\"\n          var reStrArr = [carg.name], ptrStrArr = [ptrStr]\n          for(var j=0; j<Math.abs(proc.arrayBlockIndices[arrNum]); j++) {\n            reStrArr.push(\"\\\\s*\\\\[([^\\\\]]+)\\\\]\")\n            ptrStrArr.push(\"$\" + (j+1) + \"*t\" + arrNum + \"b\" + j) // Matched index times stride\n          }\n          re = new RegExp(reStrArr.join(\"\"), \"g\")\n          ptrStr = ptrStrArr.join(\"+\")\n          if(dtypes[arrNum] === \"generic\") {\n            /*if(carg.lvalue) {\n              pre.push([\"var \", localStr, \"=\", arrStr, \".get(\", ptrStr, \")\"].join(\"\")) // Is this necessary if the argument is ONLY used as an lvalue? (keep in mind that we can have a += something, so we would actually need to check carg.rvalue)\n              code = code.replace(re, localStr)\n              post.push([arrStr, \".set(\", ptrStr, \",\", localStr,\")\"].join(\"\"))\n            } else {\n              code = code.replace(re, [arrStr, \".get(\", ptrStr, \")\"].join(\"\"))\n            }*/\n            throw new Error(\"cwise: Generic arrays not supported in combination with blocks!\")\n          } else {\n            // This does not produce any local variables, even if variables are used multiple times. It would be possible to do so, but it would complicate things quite a bit.\n            code = code.replace(re, [arrStr, \"[\", ptrStr, \"]\"].join(\"\"))\n          }\n        }\n      break\n      case \"scalar\":\n        code = code.replace(re, \"Y\" + proc.scalarArgs.indexOf(i))\n      break\n      case \"index\":\n        code = code.replace(re, \"index\")\n      break\n      case \"shape\":\n        code = code.replace(re, \"shape\")\n      break\n    }\n  }\n  return [pre.join(\"\\n\"), code, post.join(\"\\n\")].join(\"\\n\").trim()\n}\n\nfunction typeSummary(dtypes) {\n  var summary = new Array(dtypes.length)\n  var allEqual = true\n  for(var i=0; i<dtypes.length; ++i) {\n    var t = dtypes[i]\n    var digits = t.match(/\\d+/)\n    if(!digits) {\n      digits = \"\"\n    } else {\n      digits = digits[0]\n    }\n    if(t.charAt(0) === 0) {\n      summary[i] = \"u\" + t.charAt(1) + digits\n    } else {\n      summary[i] = t.charAt(0) + digits\n    }\n    if(i > 0) {\n      allEqual = allEqual && summary[i] === summary[i-1]\n    }\n  }\n  if(allEqual) {\n    return summary[0]\n  }\n  return summary.join(\"\")\n}\n\n//Generates a cwise operator\nfunction generateCWiseOp(proc, typesig) {\n\n  //Compute dimension\n  // Arrays get put first in typesig, and there are two entries per array (dtype and order), so this gets the number of dimensions in the first array arg.\n  var dimension = (typesig[1].length - Math.abs(proc.arrayBlockIndices[0]))|0\n  var orders = new Array(proc.arrayArgs.length)\n  var dtypes = new Array(proc.arrayArgs.length)\n  for(var i=0; i<proc.arrayArgs.length; ++i) {\n    dtypes[i] = typesig[2*i]\n    orders[i] = typesig[2*i+1]\n  }\n  \n  //Determine where block and loop indices start and end\n  var blockBegin = [], blockEnd = [] // These indices are exposed as blocks\n  var loopBegin = [], loopEnd = [] // These indices are iterated over\n  var loopOrders = [] // orders restricted to the loop indices\n  for(var i=0; i<proc.arrayArgs.length; ++i) {\n    if (proc.arrayBlockIndices[i]<0) {\n      loopBegin.push(0)\n      loopEnd.push(dimension)\n      blockBegin.push(dimension)\n      blockEnd.push(dimension+proc.arrayBlockIndices[i])\n    } else {\n      loopBegin.push(proc.arrayBlockIndices[i]) // Non-negative\n      loopEnd.push(proc.arrayBlockIndices[i]+dimension)\n      blockBegin.push(0)\n      blockEnd.push(proc.arrayBlockIndices[i])\n    }\n    var newOrder = []\n    for(var j=0; j<orders[i].length; j++) {\n      if (loopBegin[i]<=orders[i][j] && orders[i][j]<loopEnd[i]) {\n        newOrder.push(orders[i][j]-loopBegin[i]) // If this is a loop index, put it in newOrder, subtracting loopBegin, to make sure that all loopOrders are using a common set of indices.\n      }\n    }\n    loopOrders.push(newOrder)\n  }\n\n  //First create arguments for procedure\n  var arglist = [\"SS\"] // SS is the overall shape over which we iterate\n  var code = [\"'use strict'\"]\n  var vars = []\n  \n  for(var j=0; j<dimension; ++j) {\n    vars.push([\"s\", j, \"=SS[\", j, \"]\"].join(\"\")) // The limits for each dimension.\n  }\n  for(var i=0; i<proc.arrayArgs.length; ++i) {\n    arglist.push(\"a\"+i) // Actual data array\n    arglist.push(\"t\"+i) // Strides\n    arglist.push(\"p\"+i) // Offset in the array at which the data starts (also used for iterating over the data)\n    \n    for(var j=0; j<dimension; ++j) { // Unpack the strides into vars for looping\n      vars.push([\"t\",i,\"p\",j,\"=t\",i,\"[\",loopBegin[i]+j,\"]\"].join(\"\"))\n    }\n    \n    for(var j=0; j<Math.abs(proc.arrayBlockIndices[i]); ++j) { // Unpack the strides into vars for block iteration\n      vars.push([\"t\",i,\"b\",j,\"=t\",i,\"[\",blockBegin[i]+j,\"]\"].join(\"\"))\n    }\n  }\n  for(var i=0; i<proc.scalarArgs.length; ++i) {\n    arglist.push(\"Y\" + i)\n  }\n  if(proc.shapeArgs.length > 0) {\n    vars.push(\"shape=SS.slice(0)\") // Makes the shape over which we iterate available to the user defined functions (so you can use width/height for example)\n  }\n  if(proc.indexArgs.length > 0) {\n    // Prepare an array to keep track of the (logical) indices, initialized to dimension zeroes.\n    var zeros = new Array(dimension)\n    for(var i=0; i<dimension; ++i) {\n      zeros[i] = \"0\"\n    }\n    vars.push([\"index=[\", zeros.join(\",\"), \"]\"].join(\"\"))\n  }\n  for(var i=0; i<proc.offsetArgs.length; ++i) { // Offset arguments used for stencil operations\n    var off_arg = proc.offsetArgs[i]\n    var init_string = []\n    for(var j=0; j<off_arg.offset.length; ++j) {\n      if(off_arg.offset[j] === 0) {\n        continue\n      } else if(off_arg.offset[j] === 1) {\n        init_string.push([\"t\", off_arg.array, \"p\", j].join(\"\"))      \n      } else {\n        init_string.push([off_arg.offset[j], \"*t\", off_arg.array, \"p\", j].join(\"\"))\n      }\n    }\n    if(init_string.length === 0) {\n      vars.push(\"q\" + i + \"=0\")\n    } else {\n      vars.push([\"q\", i, \"=\", init_string.join(\"+\")].join(\"\"))\n    }\n  }\n\n  //Prepare this variables\n  var thisVars = uniq([].concat(proc.pre.thisVars)\n                      .concat(proc.body.thisVars)\n                      .concat(proc.post.thisVars))\n  vars = vars.concat(thisVars)\n  if (vars.length > 0) {\n    code.push(\"var \" + vars.join(\",\"))\n  }\n  for(var i=0; i<proc.arrayArgs.length; ++i) {\n    code.push(\"p\"+i+\"|=0\")\n  }\n  \n  //Inline prelude\n  if(proc.pre.body.length > 3) {\n    code.push(processBlock(proc.pre, proc, dtypes))\n  }\n\n  //Process body\n  var body = processBlock(proc.body, proc, dtypes)\n  var matched = countMatches(loopOrders)\n  if(matched < dimension) {\n    code.push(outerFill(matched, loopOrders[0], proc, body)) // TODO: Rather than passing loopOrders[0], it might be interesting to look at passing an order that represents the majority of the arguments for example.\n  } else {\n    code.push(innerFill(loopOrders[0], proc, body))\n  }\n\n  //Inline epilog\n  if(proc.post.body.length > 3) {\n    code.push(processBlock(proc.post, proc, dtypes))\n  }\n  \n  if(proc.debug) {\n    console.log(\"-----Generated cwise routine for \", typesig, \":\\n\" + code.join(\"\\n\") + \"\\n----------\")\n  }\n  \n  var loopName = [(proc.funcName||\"unnamed\"), \"_cwise_loop_\", orders[0].join(\"s\"),\"m\",matched,typeSummary(dtypes)].join(\"\")\n  var f = new Function([\"function \",loopName,\"(\", arglist.join(\",\"),\"){\", code.join(\"\\n\"),\"} return \", loopName].join(\"\"))\n  return f()\n}\nmodule.exports = generateCWiseOp\n","\"use strict\"\n\n// The function below is called when constructing a cwise function object, and does the following:\n// A function object is constructed which accepts as argument a compilation function and returns another function.\n// It is this other function that is eventually returned by createThunk, and this function is the one that actually\n// checks whether a certain pattern of arguments has already been used before and compiles new loops as needed.\n// The compilation passed to the first function object is used for compiling new functions.\n// Once this function object is created, it is called with compile as argument, where the first argument of compile\n// is bound to \"proc\" (essentially containing a preprocessed version of the user arguments to cwise).\n// So createThunk roughly works like this:\n// function createThunk(proc) {\n//   var thunk = function(compileBound) {\n//     var CACHED = {}\n//     return function(arrays and scalars) {\n//       if (dtype and order of arrays in CACHED) {\n//         var func = CACHED[dtype and order of arrays]\n//       } else {\n//         var func = CACHED[dtype and order of arrays] = compileBound(dtype and order of arrays)\n//       }\n//       return func(arrays and scalars)\n//     }\n//   }\n//   return thunk(compile.bind1(proc))\n// }\n\nvar compile = require(\"./compile.js\")\n\nfunction createThunk(proc) {\n  var code = [\"'use strict'\", \"var CACHED={}\"]\n  var vars = []\n  var thunkName = proc.funcName + \"_cwise_thunk\"\n  \n  //Build thunk\n  code.push([\"return function \", thunkName, \"(\", proc.shimArgs.join(\",\"), \"){\"].join(\"\"))\n  var typesig = []\n  var string_typesig = []\n  var proc_args = [[\"array\",proc.arrayArgs[0],\".shape.slice(\", // Slice shape so that we only retain the shape over which we iterate (which gets passed to the cwise operator as SS).\n                    Math.max(0,proc.arrayBlockIndices[0]),proc.arrayBlockIndices[0]<0?(\",\"+proc.arrayBlockIndices[0]+\")\"):\")\"].join(\"\")]\n  var shapeLengthConditions = [], shapeConditions = []\n  // Process array arguments\n  for(var i=0; i<proc.arrayArgs.length; ++i) {\n    var j = proc.arrayArgs[i]\n    vars.push([\"t\", j, \"=array\", j, \".dtype,\",\n               \"r\", j, \"=array\", j, \".order\"].join(\"\"))\n    typesig.push(\"t\" + j)\n    typesig.push(\"r\" + j)\n    string_typesig.push(\"t\"+j)\n    string_typesig.push(\"r\"+j+\".join()\")\n    proc_args.push(\"array\" + j + \".data\")\n    proc_args.push(\"array\" + j + \".stride\")\n    proc_args.push(\"array\" + j + \".offset|0\")\n    if (i>0) { // Gather conditions to check for shape equality (ignoring block indices)\n      shapeLengthConditions.push(\"array\" + proc.arrayArgs[0] + \".shape.length===array\" + j + \".shape.length+\" + (Math.abs(proc.arrayBlockIndices[0])-Math.abs(proc.arrayBlockIndices[i])))\n      shapeConditions.push(\"array\" + proc.arrayArgs[0] + \".shape[shapeIndex+\" + Math.max(0,proc.arrayBlockIndices[0]) + \"]===array\" + j + \".shape[shapeIndex+\" + Math.max(0,proc.arrayBlockIndices[i]) + \"]\")\n    }\n  }\n  // Check for shape equality\n  if (proc.arrayArgs.length > 1) {\n    code.push(\"if (!(\" + shapeLengthConditions.join(\" && \") + \")) throw new Error('cwise: Arrays do not all have the same dimensionality!')\")\n    code.push(\"for(var shapeIndex=array\" + proc.arrayArgs[0] + \".shape.length-\" + Math.abs(proc.arrayBlockIndices[0]) + \"; shapeIndex-->0;) {\")\n    code.push(\"if (!(\" + shapeConditions.join(\" && \") + \")) throw new Error('cwise: Arrays do not all have the same shape!')\")\n    code.push(\"}\")\n  }\n  // Process scalar arguments\n  for(var i=0; i<proc.scalarArgs.length; ++i) {\n    proc_args.push(\"scalar\" + proc.scalarArgs[i])\n  }\n  // Check for cached function (and if not present, generate it)\n  vars.push([\"type=[\", string_typesig.join(\",\"), \"].join()\"].join(\"\"))\n  vars.push(\"proc=CACHED[type]\")\n  code.push(\"var \" + vars.join(\",\"))\n  \n  code.push([\"if(!proc){\",\n             \"CACHED[type]=proc=compile([\", typesig.join(\",\"), \"])}\",\n             \"return proc(\", proc_args.join(\",\"), \")}\"].join(\"\"))\n\n  if(proc.debug) {\n    console.log(\"-----Generated thunk:\\n\" + code.join(\"\\n\") + \"\\n----------\")\n  }\n  \n  //Compile thunk\n  var thunk = new Function(\"compile\", code.join(\"\\n\"))\n  return thunk(compile.bind(undefined, proc))\n}\n\nmodule.exports = createThunk\n","\"use strict\"\n\nvar createThunk = require(\"./lib/thunk.js\")\n\nfunction Procedure() {\n  this.argTypes = []\n  this.shimArgs = []\n  this.arrayArgs = []\n  this.arrayBlockIndices = []\n  this.scalarArgs = []\n  this.offsetArgs = []\n  this.offsetArgIndex = []\n  this.indexArgs = []\n  this.shapeArgs = []\n  this.funcName = \"\"\n  this.pre = null\n  this.body = null\n  this.post = null\n  this.debug = false\n}\n\nfunction compileCwise(user_args) {\n  //Create procedure\n  var proc = new Procedure()\n  \n  //Parse blocks\n  proc.pre    = user_args.pre\n  proc.body   = user_args.body\n  proc.post   = user_args.post\n\n  //Parse arguments\n  var proc_args = user_args.args.slice(0)\n  proc.argTypes = proc_args\n  for(var i=0; i<proc_args.length; ++i) {\n    var arg_type = proc_args[i]\n    if(arg_type === \"array\" || (typeof arg_type === \"object\" && arg_type.blockIndices)) {\n      proc.argTypes[i] = \"array\"\n      proc.arrayArgs.push(i)\n      proc.arrayBlockIndices.push(arg_type.blockIndices ? arg_type.blockIndices : 0)\n      proc.shimArgs.push(\"array\" + i)\n      if(i < proc.pre.args.length && proc.pre.args[i].count>0) {\n        throw new Error(\"cwise: pre() block may not reference array args\")\n      }\n      if(i < proc.post.args.length && proc.post.args[i].count>0) {\n        throw new Error(\"cwise: post() block may not reference array args\")\n      }\n    } else if(arg_type === \"scalar\") {\n      proc.scalarArgs.push(i)\n      proc.shimArgs.push(\"scalar\" + i)\n    } else if(arg_type === \"index\") {\n      proc.indexArgs.push(i)\n      if(i < proc.pre.args.length && proc.pre.args[i].count > 0) {\n        throw new Error(\"cwise: pre() block may not reference array index\")\n      }\n      if(i < proc.body.args.length && proc.body.args[i].lvalue) {\n        throw new Error(\"cwise: body() block may not write to array index\")\n      }\n      if(i < proc.post.args.length && proc.post.args[i].count > 0) {\n        throw new Error(\"cwise: post() block may not reference array index\")\n      }\n    } else if(arg_type === \"shape\") {\n      proc.shapeArgs.push(i)\n      if(i < proc.pre.args.length && proc.pre.args[i].lvalue) {\n        throw new Error(\"cwise: pre() block may not write to array shape\")\n      }\n      if(i < proc.body.args.length && proc.body.args[i].lvalue) {\n        throw new Error(\"cwise: body() block may not write to array shape\")\n      }\n      if(i < proc.post.args.length && proc.post.args[i].lvalue) {\n        throw new Error(\"cwise: post() block may not write to array shape\")\n      }\n    } else if(typeof arg_type === \"object\" && arg_type.offset) {\n      proc.argTypes[i] = \"offset\"\n      proc.offsetArgs.push({ array: arg_type.array, offset:arg_type.offset })\n      proc.offsetArgIndex.push(i)\n    } else {\n      throw new Error(\"cwise: Unknown argument type \" + proc_args[i])\n    }\n  }\n  \n  //Make sure at least one array argument was specified\n  if(proc.arrayArgs.length <= 0) {\n    throw new Error(\"cwise: No array arguments specified\")\n  }\n  \n  //Make sure arguments are correct\n  if(proc.pre.args.length > proc_args.length) {\n    throw new Error(\"cwise: Too many arguments in pre() block\")\n  }\n  if(proc.body.args.length > proc_args.length) {\n    throw new Error(\"cwise: Too many arguments in body() block\")\n  }\n  if(proc.post.args.length > proc_args.length) {\n    throw new Error(\"cwise: Too many arguments in post() block\")\n  }\n\n  //Check debug flag\n  proc.debug = !!user_args.printCode || !!user_args.debug\n  \n  //Retrieve name\n  proc.funcName = user_args.funcName || \"cwise\"\n  \n  //Read in block size\n  proc.blockSize = user_args.blockSize || 64\n\n  return createThunk(proc)\n}\n\nmodule.exports = compileCwise\n","\"use strict\"\n\nvar compile = require(\"cwise-compiler\")\n\nvar EmptyProc = {\n  body: \"\",\n  args: [],\n  thisVars: [],\n  localVars: []\n}\n\nfunction fixup(x) {\n  if(!x) {\n    return EmptyProc\n  }\n  for(var i=0; i<x.args.length; ++i) {\n    var a = x.args[i]\n    if(i === 0) {\n      x.args[i] = {name: a, lvalue:true, rvalue: !!x.rvalue, count:x.count||1 }\n    } else {\n      x.args[i] = {name: a, lvalue:false, rvalue:true, count: 1}\n    }\n  }\n  if(!x.thisVars) {\n    x.thisVars = []\n  }\n  if(!x.localVars) {\n    x.localVars = []\n  }\n  return x\n}\n\nfunction pcompile(user_args) {\n  return compile({\n    args:     user_args.args,\n    pre:      fixup(user_args.pre),\n    body:     fixup(user_args.body),\n    post:     fixup(user_args.proc),\n    funcName: user_args.funcName\n  })\n}\n\nfunction makeOp(user_args) {\n  var args = []\n  for(var i=0; i<user_args.args.length; ++i) {\n    args.push(\"a\"+i)\n  }\n  var wrapper = new Function(\"P\", [\n    \"return function \", user_args.funcName, \"_ndarrayops(\", args.join(\",\"), \") {P(\", args.join(\",\"), \");return a0}\"\n  ].join(\"\"))\n  return wrapper(pcompile(user_args))\n}\n\nvar assign_ops = {\n  add:  \"+\",\n  sub:  \"-\",\n  mul:  \"*\",\n  div:  \"/\",\n  mod:  \"%\",\n  band: \"&\",\n  bor:  \"|\",\n  bxor: \"^\",\n  lshift: \"<<\",\n  rshift: \">>\",\n  rrshift: \">>>\"\n}\n;(function(){\n  for(var id in assign_ops) {\n    var op = assign_ops[id]\n    exports[id] = makeOp({\n      args: [\"array\",\"array\",\"array\"],\n      body: {args:[\"a\",\"b\",\"c\"],\n             body: \"a=b\"+op+\"c\"},\n      funcName: id\n    })\n    exports[id+\"eq\"] = makeOp({\n      args: [\"array\",\"array\"],\n      body: {args:[\"a\",\"b\"],\n             body:\"a\"+op+\"=b\"},\n      rvalue: true,\n      funcName: id+\"eq\"\n    })\n    exports[id+\"s\"] = makeOp({\n      args: [\"array\", \"array\", \"scalar\"],\n      body: {args:[\"a\",\"b\",\"s\"],\n             body:\"a=b\"+op+\"s\"},\n      funcName: id+\"s\"\n    })\n    exports[id+\"seq\"] = makeOp({\n      args: [\"array\",\"scalar\"],\n      body: {args:[\"a\",\"s\"],\n             body:\"a\"+op+\"=s\"},\n      rvalue: true,\n      funcName: id+\"seq\"\n    })\n  }\n})();\n\nvar unary_ops = {\n  not: \"!\",\n  bnot: \"~\",\n  neg: \"-\",\n  recip: \"1.0/\"\n}\n;(function(){\n  for(var id in unary_ops) {\n    var op = unary_ops[id]\n    exports[id] = makeOp({\n      args: [\"array\", \"array\"],\n      body: {args:[\"a\",\"b\"],\n             body:\"a=\"+op+\"b\"},\n      funcName: id\n    })\n    exports[id+\"eq\"] = makeOp({\n      args: [\"array\"],\n      body: {args:[\"a\"],\n             body:\"a=\"+op+\"a\"},\n      rvalue: true,\n      count: 2,\n      funcName: id+\"eq\"\n    })\n  }\n})();\n\nvar binary_ops = {\n  and: \"&&\",\n  or: \"||\",\n  eq: \"===\",\n  neq: \"!==\",\n  lt: \"<\",\n  gt: \">\",\n  leq: \"<=\",\n  geq: \">=\"\n}\n;(function() {\n  for(var id in binary_ops) {\n    var op = binary_ops[id]\n    exports[id] = makeOp({\n      args: [\"array\",\"array\",\"array\"],\n      body: {args:[\"a\", \"b\", \"c\"],\n             body:\"a=b\"+op+\"c\"},\n      funcName: id\n    })\n    exports[id+\"s\"] = makeOp({\n      args: [\"array\",\"array\",\"scalar\"],\n      body: {args:[\"a\", \"b\", \"s\"],\n             body:\"a=b\"+op+\"s\"},\n      funcName: id+\"s\"\n    })\n    exports[id+\"eq\"] = makeOp({\n      args: [\"array\", \"array\"],\n      body: {args:[\"a\", \"b\"],\n             body:\"a=a\"+op+\"b\"},\n      rvalue:true,\n      count:2,\n      funcName: id+\"eq\"\n    })\n    exports[id+\"seq\"] = makeOp({\n      args: [\"array\", \"scalar\"],\n      body: {args:[\"a\",\"s\"],\n             body:\"a=a\"+op+\"s\"},\n      rvalue:true,\n      count:2,\n      funcName: id+\"seq\"\n    })\n  }\n})();\n\nvar math_unary = [\n  \"abs\",\n  \"acos\",\n  \"asin\",\n  \"atan\",\n  \"ceil\",\n  \"cos\",\n  \"exp\",\n  \"floor\",\n  \"log\",\n  \"round\",\n  \"sin\",\n  \"sqrt\",\n  \"tan\"\n]\n;(function() {\n  for(var i=0; i<math_unary.length; ++i) {\n    var f = math_unary[i]\n    exports[f] = makeOp({\n                    args: [\"array\", \"array\"],\n                    pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                    body: {args:[\"a\",\"b\"], body:\"a=this_f(b)\", thisVars:[\"this_f\"]},\n                    funcName: f\n                  })\n    exports[f+\"eq\"] = makeOp({\n                      args: [\"array\"],\n                      pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                      body: {args: [\"a\"], body:\"a=this_f(a)\", thisVars:[\"this_f\"]},\n                      rvalue: true,\n                      count: 2,\n                      funcName: f+\"eq\"\n                    })\n  }\n})();\n\nvar math_comm = [\n  \"max\",\n  \"min\",\n  \"atan2\",\n  \"pow\"\n]\n;(function(){\n  for(var i=0; i<math_comm.length; ++i) {\n    var f= math_comm[i]\n    exports[f] = makeOp({\n                  args:[\"array\", \"array\", \"array\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\",\"c\"], body:\"a=this_f(b,c)\", thisVars:[\"this_f\"]},\n                  funcName: f\n                })\n    exports[f+\"s\"] = makeOp({\n                  args:[\"array\", \"array\", \"scalar\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\",\"c\"], body:\"a=this_f(b,c)\", thisVars:[\"this_f\"]},\n                  funcName: f+\"s\"\n                  })\n    exports[f+\"eq\"] = makeOp({ args:[\"array\", \"array\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\"], body:\"a=this_f(a,b)\", thisVars:[\"this_f\"]},\n                  rvalue: true,\n                  count: 2,\n                  funcName: f+\"eq\"\n                  })\n    exports[f+\"seq\"] = makeOp({ args:[\"array\", \"scalar\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\"], body:\"a=this_f(a,b)\", thisVars:[\"this_f\"]},\n                  rvalue:true,\n                  count:2,\n                  funcName: f+\"seq\"\n                  })\n  }\n})();\n\nvar math_noncomm = [\n  \"atan2\",\n  \"pow\"\n]\n;(function(){\n  for(var i=0; i<math_noncomm.length; ++i) {\n    var f= math_noncomm[i]\n    exports[f+\"op\"] = makeOp({\n                  args:[\"array\", \"array\", \"array\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\",\"c\"], body:\"a=this_f(c,b)\", thisVars:[\"this_f\"]},\n                  funcName: f+\"op\"\n                })\n    exports[f+\"ops\"] = makeOp({\n                  args:[\"array\", \"array\", \"scalar\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\",\"c\"], body:\"a=this_f(c,b)\", thisVars:[\"this_f\"]},\n                  funcName: f+\"ops\"\n                  })\n    exports[f+\"opeq\"] = makeOp({ args:[\"array\", \"array\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\"], body:\"a=this_f(b,a)\", thisVars:[\"this_f\"]},\n                  rvalue: true,\n                  count: 2,\n                  funcName: f+\"opeq\"\n                  })\n    exports[f+\"opseq\"] = makeOp({ args:[\"array\", \"scalar\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\"], body:\"a=this_f(b,a)\", thisVars:[\"this_f\"]},\n                  rvalue:true,\n                  count:2,\n                  funcName: f+\"opseq\"\n                  })\n  }\n})();\n\nexports.any = compile({\n  args:[\"array\"],\n  pre: EmptyProc,\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:1}], body: \"if(a){return true}\", localVars: [], thisVars: []},\n  post: {args:[], localVars:[], thisVars:[], body:\"return false\"},\n  funcName: \"any\"\n})\n\nexports.all = compile({\n  args:[\"array\"],\n  pre: EmptyProc,\n  body: {args:[{name:\"x\", lvalue:false, rvalue:true, count:1}], body: \"if(!x){return false}\", localVars: [], thisVars: []},\n  post: {args:[], localVars:[], thisVars:[], body:\"return true\"},\n  funcName: \"all\"\n})\n\nexports.sum = compile({\n  args:[\"array\"],\n  pre: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"this_s=0\"},\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:1}], body: \"this_s+=a\", localVars: [], thisVars: [\"this_s\"]},\n  post: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"return this_s\"},\n  funcName: \"sum\"\n})\n\nexports.prod = compile({\n  args:[\"array\"],\n  pre: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"this_s=1\"},\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:1}], body: \"this_s*=a\", localVars: [], thisVars: [\"this_s\"]},\n  post: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"return this_s\"},\n  funcName: \"prod\"\n})\n\nexports.norm2squared = compile({\n  args:[\"array\"],\n  pre: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"this_s=0\"},\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:2}], body: \"this_s+=a*a\", localVars: [], thisVars: [\"this_s\"]},\n  post: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"return this_s\"},\n  funcName: \"norm2squared\"\n})\n  \nexports.norm2 = compile({\n  args:[\"array\"],\n  pre: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"this_s=0\"},\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:2}], body: \"this_s+=a*a\", localVars: [], thisVars: [\"this_s\"]},\n  post: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"return Math.sqrt(this_s)\"},\n  funcName: \"norm2\"\n})\n  \n\nexports.norminf = compile({\n  args:[\"array\"],\n  pre: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"this_s=0\"},\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:4}], body:\"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}\", localVars: [], thisVars: [\"this_s\"]},\n  post: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"return this_s\"},\n  funcName: \"norminf\"\n})\n\nexports.norm1 = compile({\n  args:[\"array\"],\n  pre: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"this_s=0\"},\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:3}], body: \"this_s+=a<0?-a:a\", localVars: [], thisVars: [\"this_s\"]},\n  post: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"return this_s\"},\n  funcName: \"norm1\"\n})\n\nexports.sup = compile({\n  args: [ \"array\" ],\n  pre:\n   { body: \"this_h=-Infinity\",\n     args: [],\n     thisVars: [ \"this_h\" ],\n     localVars: [] },\n  body:\n   { body: \"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_\",\n     args: [{\"name\":\"_inline_1_arg0_\",\"lvalue\":false,\"rvalue\":true,\"count\":2} ],\n     thisVars: [ \"this_h\" ],\n     localVars: [] },\n  post:\n   { body: \"return this_h\",\n     args: [],\n     thisVars: [ \"this_h\" ],\n     localVars: [] }\n })\n\nexports.inf = compile({\n  args: [ \"array\" ],\n  pre:\n   { body: \"this_h=Infinity\",\n     args: [],\n     thisVars: [ \"this_h\" ],\n     localVars: [] },\n  body:\n   { body: \"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_\",\n     args: [{\"name\":\"_inline_1_arg0_\",\"lvalue\":false,\"rvalue\":true,\"count\":2} ],\n     thisVars: [ \"this_h\" ],\n     localVars: [] },\n  post:\n   { body: \"return this_h\",\n     args: [],\n     thisVars: [ \"this_h\" ],\n     localVars: [] }\n })\n\nexports.argmin = compile({\n  args:[\"index\",\"array\",\"shape\"],\n  pre:{\n    body:\"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}\",\n    args:[\n      {name:\"_inline_0_arg0_\",lvalue:false,rvalue:false,count:0},\n      {name:\"_inline_0_arg1_\",lvalue:false,rvalue:false,count:0},\n      {name:\"_inline_0_arg2_\",lvalue:false,rvalue:true,count:1}\n      ],\n    thisVars:[\"this_i\",\"this_v\"],\n    localVars:[]},\n  body:{\n    body:\"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}\",\n    args:[\n      {name:\"_inline_1_arg0_\",lvalue:false,rvalue:true,count:2},\n      {name:\"_inline_1_arg1_\",lvalue:false,rvalue:true,count:2}],\n    thisVars:[\"this_i\",\"this_v\"],\n    localVars:[\"_inline_1_k\"]},\n  post:{\n    body:\"{return this_i}\",\n    args:[],\n    thisVars:[\"this_i\"],\n    localVars:[]}\n})\n\nexports.argmax = compile({\n  args:[\"index\",\"array\",\"shape\"],\n  pre:{\n    body:\"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}\",\n    args:[\n      {name:\"_inline_0_arg0_\",lvalue:false,rvalue:false,count:0},\n      {name:\"_inline_0_arg1_\",lvalue:false,rvalue:false,count:0},\n      {name:\"_inline_0_arg2_\",lvalue:false,rvalue:true,count:1}\n      ],\n    thisVars:[\"this_i\",\"this_v\"],\n    localVars:[]},\n  body:{\n    body:\"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}\",\n    args:[\n      {name:\"_inline_1_arg0_\",lvalue:false,rvalue:true,count:2},\n      {name:\"_inline_1_arg1_\",lvalue:false,rvalue:true,count:2}],\n    thisVars:[\"this_i\",\"this_v\"],\n    localVars:[\"_inline_1_k\"]},\n  post:{\n    body:\"{return this_i}\",\n    args:[],\n    thisVars:[\"this_i\"],\n    localVars:[]}\n})  \n\nexports.random = makeOp({\n  args: [\"array\"],\n  pre: {args:[], body:\"this_f=Math.random\", thisVars:[\"this_f\"]},\n  body: {args: [\"a\"], body:\"a=this_f()\", thisVars:[\"this_f\"]},\n  funcName: \"random\"\n})\n\nexports.assign = makeOp({\n  args:[\"array\", \"array\"],\n  body: {args:[\"a\", \"b\"], body:\"a=b\"},\n  funcName: \"assign\" })\n\nexports.assigns = makeOp({\n  args:[\"array\", \"scalar\"],\n  body: {args:[\"a\", \"b\"], body:\"a=b\"},\n  funcName: \"assigns\" })\n\n\nexports.equals = compile({\n  args:[\"array\", \"array\"],\n  pre: EmptyProc,\n  body: {args:[{name:\"x\", lvalue:false, rvalue:true, count:1},\n               {name:\"y\", lvalue:false, rvalue:true, count:1}], \n        body: \"if(x!==y){return false}\", \n        localVars: [], \n        thisVars: []},\n  post: {args:[], localVars:[], thisVars:[], body:\"return true\"},\n  funcName: \"equals\"\n})\n\n\n","import e from\"ndarray\";import t from\"ndarray-ops\";function a(e,t,a={}){const i=document.createElement(\"canvas\");i.width=e.shape[0],i.height=e.shape[1];const o=i.getContext(\"2d\"),h=o.getImageData(0,0,i.width,i.height);try{n(e,h.data)}catch(e){return s.from(Promise.reject(e))}o.putImageData(h,0,0);const p=a.quality?a.quality/100:void 0;switch(t){case\"canvas\":return i;case\"jpg\":case\"jpeg\":return r(i,\"image/jpeg\",p);case\"png\":return r(i,\"image/png\");default:throw new Error(\"[ndarray-pixels] Unsupported file type: \"+t)}}function r(e,t,a){const r=new Promise((r,n)=>{e.toBlob(async e=>{e?r(new Uint8Array(await e.arrayBuffer())):n(new Error(\"[ndarray-pixels] Failed to canvas.toBlob().\"))},t,a)});return s.from(r)}function n(a,r,s=-1){if(4===a.shape.length)return n(a.pick(s),r,0);if(3===a.shape.length)if(3===a.shape[2])t.assign(e(r,[a.shape[0],a.shape[1],3],[4,4*a.shape[0],1]),a),t.assigns(e(r,[a.shape[0]*a.shape[1]],[4],3),255);else if(4===a.shape[2])t.assign(e(r,[a.shape[0],a.shape[1],4],[4,4*a.shape[0],1]),a);else{if(1!==a.shape[2])throw new Error(\"[ndarray-pixels] Incompatible array shape.\");t.assign(e(r,[a.shape[0],a.shape[1],3],[4,4*a.shape[0],1]),e(a.data,[a.shape[0],a.shape[1],3],[a.stride[0],a.stride[1],0],a.offset)),t.assigns(e(r,[a.shape[0]*a.shape[1]],[4],3),255)}else{if(2!==a.shape.length)throw new Error(\"[ndarray-pixels] Incompatible array shape.\");t.assign(e(r,[a.shape[0],a.shape[1],3],[4,4*a.shape[0],1]),e(a.data,[a.shape[0],a.shape[1],3],[a.stride[0],a.stride[1],0],a.offset)),t.assigns(e(r,[a.shape[0]*a.shape[1]],[4],3),255)}return r}class s{constructor(e){this._promise=void 0,this._promise=e}on(e,t){return\"data\"===e?this._promise.then(t):\"error\"===e?this._promise.catch(t):\"end\"===e&&this._promise.finally(t),this}static from(e){return new s(e)}}async function i(t,a){return t instanceof Uint8Array&&\"undefined\"!=typeof Buffer&&(t=Buffer.from(t)),new Promise((r,n)=>{!function(t,a,r){if(r=r||a,t instanceof Uint8Array){if(\"string\"!=typeof a)throw new Error(\"[ndarray-pixels] Type must be given for Uint8Array image data\");const e=new Blob([t],{type:a});t=URL.createObjectURL(e)}const n=new Image;n.crossOrigin=\"anonymous\",n.onload=function(){URL.revokeObjectURL(t);const a=document.createElement(\"canvas\");a.width=n.width,a.height=n.height;const s=a.getContext(\"2d\");s.drawImage(n,0,0);const i=s.getImageData(0,0,n.width,n.height);r(null,e(new Uint8Array(i.data),[n.width,n.height,4],[4,4*n.width,1],0))},n.onerror=e=>{URL.revokeObjectURL(t),r(e)},n.src=t}(t,a,(e,t)=>{t&&!e?r(t):n(e)})})}async function o(e,t){return new Promise((r,n)=>{const s=[],i=t.replace(\"image/\",\"\");a(e,i).on(\"data\",e=>s.push(e)).on(\"end\",()=>r(function(e){let t=0;for(const a of e)t+=a.byteLength;const a=new Uint8Array(t);let r=0;for(const t of e)a.set(t,r),r+=t.byteLength;return a}(s))).on(\"error\",e=>n(e))})}export{i as getPixels,o as savePixels};\n//# sourceMappingURL=ndarray-pixels-browser.modern.js.map\n","import t from\"ndarray\";const e=(t,e)=>{if(t<=-e||t>=e)return 0;const n=t*Math.PI;return Math.sin(n)/n*Math.sin(n/e)/(n/e)},n=t=>Math.round(16383*t),r=(t,r,o,a,s)=>{const l=s?2:3,h=1/o,c=Math.min(1,o),f=l/c,i=Math.floor(2*(f+1)),A=new Int16Array((i+2)*r);let M=0;for(let o=0;o<r;o++){const s=(o+.5)*h+a,i=Math.max(0,Math.floor(s-f)),u=Math.min(t-1,Math.ceil(s+f)),p=u-i+1,C=new Float32Array(p),L=new Int16Array(p);let N=0,O=0;for(let t=i;t<=u;t++){const n=e((t+.5-s)*c,l);N+=n,C[O]=n,O++}let S=0;for(let t=0;t<C.length;t++){const e=C[t]/N;S+=e,L[t]=n(e)}L[r>>1]+=n(1-S);let Z=0;for(;Z<L.length&&0===L[Z];)Z++;let _=L.length-1;for(;_>0&&0===L[_];)_--;const g=_-Z+1;A[M++]=i+Z,A[M++]=g,A.set(L.subarray(Z,_+1),M),M+=g}return A},o=t=>t<0?0:t>255?255:t,a=(t,e,n)=>{const[r,a]=t.shape,[s]=e.shape;for(let r=0;r<a;r++){const a=r;let l=0;for(let h=0;h<s;h++){let s=n[l++],c=0,f=0,i=0,A=0;for(let e=n[l++];e>0;e--){const e=n[l++];c+=e*t.get(s,r,0),f+=e*t.get(s,r,1),i+=e*t.get(s,r,2),A+=e*t.get(s,r,3),s++}e.set(h,a,0,o(c+8192>>14)),e.set(h,a,1,o(f+8192>>14)),e.set(h,a,2,o(i+8192>>14)),e.set(h,a,3,o(A+8192>>14))}}};var s;function l(e,n,o){const[l,h]=e.shape,[c,f]=n.shape,i=f/h,A=r(l,c,c/l,0,o===s.LANCZOS_2),M=r(h,f,i,0,o===s.LANCZOS_2),u=t(new Uint8Array(c*h*4),[h,c,4]),p=u.transpose(1,0),C=n.transpose(1,0);a(e,p,A),a(u,C,M)}function h(t,e){l(t,e,s.LANCZOS_3)}function c(t,e){l(t,e,s.LANCZOS_2)}!function(t){t[t.LANCZOS_3=3]=\"LANCZOS_3\",t[t.LANCZOS_2=2]=\"LANCZOS_2\"}(s||(s={}));export{c as lanczos2,h as lanczos3};\n//# sourceMappingURL=ndarray-lanczos.modern.js.map\n","import{Primitive as e,bounds as t,PropertyType as n,BufferUtils as r,Root as o,Texture as s,ExtensionProperty as i,ImageUtils as a,MathUtils as c,Node as l,AnimationChannel as g,Scene as u,Accessor as f,AnimationSampler as p,Material as m,TextureChannel as d,uuid as h}from\"@gltf-transform/core\";export{bounds}from\"@gltf-transform/core\";import{getPixels as A,savePixels as y}from\"ndarray-pixels\";import{MeshQuantization as E,DracoMeshCompression as T,MeshGPUInstancing as S,MeshoptCompression as I,MaterialsIOR as b,MaterialsSpecular as w,MaterialsPBRSpecularGlossiness as N,TextureWebP as M,MaterialsUnlit as R}from\"@gltf-transform/extensions\";import{invert as O,fromRotationTranslationScale as C,fromScaling as P,multiply as x}from\"gl-matrix/mat4\";import{transformMat4 as z,min as $,scale as v,max as L,normalize as _}from\"gl-matrix/vec3\";import q from\"ndarray\";import{lanczos3 as G,lanczos2 as k}from\"ndarray-lanczos\";function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F(e,t){return Object.defineProperty(t,\"name\",{value:e}),t}function U(e,t,n){return!!e&&e.stack.lastIndexOf(t)<e.stack.lastIndexOf(n)}async function W(e,t,n){if(!e)return null;const r=e.getImage();if(!r)return null;const o=await A(r,e.getMimeType());for(let e=0;e<o.shape[0];++e)for(let t=0;t<o.shape[1];++t)n(o,e,t);const s=await y(o,\"image/png\");return t.setImage(s).setMimeType(\"image/png\")}class H{constructor(){this._map=new Map}get size(){return this._map.size}has(e){return this._map.has(e)}add(e,t){let n=this._map.get(e);return n||(n=new Set,this._map.set(e,n)),n.add(t),this}get(e){return this._map.get(e)||new Set}keys(){return this._map.keys()}}function j(e,t=2){if(0===e)return\"0 Bytes\";const n=t<0?0:t,r=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/Math.pow(1e3,r)).toFixed(n))+\" \"+[\"Bytes\",\"KB\",\"MB\",\"GB\",\"TB\",\"PB\",\"EB\",\"ZB\",\"YB\"][r]}function V(e){return e.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\")}function D(e,t){return`${V(e)}  ${V(t)} (${function(e,t,n=2){return(e>t?\"\":\"+\")+(Math.abs(e-t)/e*100).toFixed(n)+\"%\"}(e,t)})`}function X(e){const t=[];for(const n of e.listAttributes())t.push(n);for(const n of e.listTargets())for(const e of n.listAttributes())t.push(e);return Array.from(new Set(t))}function K(e,t,n){e.swap(t,n);for(const r of e.listTargets())r.swap(t,n)}function J(e,t,n){const r=e.getElementSize(),o=e.getCount(),s=e.getArray(),i=s.slice(0,n*r);for(let e=0;e<o;e++)for(let n=0;n<r;n++)i[t[e]*r+n]=s[e*r+n];e.setArray(i)}function Z(e,t=e){const n=t<=65534?new Uint16Array(e):new Uint32Array(e);for(let e=0;e<n.length;e++)n[e]=e;return n}const Q={pivot:\"center\"};function Y(e=Q){const n=B({},Q,e);return F(\"center\",e=>{const r=e.getLogger(),o=e.getRoot(),s=o.listAnimations().length>0||o.listSkins().length>0;e.getRoot().listScenes().forEach((i,a)=>{let c;if(r.debug(`center: Scene ${a+1} / ${o.listScenes().length}.`),\"string\"==typeof n.pivot){const e=t(i);c=[(e.max[0]-e.min[0])/2+e.min[0],(e.max[1]-e.min[1])/2+e.min[1],(e.max[2]-e.min[2])/2+e.min[2]],\"above\"===n.pivot&&(c[1]=e.max[1]),\"below\"===n.pivot&&(c[1]=e.min[1])}else c=n.pivot;r.debug(`center: Pivot \"${c.join(\", \")}\".`);const l=[-1*c[0],-1*c[1],-1*c[2]];if(s){r.debug(\"center: Model contains animation or skin. Adding a wrapper node.\");const t=e.createNode(\"Pivot\").setTranslation(l);i.listChildren().forEach(e=>t.addChild(e)),i.addChild(t)}else r.debug(\"center: Skipping wrapper, offsetting all root nodes.\"),i.listChildren().forEach(e=>{const t=e.getTranslation();e.setTranslation([t[0]+l[0],t[1]+l[1],t[2]+l[2]])})}),r.debug(\"center: Complete.\")})}const ee=\"colorspace\";function te(e){return F(ee,t=>{const n=t.getLogger();if(\"linear\"===e.inputEncoding)return void n.info(`${ee}: Vertex colors already linear. Skipping conversion.`);if(\"sRGB\"!==e.inputEncoding)return void n.error(`${ee}: Unknown input encoding \"${e.inputEncoding}\"  should be \"sRGB\" or \"linear\". Skipping conversion.`);const r=new Set;function o(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function s(e){const t=[0,0,0];let n;for(let s=0;n=e.getAttribute(`COLOR_${s}`);s++)if(!r.has(n)){for(let e=0;e<n.getCount();e++)n.getElement(e,t),t[0]=o(t[0]),t[1]=o(t[1]),t[2]=o(t[2]),n.setElement(e,t);r.add(n)}}t.getRoot().listMeshes().forEach(e=>e.listPrimitives().forEach(s)),n.debug(`${ee}: Complete.`)})}const ne={propertyTypes:[n.ACCESSOR,n.MESH,n.TEXTURE,n.MATERIAL]},re=function(e=ne){const t=B({},ne,e),s=new Set(t.propertyTypes);for(const e of t.propertyTypes)if(!ne.propertyTypes.includes(e))throw new Error(`dedup: Unsupported deduplication on type \"${e}\".`);return F(\"dedup\",e=>{const t=e.getLogger();s.has(n.ACCESSOR)&&function(e,t){const n=new Set,o=new Set,s=new Set,i=new Set,a=t.getRoot().listMeshes();a.forEach(e=>{e.listPrimitives().forEach(e=>{e.listAttributes().forEach(e=>o.add(e));const t=e.getIndices();t&&n.add(t)})});for(const e of t.getRoot().listAnimations())for(const t of e.listSamplers()){const e=t.getInput(),n=t.getOutput();e&&s.add(e),n&&i.add(n)}function c(e){const t=new Map;for(let n=0;n<e.length;n++){const o=e[n],s=r.toView(o.getArray());if(!t.has(o))for(let n=0;n<e.length;n++){const i=e[n];o!==i&&(t.has(i)||o.getType()===i.getType()&&o.getComponentType()===i.getComponentType()&&o.getCount()===i.getCount()&&o.getNormalized()===i.getNormalized()&&r.equals(s,r.toView(i.getArray()))&&t.set(i,o))}}return t}const l=c(Array.from(n));e.debug(`dedup: Found ${l.size} duplicates among ${n.size} indices.`);const g=c(Array.from(o));e.debug(`dedup: Found ${g.size} duplicates among ${o.size} attributes.`);const u=c(Array.from(s)),f=c(Array.from(i));e.debug(`dedup: Found ${u.size+f.size} duplicates among ${s.size+i.size} animation accessors.`),a.forEach(e=>{e.listPrimitives().forEach(e=>{e.listAttributes().forEach(t=>{g.has(t)&&e.swap(t,g.get(t))});const t=e.getIndices();t&&l.has(t)&&e.swap(t,l.get(t))})}),Array.from(l.keys()).forEach(e=>e.dispose()),Array.from(g.keys()).forEach(e=>e.dispose());for(const e of t.getRoot().listAnimations())for(const t of e.listSamplers()){const e=t.getInput(),n=t.getOutput();e&&u.has(e)&&t.swap(e,u.get(e)),n&&f.has(n)&&t.swap(n,f.get(n))}Array.from(u.keys()).forEach(e=>e.dispose()),Array.from(f.keys()).forEach(e=>e.dispose())}(t,e),s.has(n.MESH)&&function(e,t){const r=t.getRoot(),o=new Map;r.listAccessors().forEach((e,t)=>o.set(e,t)),r.listMaterials().forEach((e,t)=>o.set(e,t));const s=r.listMeshes().length,i=new Map;for(const e of r.listMeshes()){const t=[];for(const n of e.listPrimitives())t.push(oe(n,o));const r=t.join(\";\");if(i.has(r)){const t=i.get(r);e.listParents().forEach(r=>{r.propertyType!==n.ROOT&&r.swap(e,t)}),e.dispose()}else i.set(r,e)}e.debug(`dedup: Found ${s-i.size} duplicates among ${s} meshes.`)}(t,e),s.has(n.TEXTURE)&&function(e,t){const n=t.getRoot(),s=n.listTextures(),i=new Map;for(let e=0;e<s.length;e++){const t=s[e],n=t.getImage();if(!i.has(t))for(let e=0;e<s.length;e++){const o=s[e],a=o.getImage();if(t===o)continue;if(i.has(o))continue;if(t.getMimeType()!==o.getMimeType())continue;const c=t.getSize(),l=o.getSize();c&&l&&c[0]===l[0]&&c[1]===l[1]&&n&&a&&r.equals(n,a)&&i.set(o,t)}}e.debug(`dedup: Found ${i.size} duplicates among ${n.listTextures().length} textures.`),Array.from(i.entries()).forEach(([e,t])=>{e.listParents().forEach(n=>{n instanceof o||n.swap(e,t)}),e.dispose()})}(t,e),s.has(n.MATERIAL)&&function(e,t){const n=t.getRoot(),r=n.listMaterials(),s=new Map,i=new Set([\"name\"]);for(let e=0;e<r.length;e++){const t=r[e];if(!s.has(t))for(let e=0;e<r.length;e++){const n=r[e];t!==n&&(s.has(n)||t.equals(n,i)&&s.set(n,t))}}e.debug(`dedup: Found ${s.size} duplicates among ${n.listMaterials().length} materials.`),Array.from(s.entries()).forEach(([e,t])=>{e.listParents().forEach(n=>{n instanceof o||n.swap(e,t)}),e.dispose()})}(t,e),t.debug(\"dedup: Complete.\")})};function oe(t,n){const r=[];for(const e of t.listSemantics()){const o=t.getAttribute(e);r.push(e+\":\"+n.get(o))}if(t instanceof e){const e=t.getIndices();e&&r.push(\"indices:\"+n.get(e));const o=t.getMaterial();o&&r.push(\"material:\"+n.get(o)),r.push(\"mode:\"+t.getMode());for(const e of t.listTargets())r.push(\"target:\"+oe(e,n))}return r.join(\",\")}const se={pattern:/^((?!JOINTS_).)*$/};function ie(e=se){const t=B({},se,e);return F(\"dequantize\",e=>{const n=e.getLogger();for(const n of e.getRoot().listMeshes())for(const e of n.listPrimitives())ae(e,t);e.createExtension(E).dispose(),n.debug(\"dequantize: Complete.\")})}function ae(e,t){for(const n of e.listSemantics())ce(n,e.getAttribute(n),t);for(const n of e.listTargets())for(const e of n.listSemantics())ce(e,n.getAttribute(e),t)}function ce(e,t,n){if(!t.getArray())return;if(!n.pattern.test(e))return;if(t.getComponentSize()>=4)return;const r=t.getArray(),o=new Float32Array(r.length);for(let e=0,n=t.getCount(),s=[];e<n;e++)s=t.getElement(e,s),t.setArray(o).setElement(e,s).setArray(r);t.setArray(o).setNormalized(!1)}const le={method:\"edgebreaker\",encodeSpeed:5,decodeSpeed:5,quantizePosition:14,quantizeNormal:10,quantizeColor:8,quantizeTexcoord:12,quantizeGeneric:12,quantizationVolume:\"mesh\"},ge=e=>{const t=B({},le,e);return e=>{e.createExtension(T).setRequired(!0).setEncoderOptions({method:\"edgebreaker\"===t.method?T.EncoderMethod.EDGEBREAKER:T.EncoderMethod.SEQUENTIAL,encodeSpeed:t.encodeSpeed,decodeSpeed:t.decodeSpeed,quantizationBits:{POSITION:t.quantizePosition,NORMAL:t.quantizeNormal,COLOR:t.quantizeColor,TEX_COORD:t.quantizeTexcoord,GENERIC:t.quantizeGeneric},quantizationVolume:t.quantizationVolume})}};function ue(e){return{scenes:fe(e),meshes:pe(e),materials:me(e),textures:de(e),animations:he(e)}}function fe(e){return{properties:e.getRoot().listScenes().map(e=>{const n=e.listChildren()[0],r=t(e);return{name:e.getName(),rootName:n?n.getName():\"\",bboxMin:Ee(r.min),bboxMax:Ee(r.max)}})}}function pe(t){return{properties:t.getRoot().listMeshes().map(t=>{const r=t.listParents().filter(e=>e.propertyType!==n.ROOT).length;let o=0,s=0;const i=new Set,a=new Set,c=new Set;t.listPrimitives().forEach(t=>{for(const e of t.listSemantics()){const n=t.getAttribute(e);i.add(e+\":\"+Te(n)),c.add(n)}for(const e of t.listTargets())e.listAttributes().forEach(e=>c.add(e));const n=t.getIndices();n&&(a.add(Te(n)),c.add(n)),s+=t.listAttributes()[0].getCount(),o+=function(t){const n=t.getIndices(),r=t.getAttribute(\"POSITION\");switch(t.getMode()){case e.Mode.POINTS:return r.getCount();case e.Mode.LINES:return n?n.getCount()/2:r.getCount()/2;case e.Mode.LINE_LOOP:return r.getCount();case e.Mode.LINE_STRIP:return r.getCount()-1;case e.Mode.TRIANGLES:return n?n.getCount()/3:r.getCount()/3;case e.Mode.TRIANGLE_STRIP:case e.Mode.TRIANGLE_FAN:return r.getCount()-2;default:throw new Error(\"Unexpected mode: \"+t.getMode())}}(t)});let l=0;Array.from(c).forEach(e=>l+=e.getArray().byteLength);const g=t.listPrimitives().map(e=>Ae[e.getMode()]);return{name:t.getName(),mode:Array.from(new Set(g)),primitives:t.listPrimitives().length,glPrimitives:o,vertices:s,indices:Array.from(a).sort(),attributes:Array.from(i).sort(),instances:r,size:l}})}}function me(e){return{properties:e.getRoot().listMaterials().map(t=>{const r=t.listParents().filter(e=>e.propertyType!==n.ROOT).length,o=new Set(t.listExtensions()),a=e.getGraph().listEdges().filter(e=>{const n=e.getChild(),r=e.getParent();return n instanceof s&&r===t||!!(n instanceof s&&r instanceof i&&o.has(r))}).map(e=>e.getName());return{name:t.getName(),instances:r,textures:a,alphaMode:t.getAlphaMode(),doubleSided:t.getDoubleSided()}})}}function de(e){return{properties:e.getRoot().listTextures().map(t=>{const r=t.listParents().filter(e=>e.propertyType!==n.ROOT).length,o=e.getGraph().listParentEdges(t).filter(e=>e.getParent().propertyType!==n.ROOT).map(e=>e.getName()),s=a.getSize(t.getImage(),t.getMimeType());return{name:t.getName(),uri:t.getURI(),slots:Array.from(new Set(o)),instances:r,mimeType:t.getMimeType(),resolution:s?s.join(\"x\"):\"\",size:t.getImage().byteLength,gpuSize:a.getMemSize(t.getImage(),t.getMimeType())}})}}function he(e){return{properties:e.getRoot().listAnimations().map(e=>{let t=Infinity,n=-Infinity;e.listSamplers().forEach(e=>{const r=e.getInput();r&&(t=Math.min(t,r.getMin([])[0]),n=Math.max(n,r.getMax([])[0]))});let r=0,o=0;const s=new Set;return e.listSamplers().forEach(e=>{const t=e.getInput(),n=e.getOutput();t&&(o+=t.getCount(),s.add(t),n&&s.add(n))}),Array.from(s).forEach(e=>{r+=e.getArray().byteLength}),{name:e.getName(),channels:e.listChannels().length,samplers:e.listSamplers().length,duration:Math.round(1e3*(n-t))/1e3,keyframes:o,size:r}})}}const Ae=[\"POINTS\",\"LINES\",\"LINE_LOOP\",\"LINE_STRIP\",\"TRIANGLES\",\"TRIANGLE_STRIP\",\"TRIANGLE_FAN\"],ye={Float32Array:\"f32\",Uint32Array:\"u32\",Uint16Array:\"u16\",Uint8Array:\"u8\",Int32Array:\"i32\",Int16Array:\"i16\",Int8Array:\"i8\"};function Ee(e){for(let t=0;t<e.length;t++)e[t].toFixed&&(e[t]=Number(e[t].toFixed(5)));return e}function Te(e){const t=e.getArray();return(ye[t.constructor.name]||\"?\")+(e.getNormalized()?\"_norm\":\"\")}const Se={};function Ie(e=Se){return B({},Se,e),F(\"instance\",e=>{const t=e.getLogger(),n=e.getRoot(),r=e.createExtension(S);if(n.listAnimations().length)throw new Error(\"instance: Instancing is not currently supported for animated models.\");let o=0,s=0;for(const i of n.listScenes()){const n=new Map;i.traverse(e=>{const t=e.getMesh();t&&n.set(t,(n.get(t)||new Set).add(e))});const a=[];for(const l of Array.from(n.keys())){const g=Array.from(n.get(l));if(g.length<2)continue;if(g.some(e=>e.getSkin()))continue;const u=we(e,r,l,g.length),f=u.getAttribute(\"TRANSLATION\"),p=u.getAttribute(\"ROTATION\"),m=u.getAttribute(\"SCALE\"),d=e.createNode().setMesh(l).setExtension(\"EXT_mesh_gpu_instancing\",u);i.addChild(d);let h=!1,A=!1,y=!1;for(let e=0;e<g.length;e++){let t,n,r;const o=g[e];f.setElement(e,t=o.getWorldTranslation()),p.setElement(e,n=o.getWorldRotation()),m.setElement(e,r=o.getWorldScale()),c.eq(t,[0,0,0])||(h=!0),c.eq(n,[0,0,0,1])||(A=!0),c.eq(r,[1,1,1])||(y=!0),o.setMesh(null),a.push(o)}h||f.dispose(),A||p.dispose(),y||m.dispose(),be(a,t),o++,s+=g.length}}o>0?t.info(`instance: Created ${o} batches, with ${s} total instances.`):(t.info(\"instance: No meshes with multiple parent nodes were found.\"),r.dispose()),t.debug(\"instance: Complete.\")})}function be(e,t){let n,r=0;for(;n=e.pop();){if(n.listChildren().length||n.getCamera()||n.getMesh()||n.getSkin()||n.listExtensions().length)continue;const t=n.getParent();t instanceof l&&e.push(t),n.dispose(),r++}t.debug(`instance: Removed ${r} unused nodes.`)}function we(e,t,n,r){const o=n.listPrimitives()[0].getAttribute(\"POSITION\").getBuffer(),s=e.createAccessor().setType(\"VEC3\").setArray(new Float32Array(3*r)).setBuffer(o),i=e.createAccessor().setType(\"VEC4\").setArray(new Float32Array(4*r)).setBuffer(o),a=e.createAccessor().setType(\"VEC3\").setArray(new Float32Array(3*r)).setBuffer(o);return t.createInstancedMesh().setAttribute(\"TRANSLATION\",s).setAttribute(\"ROTATION\",i).setAttribute(\"SCALE\",a)}const Ne={propertyTypes:[n.NODE,n.SKIN,n.MESH,n.CAMERA,n.PRIMITIVE,n.PRIMITIVE_TARGET,n.ANIMATION,n.MATERIAL,n.TEXTURE,n.ACCESSOR,n.BUFFER],keepLeaves:!1},Me=function(e=Ne){const t=B({},Ne,e),r=new Set(t.propertyTypes);return F(\"prune\",e=>{const s=e.getLogger(),i=e.getRoot(),a=e.getGraph(),c={};if(r.has(n.NODE)&&!t.keepLeaves&&i.listScenes().forEach(function e(t){if(t.listChildren().forEach(e),t instanceof u)return;const r=a.listParentEdges(t).some(e=>{const t=e.getParent().propertyType;return t!==n.ROOT&&t!==n.SCENE&&t!==n.NODE});0!==a.listChildren(t).length||r||(t.dispose(),p(t))}),r.has(n.NODE)&&i.listNodes().forEach(l),r.has(n.SKIN)&&i.listSkins().forEach(l),r.has(n.MESH)&&i.listMeshes().forEach(l),r.has(n.CAMERA)&&i.listCameras().forEach(l),r.has(n.PRIMITIVE)&&f(a,n.PRIMITIVE),r.has(n.PRIMITIVE_TARGET)&&f(a,n.PRIMITIVE_TARGET),r.has(n.ANIMATION))for(const e of i.listAnimations()){for(const t of e.listChannels())t.getTargetNode()||(t.dispose(),p(t));if(e.listChannels().length)e.listSamplers().forEach(l);else{const t=e.listSamplers();l(e),t.forEach(l)}}if(r.has(n.MATERIAL)&&i.listMaterials().forEach(l),r.has(n.TEXTURE)&&i.listTextures().forEach(l),r.has(n.ACCESSOR)&&i.listAccessors().forEach(l),r.has(n.BUFFER)&&i.listBuffers().forEach(l),Object.keys(c).length){const e=Object.keys(c).map(e=>`${e} (${c[e]})`).join(\", \");s.info(`prune: Removed types... ${e}`)}else s.info(\"prune: No unused properties found.\");function l(e){e.listParents().filter(e=>!(e instanceof o||e instanceof g)).length||(e.dispose(),p(e))}function f(e,t){e.listEdges().map(e=>e.getParent()).filter(e=>e.propertyType===t).forEach(l)}function p(e){c[e.propertyType]=c[e.propertyType]||0,c[e.propertyType]++}s.debug(\"prune: Complete.\")})},Re={target:\"size\"};function Oe(t){const r=B({},Re,t),o=r.encoder;if(!o)throw new Error('reorder: encoder dependency required  install \"meshoptimizer\".');return F(\"reorder\",async t=>{const s=t.getLogger();await o.ready;const i=Ce(t);for(const t of i.indicesToAttributes.keys()){const n=t.clone();let s=n.getArray().slice();s instanceof Uint32Array||(s=new Uint32Array(s));const[a,c]=o.reorderMesh(s,i.indicesToMode.get(t)===e.Mode.TRIANGLES,\"size\"===r.target);n.setArray(c<=65534?new Uint16Array(s):s);for(const e of i.indicesToAttributes.get(t)){const r=e.clone();J(r,a,c);for(const o of i.attributesToPrimitives.get(e))if(o.getIndices()===t&&o.swap(t,n),o.getIndices()===n){o.swap(e,r);for(const t of o.listTargets())t.swap(e,r)}}}await t.transform(Me({propertyTypes:[n.ACCESSOR]})),i.indicesToAttributes.size?s.debug(\"reorder: Complete.\"):s.warn(\"reorder: No qualifying primitives found; may need to weld first.\")})}function Ce(e){const t=new H,n=new Map,r=new H;for(const o of e.getRoot().listMeshes())for(const e of o.listPrimitives()){const o=e.getIndices();if(o){n.set(o,e.getMode());for(const n of X(e))t.add(o,n),r.add(n,e)}}return{indicesToAttributes:t,indicesToMode:n,attributesToPrimitives:r}}function Pe(e,t=Infinity){if(Number.isFinite(t)&&t%4||t<=0)throw new Error(\"Limit must be positive multiple of four.\");const n=e.getAttribute(\"POSITION\").getCount(),r=e.listSemantics().filter(e=>e.startsWith(\"WEIGHTS_\")).length,o=new Uint16Array(4*r),s=new Float32Array(4*r),i=new Float32Array(4*r),a=new Uint32Array(4*r),l=new Uint32Array(4*r);for(let t=0;t<n;t++){xe(e,t,\"WEIGHTS\",s),xe(e,t,\"JOINTS\",a);for(let e=0;e<4*r;e++)o[e]=e;o.sort((e,t)=>s[e]>s[t]?-1:1);for(let e=0;e<o.length;e++)i[e]=s[o[e]],l[e]=a[o[e]];ze(e,t,\"WEIGHTS\",i),ze(e,t,\"JOINTS\",l)}for(let n=r;4*n>t;n--){const t=e.getAttribute(\"WEIGHTS_\"+(n-1)),r=e.getAttribute(\"JOINTS_\"+(n-1));e.setAttribute(\"WEIGHTS_\"+(n-1),null),e.setAttribute(\"JOINTS_\"+(n-1),null),1===t.listParents().length&&t.dispose(),1===r.listParents().length&&r.dispose()}!function(e){if(!function(e){const t=e.listSemantics().filter(e=>e.startsWith(\"WEIGHTS_\")).map(t=>e.getAttribute(t)),n=t.map(e=>e.getNormalized()),r=t.map(e=>e.getComponentType());return 1===new Set(n).size&&1===new Set(r).size}(e))return;const t=e.getAttribute(\"POSITION\").getCount(),n=e.listSemantics().filter(e=>e.startsWith(\"WEIGHTS_\")).length,r=e.getAttribute(\"WEIGHTS_0\"),o=r.getArray(),s=r.getComponentType(),i=r.getNormalized(),a=i?c.denormalize(1,s):Number.EPSILON,l=o.slice(0,4*n).fill(0);for(let n=0;n<t;n++){xe(e,n,\"WEIGHTS\",l);let t=$e(l);if(0!==t){if(Math.abs(1-t)>a)for(let e=0;e<l.length;e++)if(i){const n=c.normalize(l[e]/t,s);l[e]=c.denormalize(n,s)}else l[e]/=t;if(t=$e(l),i&&1!==t)for(let e=l.length-1;e>=0;e--)if(l[e]>0){l[e]+=1-t;break}ze(e,n,\"WEIGHTS\",l)}}}(e)}function xe(e,t,n,r){let o;const s=[0,0,0,0];for(let i=0;o=e.getAttribute(`${n}_${i}`);i++){o.getElement(t,s);for(let e=0;e<4;e++)r[4*i+e]=s[e]}return r}function ze(e,t,n,r){let o;const s=[0,0,0,0];for(let i=0;o=e.getAttribute(`${n}_${i}`);i++){for(let e=0;e<4;e++)s[e]=r[4*i+e];o.setElement(t,s)}}function $e(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}const ve=[Int8Array,Int16Array,Int32Array],{TRANSLATION:Le,ROTATION:_e,SCALE:qe,WEIGHTS:Ge}=g.TargetPath,ke=[Le,_e,qe],Be={pattern:/.*/,quantizationVolume:\"mesh\",quantizePosition:14,quantizeNormal:10,quantizeTexcoord:12,quantizeColor:8,quantizeWeight:8,quantizeGeneric:12,normalizeWeights:!0},Fe=(e=Be)=>{const t=B({},Be,e);return F(\"quantize\",async e=>{const r=e.getLogger(),o=e.getRoot();let s;e.createExtension(E).setRequired(!0),\"scene\"===t.quantizationVolume&&(s=We(function(e){const t=e[0];for(const n of e)$(t.min,t.min,n.min),L(t.max,t.max,n.max);return t}(o.listMeshes().map(Ke))));for(const n of e.getRoot().listMeshes()){\"mesh\"===t.quantizationVolume&&(s=We(Ke(n))),s&&t.pattern.test(\"POSITION\")&&(He(e,n,s),Ve(n,1/s.scale));for(const r of n.listPrimitives()){Ue(e,r,s,t);for(const n of r.listTargets())Ue(e,n,s,t)}}await e.transform(Me({propertyTypes:[n.ACCESSOR,n.SKIN,n.MATERIAL]}),re({propertyTypes:[n.ACCESSOR,n.MATERIAL]})),r.debug(\"quantize: Complete.\")})};function Ue(t,n,r,o){const s=t.getLogger();for(const t of n.listSemantics()){if(!o.pattern.test(t))continue;const i=n.getAttribute(t),{bits:a,ctor:c}=Xe(t,i,s,o);if(!c)continue;if(a<8||a>16)throw new Error(\"quantize: Requires bits = 816.\");if(i.getComponentSize()<=a/8)continue;const l=i.clone();if(\"POSITION\"===t){const t=r.scale,o=[];n instanceof e?O(o,Ze(r)):P(o,[1/t,1/t,1/t]);for(let e=0,t=[0,0,0],n=l.getCount();e<n;e++)l.getElement(e,t),l.setElement(e,z(t,t,o))}De(l,c,a),n.swap(i,l)}if(o.normalizeWeights&&n.getAttribute(\"WEIGHTS_0\")&&Pe(n,Infinity),n instanceof e&&n.getIndices()&&n.listAttributes().length&&n.listAttributes()[0].getCount()<65535){const e=n.getIndices();e.setArray(new Uint16Array(e.getArray()))}}function We(e){const{min:t,max:n}=e,r=Math.max((n[0]-t[0])/2,(n[1]-t[1])/2,(n[2]-t[2])/2);return{offset:[t[0]+(n[0]-t[0])/2,t[1]+(n[1]-t[1])/2,t[2]+(n[2]-t[2])/2],scale:r}}function He(e,t,n){const r=Ze(n);for(const o of t.listParents()){if(!(o instanceof l))continue;const s=o.listParents().filter(e=>e instanceof g),i=s.some(e=>ke.includes(e.getTargetPath())),a=o.listChildren().length>0;if(o.getSkin()){o.setSkin(je(o.getSkin(),n));continue}let c;a||i?(c=e.createNode(\"\").setMesh(t),o.addChild(c).setMesh(null),s.filter(e=>e.getTargetPath()===Ge).forEach(e=>e.setTargetNode(c))):c=o;const u=c.getMatrix();x(u,u,r),c.setMatrix(u)}}function je(e,t){e=e.clone();const n=Ze(t),r=e.getInverseBindMatrices().clone(),o=[];for(let e=0,t=r.getCount();e<t;e++)r.getElement(e,o),x(o,o,n),r.setElement(e,o);return e.setInverseBindMatrices(r)}function Ve(e,t){for(const n of e.listPrimitives()){let e=n.getMaterial();if(!e)continue;let r=e.getExtension(\"KHR_materials_volume\");!r||r.getThicknessFactor()<=0||(r=r.clone().setThicknessFactor(r.getThicknessFactor()*t),e=e.clone().setExtension(\"KHR_materials_volume\",r),n.setMaterial(e))}}function De(e,t,n){const r=new t(e.getArray().length),o=ve.includes(t)?1:0,s=n-o,i=8*t.BYTES_PER_ELEMENT-o,a=Math.pow(2,s)-1,c=i-s,l=2*s-i;for(let t=0,n=0,o=[];t<e.getCount();t++){e.getElement(t,o);for(let e=0;e<o.length;e++){let t=Math.round(Math.abs(o[e])*a);t=t<<c|t>>l,r[n++]=t*Math.sign(o[e])}}e.setArray(r).setNormalized(!0)}function Xe(e,t,n,r){const o=t.getMinNormalized([]),s=t.getMaxNormalized([]);let i,a;if(\"POSITION\"===e)i=r.quantizePosition,a=i<=8?Int8Array:Int16Array;else if(\"NORMAL\"===e||\"TANGENT\"===e)i=r.quantizeNormal,a=i<=8?Int8Array:Int16Array;else if(e.startsWith(\"COLOR_\"))i=r.quantizeColor,a=i<=8?Uint8Array:Uint16Array;else if(e.startsWith(\"TEXCOORD_\")){if(o.some(e=>e<0)||s.some(e=>e>1))return n.warn(`quantize: Skipping ${e}; out of [0,1] range.`),{bits:-1};i=r.quantizeTexcoord,a=i<=8?Uint8Array:Uint16Array}else{if(e.startsWith(\"JOINTS_\"))return i=Math.max(...t.getMax([]))<=255?8:16,a=i<=8?Uint8Array:Uint16Array,t.getComponentSize()>i/8&&t.setArray(new a(t.getArray())),{bits:-1};if(e.startsWith(\"WEIGHTS_\")){if(o.some(e=>e<0)||s.some(e=>e>1))return n.warn(`quantize: Skipping ${e}; out of [0,1] range.`),{bits:-1};i=r.quantizeWeight,a=i<=8?Uint8Array:Uint16Array}else{if(!e.startsWith(\"_\"))throw new Error(`quantize: Unexpected semantic, \"${e}\".`);if(o.some(e=>e<-1)||s.some(e=>e>1))return n.warn(`quantize: Skipping ${e}; out of [-1,1] range.`),{bits:-1};i=r.quantizeGeneric,a=a=o.some(e=>e<0)?i<=8?Int8Array:Int16Array:i<=8?Uint8Array:Uint16Array}}return{bits:i,ctor:a}}function Ke(e){const t=[],n=[];for(const r of e.listPrimitives()){const e=r.getAttribute(\"POSITION\");e&&t.push(e);for(const e of r.listTargets()){const t=e.getAttribute(\"POSITION\");t&&n.push(t)}}if(0===t.length)throw new Error('quantize: Missing \"POSITION\" attribute.');const r=Je(t,3);if(n.length>0){const{min:e,max:t}=Je(n,3);$(r.min,r.min,$(e,v(e,e,2),[0,0,0])),L(r.max,r.max,L(t,v(t,t,2),[0,0,0]))}return r}function Je(e,t){const n=new Array(t).fill(Infinity),r=new Array(t).fill(-Infinity),o=[],s=[];for(const i of e){i.getMinNormalized(o),i.getMaxNormalized(s);for(let e=0;e<t;e++)n[e]=Math.min(n[e],o[e]),r[e]=Math.max(r[e],s[e])}return{min:n,max:r}}function Ze(e){return C([],[0,0,0,1],e.offset,[e.scale,e.scale,e.scale])}const Qe={level:\"high\"},Ye=e=>{const t=B({},Qe,e),n=t.encoder;if(!n)throw new Error('meshopt: encoder dependency required  install \"meshoptimizer\".');return async e=>{await e.transform(Oe({encoder:n,target:\"size\"}),Fe({pattern:\"medium\"===t.level?/.*/:/^(POSITION|TEXCOORD|JOINTS|WEIGHTS)(_\\d+)?$/,quantizePosition:14,quantizeTexcoord:12,quantizeColor:8,quantizeNormal:8})),e.createExtension(I).setRequired(!0).setEncoderOptions({method:\"medium\"===t.level?I.EncoderMethod.QUANTIZE:I.EncoderMethod.FILTER})}},et={};function tt(e=et){return B({},et,e),F(\"metalRough\",async e=>{const t=e.getLogger();if(!e.getRoot().listExtensionsUsed().map(e=>e.extensionName).includes(\"KHR_materials_pbrSpecularGlossiness\"))return void t.warn(\"metalRough: KHR_materials_pbrSpecularGlossiness not found on document.\");const n=e.createExtension(b),r=e.createExtension(w),o=e.createExtension(N),s=new Set;for(const t of e.getRoot().listMaterials()){const o=t.getExtension(\"KHR_materials_pbrSpecularGlossiness\");if(!o)continue;const i=r.createSpecular().setSpecularFactor(1).setSpecularColorFactor(o.getSpecularFactor());s.add(o.getSpecularGlossinessTexture()),s.add(t.getBaseColorTexture()),s.add(t.getMetallicRoughnessTexture()),t.setBaseColorFactor(o.getDiffuseFactor()).setMetallicFactor(0).setRoughnessFactor(1).setExtension(\"KHR_materials_ior\",n.createIOR().setIOR(1e3)).setExtension(\"KHR_materials_specular\",i);const a=o.getDiffuseTexture();a&&(t.setBaseColorTexture(a),t.getBaseColorTextureInfo().copy(o.getDiffuseTextureInfo()));const c=o.getSpecularGlossinessTexture();if(c){const n=o.getSpecularGlossinessTextureInfo(),r=e.createTexture();await W(c,r,(e,t,n)=>{e.set(t,n,3,255)}),i.setSpecularTexture(r),i.setSpecularColorTexture(r),i.getSpecularTextureInfo().copy(n),i.getSpecularColorTextureInfo().copy(n);const s=o.getGlossinessFactor(),a=e.createTexture();await W(c,a,(e,t,n)=>{const r=255-Math.round(e.get(t,n,3)*s);e.set(t,n,0,0),e.set(t,n,1,r),e.set(t,n,2,0),e.set(t,n,3,255)}),t.setMetallicRoughnessTexture(a),t.getMetallicRoughnessTextureInfo().copy(n)}else i.setSpecularColorFactor(o.getSpecularFactor()),t.setRoughnessFactor(1-o.getGlossinessFactor());t.setExtension(\"KHR_materials_pbrSpecularGlossiness\",null)}o.dispose();for(const e of s)e&&1===e.listParents().length&&e.dispose();t.debug(\"metalRough: Complete.\")})}const nt={};function rt(e=nt){return B({},nt,e),F(\"unweld\",e=>{const t=e.getLogger(),n=new Map;for(const r of e.getRoot().listMeshes())for(const e of r.listPrimitives()){const r=e.getIndices();if(!r)continue;const o=e.getAttribute(\"POSITION\").getCount();for(const o of e.listAttributes())e.swap(o,ot(o,r,t,n)),1===o.listParents().length&&o.dispose();for(const o of e.listTargets())for(const e of o.listAttributes())o.swap(e,ot(e,r,t,n)),1===e.listParents().length&&e.dispose();const s=e.getAttribute(\"POSITION\").getCount();t.debug(`unweld: ${D(o,s)} vertices.`),e.setIndices(null),1===r.listParents().length&&r.dispose()}t.debug(\"unweld: Complete.\")})}function ot(e,t,n,r){if(r.has(e)&&r.get(e).has(t))return n.debug(`unweld: Cache hit for reused attribute, \"${e.getName()}\".`),r.get(e).get(t);const o=e.clone(),s=e.getArray().constructor;o.setArray(new s(t.getCount()*e.getElementSize()));const i=[];for(let n=0;n<t.getCount();n++)o.setElement(n,e.getElement(t.getScalar(n),i));return r.has(e)||r.set(e,new Map),r.get(e).set(t,o),o}const st={overwrite:!1};function it(e=st){const t=B({},st,e);return F(\"normals\",async e=>{const n=e.getLogger();let r=0;await e.transform(rt());for(const o of e.getRoot().listMeshes())for(const s of o.listPrimitives()){const o=s.getAttribute(\"POSITION\");let i=s.getAttribute(\"NORMAL\");if(t.overwrite&&i)i.dispose();else if(i){n.debug(\"normals: Skipping primitive: NORMAL found.\");continue}i=e.createAccessor().setArray(new Float32Array(3*o.getCount())).setType(\"VEC3\");const a=[0,0,0],c=[0,0,0],l=[0,0,0];for(let e=0;e<o.getCount();e+=3){o.getElement(e+0,a),o.getElement(e+1,c),o.getElement(e+2,l);const t=at(a,c,l);i.setElement(e+0,t),i.setElement(e+1,t),i.setElement(e+2,t)}s.setAttribute(\"NORMAL\",i),r++}r?n.debug(\"normals: Complete.\"):n.warn(\"normals: No qualifying primitives found. See debug output.\")})}function at(e,t,n){const r=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],o=[n[0]-e[0],n[1]-e[1],n[2]-e[2]];return _([0,0,0],[r[1]*o[2]-r[2]*o[1],r[2]*o[0]-r[0]*o[2],r[0]*o[1]-r[1]*o[0]])}const ct={animations:!0,meshes:!0},lt=(e=ct)=>{const t=B({},ct,e);return F(\"partition\",async e=>{const r=e.getLogger();!1!==t.meshes&&function(e,t,n){const r=new Set(e.getRoot().listBuffers().map(e=>e.getURI()));e.getRoot().listMeshes().forEach((o,s)=>{if(Array.isArray(n.meshes)&&!n.meshes.includes(o.getName()))return void t.debug(`partition: Skipping mesh #${s} with name \"${o.getName()}\".`);t.debug(`partition: Creating buffer for mesh \"${o.getName()}\".`);const i=e.createBuffer(o.getName()).setURI(gt(o.getName()||\"mesh\",r));o.listPrimitives().forEach(e=>{const t=e.getIndices();t&&t.setBuffer(i),e.listAttributes().forEach(e=>e.setBuffer(i)),e.listTargets().forEach(e=>{e.listAttributes().forEach(e=>e.setBuffer(i))})})})}(e,r,t),!1!==t.animations&&function(e,t,n){const r=new Set(e.getRoot().listBuffers().map(e=>e.getURI()));e.getRoot().listAnimations().forEach((o,s)=>{if(Array.isArray(n.animations)&&!n.animations.includes(o.getName()))return void t.debug(`partition: Skipping animation #${s} with name \"${o.getName()}\".`);t.debug(`partition: Creating buffer for animation \"${o.getName()}\".`);const i=e.createBuffer(o.getName()).setURI(gt(o.getName()||\"animation\",r));o.listSamplers().forEach(e=>{const t=e.getInput(),n=e.getOutput();t&&t.setBuffer(i),n&&n.setBuffer(i)})})}(e,r,t),t.meshes||t.animations||r.warn(\"partition: Select animations or meshes to create a partition.\"),await e.transform(Me({propertyTypes:[n.BUFFER]})),r.debug(\"partition: Complete.\")})};function gt(e,t){let n=`${e}.bin`,r=1;for(;t.has(n);)n=`${e}_${r++}.bin`;return n}const ut={tolerance:1e-4},ft=(e=ut)=>{const t=B({},ut,e);return F(\"resample\",(e,n)=>{const r=new Set,s=e.getRoot().listAccessors().length,i=e.getLogger();let a=!1;for(const n of e.getRoot().listAnimations()){const e=new Set;for(const t of n.listChannels())t.getSampler()&&\"weights\"===t.getTargetPath()&&e.add(t.getSampler());for(const o of n.listSamplers())e.has(o)?a=!0:\"STEP\"!==o.getInterpolation()&&\"LINEAR\"!==o.getInterpolation()||(r.add(o.getInput()),r.add(o.getOutput()),pt(o,t))}for(const e of Array.from(r.values()))e.listParents().some(e=>!(e instanceof o))||e.dispose();e.getRoot().listAccessors().length>s&&!U(n,\"resample\",\"dedup\")&&i.warn('resample: Resampling required copying accessors, some of which may be duplicates. Consider using \"dedup\" to consolidate any duplicates.'),a&&i.warn(\"resample: Skipped optimizing morph target keyframes, not yet supported.\"),i.debug(\"resample: Complete.\")})};function pt(e,t){const n=e.getInput().clone(),r=e.getOutput().clone(),o=t.tolerance,s=n.getCount()-1,i=[];let a=1;for(let t=1;t<s;++t){const s=n.getScalar(t),l=n.getScalar(t-1),g=n.getScalar(t+1),u=(s-l)/(g-l);let f=!1;if(s!==g&&(1!==t||s!==n.getScalar(0)))for(let n=0;n<r.getElementSize();n++){const s=r.getElement(t,i)[n],a=r.getElement(t-1,i)[n],l=r.getElement(t+1,i)[n];if(\"LINEAR\"===e.getInterpolation()){if(Math.abs(s-(a*(1-(c=u))+l*c))>o){f=!0;break}}else if(\"STEP\"===e.getInterpolation()&&(s!==a||s!==l)){f=!0;break}}f&&(t!==a&&(n.setScalar(a,n.getScalar(t)),r.setElement(a,r.getElement(t,i))),a++)}var c;s>0&&(n.setScalar(a,n.getScalar(s)),r.setElement(a,r.getElement(s,i)),a++),a!==n.getCount()?(n.setArray(n.getArray().slice(0,a)),r.setArray(r.getArray().slice(0,a*r.getElementSize())),e.setInput(n),e.setOutput(r)):(n.dispose(),r.dispose())}const mt={name:\"\",fps:10,pattern:/.*/,sort:!0};function dt(e=mt){const t=B({},mt,e);return F(\"sequence\",e=>{const n=e.getLogger(),r=e.getRoot(),o=t.fps,s=r.listNodes().filter(e=>e.getName().match(t.pattern));t.sort&&s.sort((e,t)=>e.getName()>t.getName()?1:-1);const i=e.createAnimation(t.name),a=r.listBuffers()[0];s.forEach((t,n)=>{let r,c;0===n?(r=[n/o,(n+1)/o],c=[1,1,1,0,0,0]):n===s.length-1?(r=[(n-1)/o,n/o],c=[0,0,0,1,1,1]):(r=[(n-1)/o,n/o,(n+1)/o],c=[0,0,0,1,1,1,0,0,0]);const l=e.createAccessor().setArray(new Float32Array(r)).setBuffer(a),u=e.createAccessor().setArray(new Float32Array(c)).setBuffer(a).setType(f.Type.VEC3),m=e.createAnimationSampler().setInterpolation(p.Interpolation.STEP).setInput(l).setOutput(u),d=e.createAnimationChannel().setTargetNode(t).setTargetPath(g.TargetPath.SCALE).setSampler(m);i.addSampler(m).addChannel(d)}),n.debug(\"sequence: Complete.\")})}const ht={tolerance:1e-4,overwrite:!0};function At(t=ht){const r=B({},ht,t);if(r.tolerance>.1||r.tolerance<0)throw new Error(\"weld: Requires 0  tolerance  0.1\");return F(\"weld\",async(t,o)=>{const s=t.getLogger();for(const n of t.getRoot().listMeshes())for(const o of n.listPrimitives())o.getIndices()&&!r.overwrite||o.getMode()!==e.Mode.POINTS&&(0===r.tolerance?yt(t,o):Et(t,o,r));U(o,\"weld\",\"dedup\")||await t.transform(re({propertyTypes:[n.ACCESSOR]})),s.debug(\"weld: Complete.\")})}function yt(e,t){if(t.getIndices())return;const n=t.listAttributes()[0],r=n.getCount(),o=n.getBuffer(),s=r<=65534?new Uint16Array(r):new Uint32Array(r),i=e.createAccessor().setBuffer(o).setType(f.Type.SCALAR).setArray(s);for(let e=0;e<i.getCount();e++)i.setScalar(e,e);t.setIndices(i)}function Et(e,t,n){const r=e.getLogger(),o=t.getAttribute(\"POSITION\"),s=t.getIndices()||e.createAccessor().setArray(Z(o.getCount())),i=new Uint32Array(new Set(s.getArray())),a=Math.max(n.tolerance,Number.EPSILON),c={};for(const e of t.listSemantics()){const n=t.getAttribute(e);c[e]=bt(e,n,a)}var l;r.debug(`weld: Tolerance thresholds: ${l=c,Object.entries(l).map(([e,t])=>`${e}=${t}`).join(\", \")}`);const g=[0,0,0],u=[0,0,0];i.sort((e,t)=>(o.getElement(e,g),o.getElement(t,u),g[0]>u[0]?1:-1));const f=Z(i.length),p=Z(i.length),m=o.getCount();let d=0,h=0;for(let e=0;e<i.length;e++){const n=i[e];for(let r=e-1;r>=0;r--){const e=f[i[r]];if(o.getElement(n,g),o.getElement(e,u),Math.abs(g[0]-u[0])>c.POSITION)break;h++;const s=t.listSemantics().every(r=>wt(t.getAttribute(r),n,e,c[r])),a=t.listTargets().every(r=>r.listSemantics().every(r=>wt(t.getAttribute(r),n,e,c[r])));if(s&&a){f[n]=e;break}}p[n]=f[n]===n?d++:p[f[n]]}r.debug(`weld: Iterations per vertex: ${Math.round(h/i.length)} (avg)`),r.debug(`weld: ${D(m,d)} vertices.`);const A=s.getCount(),y=Z(A,i.length);for(let e=0;e<A;e++)y[e]=p[s.getScalar(e)];t.setIndices(s.clone().setArray(y)),1===s.listParents().length&&s.dispose();for(const e of t.listAttributes())Tt(t,e,p,d);for(const e of t.listTargets())for(const t of e.listAttributes())Tt(e,t,p,d)}function Tt(e,t,n,r){const o=(s=t.getArray(),i=r*t.getElementSize(),new(0,s.constructor)(i));var s,i;const a=t.clone().setArray(o),c=new Uint8Array(r);for(let e=0,r=[];e<n.length;e++)c[n[e]]||(a.setElement(n[e],t.getElement(e,r)),c[n[e]]=1);e.swap(t,a),1===t.listParents().length&&t.dispose()}const St=[],It=[];function bt(e,t,n){return\"NORMAL\"===e||\"TANGENT\"===e?.5:e.startsWith(\"COLOR_\")?.01:e.startsWith(\"TEXCOORD_\")?1e-4:e.startsWith(\"JOINTS_\")?0:e.startsWith(\"WEIGHTS_\")?.01:(St.length=It.length=0,t.getMinNormalized(St),t.getMaxNormalized(It),n*(Math.max(...It)-Math.min(...St)||1))}function wt(e,t,n,r,o){e.getElement(t,St),e.getElement(n,It);for(let t=0,n=e.getElementSize();t<n;t++)if(Math.abs(St[t]-It[t])>r)return!1;return!0}const Nt={ratio:.5,error:.001,lockBorder:!1},Mt=t=>{const r=B({},Nt,t),o=r.simplifier;if(!o)throw new Error('simplify: simplifier dependency required  install \"meshoptimizer\".');return F(\"simplify\",async(t,s)=>{const i=t.getLogger();await o.ready,await t.transform(At({overwrite:!1}));for(const n of t.getRoot().listMeshes())for(const o of n.listPrimitives())o.getMode()===e.Mode.TRIANGLES?Rt(t,o,r):i.warn(`simplify: Skipping primitive of mesh \"${n.getName()}\": Requires TRIANGLES draw mode.`);U(s,\"simplify\",\"dedup\")||await t.transform(re({propertyTypes:[n.ACCESSOR]})),i.debug(\"simplify: Complete.\")})};function Rt(e,t,n){const r=B({},Nt,n),o=e.getLogger(),s=t.getAttribute(\"POSITION\"),i=t.getIndices(),a=s.getCount();let c=s.getArray(),l=i.getArray();if(s.getComponentType()!==f.ComponentType.FLOAT)if(s.getNormalized()){const e=c,t=new Float32Array(e.length);for(let n=0,r=s.getCount(),o=[];n<r;n++)o=s.getElement(n,o),s.setArray(t).setElement(n,o).setArray(e);c=t}else c=new Float32Array(c);i.getComponentType()!==f.ComponentType.UNSIGNED_INT&&(l=new Uint32Array(l));const g=3*Math.floor(r.ratio*a/3),[u,p]=r.simplifier.simplify(l,c,3,g,r.error,r.lockBorder?[\"LockBorder\"]:[]),[m,d]=r.simplifier.compactMesh(u);o.debug(`simplify: ${D(s.getCount(),d)} vertices, error: ${p.toFixed(4)}.`);for(const e of X(t)){const n=e.clone();J(n,m,d),K(t,e,n),1===e.listParents().length&&e.dispose()}const h=i.clone();return h.setArray(a<=65534?new Uint16Array(u):u),t.setIndices(h),1===i.listParents().length&&i.dispose(),t}function Ot(e,t){const n=Ct(e,t),r=[];return n&d.R&&r.push(d.R),n&d.G&&r.push(d.G),n&d.B&&r.push(d.B),n&d.A&&r.push(d.A),r}function Ct(e,t){let r=0;for(const o of e.getGraph().listParentEdges(t)){const t=o.getParent();let{channels:s}=o.getAttributes();s&&\"baseColorTexture\"===o.getName()&&t instanceof m&&t.getAlphaMode()===m.AlphaMode.OPAQUE&&(s&=~d.A),s?r|=s:t.propertyType!==n.ROOT&&e.getLogger().warn(`Missing attribute \".channels\" on edge, \"${o.getName()}\".`)}return r}function Pt(e,t){const n=e.getRoot(),r=e.getGraph().listParentEdges(t).filter(e=>e.getParent()!==n).map(e=>e.getName());return Array.from(new Set(r))}var xt;!function(e){e.OXIPNG=\"oxipng\",e.MOZJPEG=\"mozjpeg\",e.WEBP=\"webp\"}(xt||(xt={}));const zt={[xt.OXIPNG]:\"image/png\",[xt.MOZJPEG]:\"image/jpeg\",[xt.WEBP]:\"image/webp\"},$t={jobs:4,formats:/.*/,slots:/.*/,auto:!1},vt=B({},$t,{codec:xt.WEBP}),Lt=B({},$t,{codec:xt.MOZJPEG,formats:/^image\\/jpeg$/}),_t=B({},$t,{codec:xt.OXIPNG,formats:/^image\\/png$/}),qt=[\"image/jpeg\",\"image/png\",\"image/webp\"];let Gt=null,kt=0;const Bt=(e,t)=>(Gt||(Gt=new e.ImagePool(t)),kt++,Gt),Ft=()=>{kt--,Gt&&kt<=0&&(Gt.close(),Gt=null)},Ut=function(e){const t=B({},$t,e),n=t.squoosh,r=t.codec;if(!n)throw new Error(`${r}: squoosh dependency required  install \"@squoosh/lib\".`);return async e=>{const o=e.getLogger(),s=e.getRoot().listTextures(),i=Bt(n,t.jobs);await Promise.all(s.map(async(n,s)=>{const a=Pt(e,n),c=Ct(e,n),l=n.getURI()||n.getName()||`${s+1}/${e.getRoot().listTextures().length}`,g=`${r}:texture(${l})`;if(!qt.includes(n.getMimeType()))return void o.debug(`${g}: Skipping, unsupported texture type \"${n.getMimeType()}\".`);if(!t.formats.test(n.getMimeType()))return void o.debug(`${g}: Skipping, \"${n.getMimeType()}\" excluded by \"formats\" parameter.`);if(a.length&&!a.some(e=>t.slots.test(e)))return void o.debug(`${g}: Skipping, [${a.join(\", \")}] excluded by \"slots\" parameter.`);if(t.codec===xt.MOZJPEG&&c&d.A)return void o.warn(`${g}: Skipping, [${a.join(\", \")}] requires alpha channel.`);o.debug(`${g}: Slots  [${a.join(\", \")}]`);const u=i.ingestImage(n.getImage()),f=n.getImage().byteLength;await u.encode({[t.codec]:t.auto?\"auto\":{}});const p=await u.encodedWith[t.codec];o.debug(`${g}: ${JSON.stringify(p.optionsUsed)}`),n.setImage(p.binary).setMimeType(zt[t.codec]);const m=p.binary.byteLength;o.debug(`${g}: ${j(f)}  ${j(m)}`)})),Ft(),o.debug(`${r}: Complete.`)}},Wt=function(e){const t=B({},vt,e);return async e=>{await Ut(t)(e),e.getRoot().listTextures().some(e=>e.getMimeType()===zt[xt.WEBP])&&e.createExtension(M).setRequired(!0)}},Ht=function(e){const t=B({},Lt,e);return e=>Ut(t)(e)},jt=function(e){const t=B({},_t,e);return e=>Ut(t)(e)},Vt={overwrite:!1};function Dt(e=Vt){if(!e.generateTangents)throw new Error('tangents: generateTangents callback required  install \"mikktspace\".');const t=B({},Vt,e);return F(\"tangents\",e=>{const n=e.getLogger(),r=new Map,o=new Map;let s=0;for(const i of e.getRoot().listMeshes()){const a=i.getName(),c=i.listPrimitives();for(let i=0;i<c.length;i++){const l=c[i];if(!Kt(l,n,a,i,t.overwrite))continue;const g=Xt(l),u=l.getAttribute(\"POSITION\").getArray(),f=l.getAttribute(\"NORMAL\").getArray(),p=l.getAttribute(g).getArray(),m=r.get(u)||h();r.set(u,m);const d=r.get(f)||h();r.set(f,d);const A=r.get(p)||h();r.set(p,A);const y=l.getAttribute(\"TANGENT\");y&&2===y.listParents().length&&y.dispose();const E=`${m}|${d}|${A}`;let T=o.get(E);if(T){n.debug(`tangents: Found cache for primitive ${i} of mesh \"${a}\".`),l.setAttribute(\"TANGENT\",T),s++;continue}n.debug(`tangents: Generating for primitive ${i} of mesh \"${a}\".`);const S=l.getAttribute(\"POSITION\").getBuffer(),I=t.generateTangents(u instanceof Float32Array?u:new Float32Array(u),f instanceof Float32Array?f:new Float32Array(f),p instanceof Float32Array?p:new Float32Array(p));for(let e=3;e<I.length;e+=4)I[e]*=-1;T=e.createAccessor().setBuffer(S).setArray(I).setType(\"VEC4\"),l.setAttribute(\"TANGENT\",T),o.set(E,T),s++}}s?n.debug(\"tangents: Complete.\"):n.warn(\"tangents: No qualifying primitives found. See debug output.\")})}function Xt(e){const t=e.getMaterial();if(!t)return\"TEXCOORD_0\";const n=t.getNormalTextureInfo();if(!n)return\"TEXCOORD_0\";const r=`TEXCOORD_${n.getTexCoord()}`;return e.getAttribute(r)?r:\"TEXCOORD_0\"}function Kt(t,n,r,o,s){return t.getMode()===e.Mode.TRIANGLES&&t.getAttribute(\"POSITION\")&&t.getAttribute(\"NORMAL\")&&t.getAttribute(\"TEXCOORD_0\")?t.getAttribute(\"TANGENT\")&&!s?(n.debug(`tangents: Skipping primitive ${o} of mesh \"${r}\": TANGENT found.`),!1):!t.getIndices()||(n.warn(`tangents: Skipping primitive ${o} of mesh \"${r}\": primitives must be unwelded.`),!1):(n.debug(`tangents: Skipping primitive ${o} of mesh \"${r}\": primitives must have attributes=[POSITION, NORMAL, TEXCOORD_0] and mode=TRIANGLES.`),!1)}const Jt=\"textureResize\";var Zt;!function(e){e.LANCZOS3=\"lanczos3\",e.LANCZOS2=\"lanczos2\"}(Zt||(Zt={}));const Qt={size:[2048,2048],filter:Zt.LANCZOS3,pattern:null,slots:null};function Yt(e=Qt){const t=B({},Qt,e);return F(Jt,async e=>{const n=e.getLogger();for(const r of e.getRoot().listTextures()){const o=r.getName(),s=r.getURI();if(t.pattern&&!t.pattern.test(o)&&!t.pattern.test(s)){n.debug(`${Jt}: Skipping, excluded by \"pattern\" parameter.`);continue}if(\"image/png\"!==r.getMimeType()&&\"image/jpeg\"!==r.getMimeType()){n.warn(`${Jt}: Skipping, unsupported texture type \"${r.getMimeType()}\".`);continue}const i=Pt(e,r);if(t.slots&&!i.some(e=>{var n;return null==(n=t.slots)?void 0:n.test(e)})){n.debug(`${Jt}: Skipping, [${i.join(\", \")}] excluded by \"slots\" parameter.`);continue}const[a,c]=t.size,[l,g]=r.getSize();if(l<=a&&g<=c){n.debug(`${Jt}: Skipping, not within size range.`);continue}let u=l,f=g;u>a&&(f=Math.floor(f*(a/u)),u=a),f>c&&(u=Math.floor(u*(c/f)),f=c);const p=r.getImage(),m=await A(p,r.getMimeType()),d=q(new Uint8Array(u*f*4),[u,f,4]);n.debug(`${Jt}: Resizing \"${s||o}\", ${m.shape}  ${d.shape}...`),n.debug(`${Jt}: Slots  [${i.join(\", \")}]`);try{t.filter===Zt.LANCZOS3?G(m,d):k(m,d)}catch(e){if(e instanceof Error){n.warn(`${Jt}: Failed to resize \"${s||o}\": \"${e.message}\".`);continue}throw e}r.setImage(await y(d,r.getMimeType()))}n.debug(`${Jt}: Complete.`)})}const en=()=>e=>{const t=e.createExtension(R).createUnlit();e.getRoot().listMaterials().forEach(e=>{e.setExtension(\"KHR_materials_unlit\",t)})},tn={},nn=(e=tn)=>(B({},tn,e),F(\"unpartition\",async e=>{const t=e.getLogger(),n=e.getRoot().listBuffers()[0];e.getRoot().listAccessors().forEach(e=>e.setBuffer(n)),e.getRoot().listBuffers().forEach((e,t)=>t>0?e.dispose():null),t.debug(\"unpartition: Complete.\")}));export{le as DRACO_DEFAULTS,Qe as MESHOPT_DEFAULTS,Be as QUANTIZE_DEFAULTS,Nt as SIMPLIFY_DEFAULTS,Qt as TEXTURE_RESIZE_DEFAULTS,Zt as TextureResizeFilter,ht as WELD_DEFAULTS,Y as center,te as colorspace,Ce as createLayoutPlan,re as dedup,ie as dequantize,ge as draco,Ct as getTextureChannelMask,ue as inspect,Ie as instance,Ot as listTextureChannels,Pt as listTextureSlots,Ye as meshopt,tt as metalRough,Ht as mozjpeg,it as normals,jt as oxipng,lt as partition,Me as prune,Fe as quantize,Oe as reorder,ft as resample,dt as sequence,Mt as simplify,Rt as simplifyPrimitive,Pe as sortPrimitiveWeights,Ut as squoosh,Dt as tangents,Yt as textureResize,en as unlit,nn as unpartition,rt as unweld,Wt as webp,At as weld};\n//# sourceMappingURL=functions.modern.js.map\n","import {\n  Extension,\n  ExtensionProperty,\n  IProperty,\n  Nullable,\n  PropertyType,\n  ReaderContext,\n  WriterContext,\n  FileUtils,\n  BufferUtils,\n  JSONDocument,\n  Format,\n} from \"@gltf-transform/core\";\n\nimport { ICustomPlatformIO } from \"../ICustomPlatformIO\";\n\nconst EXTENSION_NAME = \"KHR_audio\";\n\ninterface SceneEmitterDef {\n  emitters: number[];\n}\n\ninterface NodeEmitterDef {\n  emitter: number;\n}\n\ninterface AudioDataDef {\n  uri?: string;\n  mimeType?: string;\n  bufferView?: number;\n}\n\ninterface AudioSourceDef {\n  audio?: number;\n  autoPlay?: boolean;\n  gain?: number;\n  loop?: boolean;\n}\n\ninterface AudioEmitterDef {\n  type: KHRAudioEmitterType;\n  gain?: number;\n  sources?: number[];\n  positional?: AudioEmitterPositionalDef;\n}\n\ninterface AudioEmitterPositionalDef {\n  coneInnerAngle?: number;\n  coneOuterAngle?: number;\n  coneOuterGain?: number;\n  distanceModel?: KHRAudioEmitterDistanceModel;\n  maxDistance?: number;\n  refDistance?: number;\n  rolloffFactor?: number;\n}\n\ninterface AudioExtensionDef {\n  audio?: AudioDataDef[];\n  sources?: AudioSourceDef[];\n  emitters?: AudioEmitterDef[];\n}\n\nexport class KHRAudioExtension extends Extension {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public readonly extensionName = EXTENSION_NAME;\n  public prewriteTypes = [PropertyType.BUFFER];\n\n  public createSceneAudioEmitters(): KHRSceneAudioEmitters {\n    return new KHRSceneAudioEmitters(this.document.getGraph());\n  }\n\n  public createAudioEmitter(): KHRAudioEmitter {\n    return new KHRAudioEmitter(this.document.getGraph());\n  }\n\n  public createAudioSource(): KHRAudioSource {\n    return new KHRAudioSource(this.document.getGraph());\n  }\n\n  public createAudioData(): KHRAudioData {\n    return new KHRAudioData(this.document.getGraph());\n  }\n\n  public static async beforeReadDocument(io: ICustomPlatformIO, jsonDoc: JSONDocument) {\n    if (!jsonDoc.json.extensions || !jsonDoc.json.extensions[EXTENSION_NAME]) return;\n\n    const rootDef = jsonDoc.json.extensions[EXTENSION_NAME] as AudioExtensionDef;\n\n    if (rootDef.audio) {\n      await Promise.all(\n        rootDef.audio.map(async ({ uri }) => {\n          if (!uri || uri.match(/data:/)) return;\n          jsonDoc.resources[uri] = await io.readURI(io.resolve(io.dirname(uri), uri), \"view\");\n        })\n      );\n    }\n  }\n\n  public read(context: ReaderContext): this {\n    const { json, resources } = context.jsonDoc;\n\n    if (!json.extensions || !json.extensions[EXTENSION_NAME]) return this;\n\n    const rootDef = json.extensions[EXTENSION_NAME] as AudioExtensionDef;\n\n    const audioDataDefs = rootDef.audio || ([] as AudioDataDef[]);\n    const audioSourceDefs = rootDef.sources || ([] as AudioSourceDef[]);\n    const audioEmitterDefs = rootDef.emitters || ([] as AudioEmitterDef[]);\n\n    const audioData = audioDataDefs.map((audioDataDef) => {\n      const audio = this.createAudioData();\n\n      if (audioDataDef.bufferView !== undefined) {\n        const bufferViewDef = json.bufferViews![audioDataDef.bufferView];\n        const bufferDef = json.buffers![bufferViewDef.buffer];\n        const bufferData = bufferDef.uri ? resources[bufferDef.uri] : resources[\"@glb.bin\"];\n        const byteOffset = bufferViewDef.byteOffset || 0;\n        const byteLength = bufferViewDef.byteLength;\n        const data = bufferData.slice(byteOffset, byteOffset + byteLength);\n        audio.setData(data);\n      } else if (audioDataDef.uri !== undefined) {\n        audio.setData(resources[audioDataDef.uri]);\n\n        if (audioDataDef.uri.indexOf(\"__\") !== 0) {\n          audio.setURI(audioDataDef.uri);\n        }\n      }\n\n      return audio;\n    });\n\n    const audioSources = audioSourceDefs.map((audioSourceDef) => {\n      const audioSource = this.createAudioSource();\n\n      if (audioSourceDef.autoPlay !== undefined) audioSource.setAutoPlay(audioSourceDef.autoPlay);\n      if (audioSourceDef.loop !== undefined) audioSource.setLoop(audioSourceDef.loop);\n      if (audioSourceDef.gain !== undefined) audioSource.setGain(audioSourceDef.gain);\n      if (audioSourceDef.audio !== undefined) audioSource.setAudio(audioData[audioSourceDef.audio]);\n\n      return audioSource;\n    });\n\n    const audioEmitters = audioEmitterDefs.map((audioEmitterDef) => {\n      const audioEmitter = this.createAudioEmitter();\n\n      audioEmitter.setType(audioEmitterDef.type);\n\n      if (audioEmitterDef.gain !== undefined) audioEmitter.setGain(audioEmitterDef.gain);\n\n      if (audioEmitterDef.sources !== undefined) {\n        for (const sourceIndex of audioEmitterDef.sources) {\n          audioEmitter.addSource(audioSources[sourceIndex]);\n        }\n      }\n\n      if (audioEmitterDef.type === KHRAudioEmitter.Type.POSITIONAL && audioEmitterDef.positional) {\n        const positionalDef = audioEmitterDef.positional;\n        if (positionalDef.coneInnerAngle !== undefined) audioEmitter.setConeInnerAngle(positionalDef.coneInnerAngle);\n        if (positionalDef.coneOuterAngle !== undefined) audioEmitter.setConeOuterAngle(positionalDef.coneOuterAngle);\n        if (positionalDef.coneOuterGain !== undefined) audioEmitter.setConeOuterGain(positionalDef.coneOuterGain);\n        if (positionalDef.distanceModel !== undefined) audioEmitter.setDistanceModel(positionalDef.distanceModel);\n        if (positionalDef.maxDistance !== undefined) audioEmitter.setMaxDistance(positionalDef.maxDistance);\n        if (positionalDef.refDistance !== undefined) audioEmitter.setRefDistance(positionalDef.refDistance);\n        if (positionalDef.rolloffFactor !== undefined) audioEmitter.setRolloffFactor(positionalDef.rolloffFactor);\n      }\n\n      return audioEmitter;\n    });\n\n    const sceneDefs = json.scenes || [];\n\n    sceneDefs.forEach((sceneDef, sceneIndex) => {\n      if (!sceneDef.extensions || !sceneDef.extensions[EXTENSION_NAME]) return;\n\n      const sceneEmitterDef = sceneDef.extensions[EXTENSION_NAME] as SceneEmitterDef;\n      const sceneAudioEmitters = this.createSceneAudioEmitters();\n\n      for (const emitterIndex of sceneEmitterDef.emitters) {\n        sceneAudioEmitters.addEmitter(audioEmitters[emitterIndex]);\n      }\n\n      context.scenes[sceneIndex].setExtension(EXTENSION_NAME, sceneAudioEmitters);\n    });\n\n    const nodeDefs = json.nodes || [];\n\n    nodeDefs.forEach((nodeDef, nodeIndex) => {\n      if (!nodeDef.extensions || !nodeDef.extensions[EXTENSION_NAME]) return;\n\n      const nodeEmitterDef = nodeDef.extensions[EXTENSION_NAME] as NodeEmitterDef;\n      context.nodes[nodeIndex].setExtension(EXTENSION_NAME, audioEmitters[nodeEmitterDef.emitter]);\n    });\n\n    return this;\n  }\n\n  private audioDataUris = new Map<KHRAudioData, string>();\n\n  public prewrite(context: WriterContext, propertyType: PropertyType): this {\n    this.audioDataUris.clear();\n\n    let audioFileCounter = 0;\n\n    for (const property of this.properties) {\n      if (property.propertyType === AUDIO_DATA_PROPERTY_TYPE) {\n        const audioData = property as KHRAudioData;\n        const data = audioData.getData();\n\n        if (data) {\n          if (context.options.format === Format.GLB) {\n            const glbBuffer = this.document.getRoot().listBuffers()[0];\n            const bufferViews = context.otherBufferViews.get(glbBuffer) || [];\n            bufferViews.push(data);\n            context.otherBufferViews.set(glbBuffer, bufferViews);\n          } else {\n            const uri = audioData.getURI() || `audio_${audioFileCounter++}.mp3`;\n            context.jsonDoc.resources[uri] = data;\n            this.audioDataUris.set(audioData, uri);\n          }\n        }\n      }\n    }\n\n    return this;\n  }\n\n  public write(context: WriterContext): this {\n    const jsonDoc = context.jsonDoc;\n\n    if (this.properties.size === 0) return this;\n\n    const audioDataDefs: AudioDataDef[] = [];\n    const audioDataIndexMap = new Map<KHRAudioData, number>();\n\n    for (const property of this.properties) {\n      if (property.propertyType === AUDIO_DATA_PROPERTY_TYPE) {\n        const audioData = property as KHRAudioData;\n        const audioDataDef: AudioDataDef = {};\n\n        const data = audioData.getData();\n\n        if (data) {\n          if (context.options.format === Format.GLB) {\n            audioDataDef.mimeType = \"audio/mpeg\";\n            audioDataDef.bufferView = context.otherBufferViewsIndexMap.get(data);\n          } else {\n            audioDataDef.uri = this.audioDataUris.get(audioData);\n          }\n        }\n\n        audioDataIndexMap.set(audioData, audioDataDefs.length);\n        audioDataDefs.push(audioDataDef);\n      }\n    }\n\n    const audioSourceDefs: AudioSourceDef[] = [];\n    const audioSourceIndexMap = new Map<KHRAudioSource, number>();\n\n    for (const property of this.properties) {\n      if (property.propertyType === AUDIO_SOURCE_PROPERTY_TYPE) {\n        const audioSource = property as KHRAudioSource;\n        const audioSourceDef: AudioSourceDef = {};\n\n        const audioData = audioSource.getAudio();\n\n        if (audioData) {\n          const audioDataIndex = audioDataIndexMap.get(audioData);\n\n          if (audioDataIndex !== undefined) {\n            audioSourceDef.audio = audioDataIndex;\n          }\n        }\n\n        if (audioSource.getAutoPlay()) {\n          audioSourceDef.autoPlay = true;\n        }\n\n        if (audioSource.getLoop()) {\n          audioSourceDef.loop = true;\n        }\n\n        const gain = audioSource.getGain();\n\n        if (gain !== 1) {\n          audioSourceDef.gain = gain;\n        }\n\n        audioSourceIndexMap.set(audioSource, audioSourceDefs.length);\n        audioSourceDefs.push(audioSourceDef);\n      }\n    }\n\n    const audioEmitterDefs: AudioSourceDef[] = [];\n    const audioEmitterIndexMap = new Map<KHRAudioEmitter, number>();\n\n    for (const property of this.properties) {\n      if (property.propertyType === AUDIO_EMITTER_PROPERTY_TYPE) {\n        const audioEmitter = property as KHRAudioEmitter;\n\n        const type = audioEmitter.getType();\n\n        const audioEmitterDef: AudioEmitterDef = { type };\n\n        const sources = audioEmitter.listSources().map((source) => audioSourceIndexMap.get(source)!);\n\n        if (sources.length > 0) {\n          audioEmitterDef.sources = sources;\n        }\n\n        const gain = audioEmitter.getGain();\n\n        if (gain !== 1) {\n          audioEmitterDef.gain = gain;\n        }\n\n        if (type === KHRAudioEmitter.Type.POSITIONAL) {\n          const positionalDef: AudioEmitterPositionalDef = {};\n\n          const coneInnerAngle = audioEmitter.getConeInnerAngle();\n\n          if (coneInnerAngle !== Math.PI * 2) {\n            positionalDef.coneInnerAngle = coneInnerAngle;\n          }\n\n          const coneOuterAngle = audioEmitter.getConeOuterAngle();\n\n          if (coneOuterAngle !== Math.PI * 2) {\n            positionalDef.coneOuterAngle = coneOuterAngle;\n          }\n\n          const coneOuterGain = audioEmitter.getConeOuterGain();\n\n          if (coneOuterGain !== 0) {\n            positionalDef.coneOuterGain = coneOuterGain;\n          }\n\n          const distanceModel = audioEmitter.getDistanceModel();\n\n          if (distanceModel !== KHRAudioEmitter.DistanceModel.INVERSE) {\n            positionalDef.distanceModel = distanceModel;\n          }\n\n          const maxDistance = audioEmitter.getMaxDistance();\n\n          if (maxDistance !== 10000) {\n            positionalDef.maxDistance = maxDistance;\n          }\n\n          const refDistance = audioEmitter.getRefDistance();\n\n          if (refDistance !== 1) {\n            positionalDef.refDistance = refDistance;\n          }\n\n          const rolloffFactor = audioEmitter.getRolloffFactor();\n\n          if (rolloffFactor !== 1) {\n            positionalDef.rolloffFactor = rolloffFactor;\n          }\n\n          if (Object.keys(positionalDef).length > 0) {\n            audioEmitterDef.positional = positionalDef;\n          }\n        }\n\n        audioEmitterIndexMap.set(audioEmitter, audioEmitterDefs.length);\n        audioEmitterDefs.push(audioEmitterDef);\n      }\n    }\n\n    this.document\n      .getRoot()\n      .listScenes()\n      .forEach((scene) => {\n        const audioEmitters = scene.getExtension<KHRSceneAudioEmitters>(EXTENSION_NAME);\n\n        if (audioEmitters) {\n          const sceneIndex = context.sceneIndexMap.get(scene)!;\n          const sceneDef = jsonDoc.json.scenes![sceneIndex];\n          sceneDef.extensions = sceneDef.extensions || {};\n\n          const emitterIndices = audioEmitters\n            .listEmitters()\n            .map((audioEmitter) => audioEmitterIndexMap.get(audioEmitter));\n\n          sceneDef.extensions[EXTENSION_NAME] = {\n            emitters: emitterIndices,\n          };\n        }\n      });\n\n    this.document\n      .getRoot()\n      .listNodes()\n      .forEach((node) => {\n        const audioEmitter = node.getExtension<KHRAudioEmitter>(EXTENSION_NAME);\n\n        if (audioEmitter) {\n          const nodeIndex = context.nodeIndexMap.get(node)!;\n          const nodeDef = jsonDoc.json.nodes![nodeIndex];\n          nodeDef.extensions = nodeDef.extensions || {};\n          nodeDef.extensions[EXTENSION_NAME] = { emitter: audioEmitterIndexMap.get(audioEmitter) };\n        }\n      });\n\n    jsonDoc.json.extensions = jsonDoc.json.extensions || {};\n    jsonDoc.json.extensions[EXTENSION_NAME] = {\n      audio: audioDataDefs,\n      sources: audioSourceDefs,\n      emitters: audioEmitterDefs,\n    };\n\n    return this;\n  }\n}\n\nconst SCENE_AUDIO_EMITTERS_PROPERTY_TYPE = \"SceneAudioEmitters\";\n\ninterface IKHRSceneAudioEmitters extends IProperty {\n  emitters: KHRAudioEmitter[];\n}\n\nexport class KHRSceneAudioEmitters extends ExtensionProperty<IKHRSceneAudioEmitters> {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public declare extensionName: typeof EXTENSION_NAME;\n  public declare propertyType: typeof SCENE_AUDIO_EMITTERS_PROPERTY_TYPE;\n  public declare parentTypes: [PropertyType.SCENE];\n\n  protected init(): void {\n    this.extensionName = EXTENSION_NAME;\n    this.propertyType = SCENE_AUDIO_EMITTERS_PROPERTY_TYPE;\n    this.parentTypes = [PropertyType.SCENE];\n  }\n\n  protected getDefaults(): Nullable<IKHRSceneAudioEmitters> {\n    return Object.assign(super.getDefaults() as IProperty, {\n      emitters: [],\n    });\n  }\n\n  public listEmitters(): KHRAudioEmitter[] {\n    return this.listRefs(\"emitters\");\n  }\n\n  public addEmitter(emitter: KHRAudioEmitter): this {\n    return this.addRef(\"emitters\", emitter);\n  }\n\n  public removeEmitter(emitter: KHRAudioEmitter): this {\n    return this.removeRef(\"emitters\", emitter);\n  }\n}\n\nconst AUDIO_EMITTER_PROPERTY_TYPE = \"AudioEmitter\";\n\ntype KHRAudioEmitterType = \"global\" | \"positional\";\ntype KHRAudioEmitterDistanceModel = \"inverse\" | \"linear\" | \"exponential\";\n\ninterface IKHRAudioEmitter extends IProperty {\n  type: KHRAudioEmitterType;\n  gain: number;\n  sources: KHRAudioSource[];\n  coneInnerAngle: number;\n  coneOuterAngle: number;\n  coneOuterGain: number;\n  distanceModel: KHRAudioEmitterDistanceModel;\n  maxDistance: number;\n  refDistance: number;\n  rolloffFactor: number;\n}\n\nexport class KHRAudioEmitter extends ExtensionProperty<IKHRAudioEmitter> {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public declare extensionName: typeof EXTENSION_NAME;\n  public declare propertyType: typeof AUDIO_EMITTER_PROPERTY_TYPE;\n  public declare parentTypes: [PropertyType.NODE, typeof SCENE_AUDIO_EMITTERS_PROPERTY_TYPE];\n\n  public static Type: Record<string, KHRAudioEmitterType> = {\n    GLOBAL: \"global\",\n    POSITIONAL: \"positional\",\n  };\n\n  public static DistanceModel: Record<string, KHRAudioEmitterDistanceModel> = {\n    INVERSE: \"inverse\",\n    LINEAR: \"linear\",\n    EXPONENTIAL: \"exponential\",\n  };\n\n  protected init(): void {\n    this.extensionName = EXTENSION_NAME;\n    this.propertyType = AUDIO_EMITTER_PROPERTY_TYPE;\n    this.parentTypes = [PropertyType.NODE, SCENE_AUDIO_EMITTERS_PROPERTY_TYPE];\n  }\n\n  protected getDefaults(): Nullable<IKHRAudioEmitter> {\n    return Object.assign(super.getDefaults() as IProperty, {\n      type: KHRAudioEmitter.Type.GLOBAL,\n      gain: 1,\n      sources: [],\n      coneInnerAngle: Math.PI * 2,\n      coneOuterAngle: Math.PI * 2,\n      coneOuterGain: 0,\n      distanceModel: KHRAudioEmitter.DistanceModel.INVERSE,\n      maxDistance: 10000,\n      refDistance: 1,\n      rolloffFactor: 1,\n    });\n  }\n\n  public getType(): KHRAudioEmitterType {\n    return this.get(\"type\");\n  }\n\n  public setType(type: KHRAudioEmitterType): this {\n    return this.set(\"type\", type);\n  }\n\n  public getGain(): number {\n    return this.get(\"gain\");\n  }\n\n  public setGain(gain: number): this {\n    return this.set(\"gain\", gain);\n  }\n\n  public listSources(): KHRAudioSource[] {\n    return this.listRefs(\"sources\");\n  }\n\n  public addSource(source: KHRAudioSource): this {\n    return this.addRef(\"sources\", source);\n  }\n\n  public removeSource(source: KHRAudioSource): this {\n    return this.removeRef(\"sources\", source);\n  }\n\n  public getConeInnerAngle(): number {\n    return this.get(\"coneInnerAngle\");\n  }\n\n  public setConeInnerAngle(coneInnerAngle: number): this {\n    return this.set(\"coneInnerAngle\", coneInnerAngle);\n  }\n\n  public getConeOuterAngle(): number {\n    return this.get(\"coneOuterAngle\");\n  }\n\n  public setConeOuterAngle(coneOuterAngle: number): this {\n    return this.set(\"coneOuterAngle\", coneOuterAngle);\n  }\n\n  public getConeOuterGain(): number {\n    return this.get(\"coneOuterGain\");\n  }\n\n  public setConeOuterGain(coneOuterGain: number): this {\n    return this.set(\"coneOuterGain\", coneOuterGain);\n  }\n\n  public getDistanceModel(): KHRAudioEmitterDistanceModel {\n    return this.get(\"distanceModel\");\n  }\n\n  public setDistanceModel(distanceModel: KHRAudioEmitterDistanceModel): this {\n    return this.set(\"distanceModel\", distanceModel);\n  }\n\n  public getMaxDistance(): number {\n    return this.get(\"maxDistance\");\n  }\n\n  public setMaxDistance(maxDistance: number): this {\n    return this.set(\"maxDistance\", maxDistance);\n  }\n\n  public getRefDistance(): number {\n    return this.get(\"refDistance\");\n  }\n\n  public setRefDistance(refDistance: number): this {\n    return this.set(\"refDistance\", refDistance);\n  }\n\n  public getRolloffFactor(): number {\n    return this.get(\"rolloffFactor\");\n  }\n\n  public setRolloffFactor(rolloffFactor: number): this {\n    return this.set(\"rolloffFactor\", rolloffFactor);\n  }\n}\n\nconst AUDIO_SOURCE_PROPERTY_TYPE = \"AudioSource\";\n\ninterface IKHRAudioSource extends IProperty {\n  autoPlay: boolean;\n  gain: number;\n  loop: boolean;\n  audio: KHRAudioData;\n}\n\nexport class KHRAudioSource extends ExtensionProperty<IKHRAudioSource> {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public declare extensionName: typeof EXTENSION_NAME;\n  public declare propertyType: typeof AUDIO_SOURCE_PROPERTY_TYPE;\n  public declare parentTypes: [typeof AUDIO_EMITTER_PROPERTY_TYPE];\n\n  protected init(): void {\n    this.extensionName = EXTENSION_NAME;\n    this.propertyType = AUDIO_SOURCE_PROPERTY_TYPE;\n    this.parentTypes = [AUDIO_EMITTER_PROPERTY_TYPE];\n  }\n\n  protected getDefaults(): Nullable<IKHRAudioSource> {\n    return Object.assign(super.getDefaults() as IProperty, {\n      autoPlay: false,\n      gain: 1,\n      loop: false,\n      audio: null,\n    });\n  }\n\n  public getAutoPlay(): boolean {\n    return this.get(\"autoPlay\");\n  }\n\n  public setAutoPlay(autoPlay: boolean): this {\n    return this.set(\"autoPlay\", autoPlay);\n  }\n\n  public getLoop(): boolean {\n    return this.get(\"loop\");\n  }\n\n  public setLoop(loop: boolean): this {\n    return this.set(\"loop\", loop);\n  }\n\n  public getGain(): number {\n    return this.get(\"gain\");\n  }\n\n  public setGain(gain: number): this {\n    return this.set(\"gain\", gain);\n  }\n\n  public getAudio(): KHRAudioData | null {\n    return this.getRef(\"audio\");\n  }\n\n  public setAudio(audio: KHRAudioData | null): this {\n    return this.setRef(\"audio\", audio);\n  }\n}\n\nconst AUDIO_DATA_PROPERTY_TYPE = \"AudioData\";\n\ninterface IKHRAudioData extends IProperty {\n  uri: string;\n  mimeType: string;\n  data: Uint8Array | null;\n}\n\nexport class KHRAudioData extends ExtensionProperty<IKHRAudioData> {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public declare extensionName: typeof EXTENSION_NAME;\n  public declare propertyType: typeof AUDIO_DATA_PROPERTY_TYPE;\n  public declare parentTypes: [typeof AUDIO_SOURCE_PROPERTY_TYPE];\n\n  protected init(): void {\n    this.extensionName = EXTENSION_NAME;\n    this.propertyType = AUDIO_DATA_PROPERTY_TYPE;\n    this.parentTypes = [AUDIO_SOURCE_PROPERTY_TYPE];\n  }\n\n  protected getDefaults(): Nullable<IKHRAudioData> {\n    return Object.assign(super.getDefaults() as IProperty, {\n      uri: \"\",\n      mimeType: \"\",\n      data: null,\n    });\n  }\n\n  public getURI(): string {\n    return this.get(\"uri\");\n  }\n\n  public setURI(uri: string): this {\n    this.set(\"mimeType\", extensionToMimeType(FileUtils.extension(uri)));\n    return this.set(\"uri\", uri);\n  }\n\n  public getMimeType(): string {\n    return this.get(\"mimeType\") || extensionToMimeType(FileUtils.extension(this.getURI()));\n  }\n\n  public setMimeType(mimeType: string): this {\n    return this.set(\"mimeType\", mimeType);\n  }\n\n  public getData(): Uint8Array | null {\n    return this.get(\"data\");\n  }\n\n  public setData(data: Uint8Array | null): this {\n    return this.set(\"data\", BufferUtils.assertView(data));\n  }\n}\n\nfunction extensionToMimeType(extension: string) {\n  if (extension === \"mp3\") {\n    return \"audio/mpeg\";\n  }\n\n  return `audio/${extension}`;\n}\n","import {\n  Extension,\n  ExtensionProperty,\n  IProperty,\n  Nullable,\n  PropertyType,\n  ReaderContext,\n  WriterContext,\n  GLTF,\n  Texture,\n  TextureInfo,\n} from \"@gltf-transform/core\";\n\nconst EXTENSION_NAME = \"MX_background\";\nconst PROPERTY_TYPE = \"Background\";\n\ninterface BackgroundExtensionDef {\n  backgroundTexture: GLTF.ITextureInfo;\n}\n\nexport class MXBackgroundExtension extends Extension {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public readonly extensionName = EXTENSION_NAME;\n\n  public createBackground(): MXBackground {\n    return new MXBackground(this.document.getGraph());\n  }\n\n  public read(context: ReaderContext): this {\n    const jsonDoc = context.jsonDoc;\n\n    const textureDefs = jsonDoc.json.textures || [];\n    const sceneDefs = jsonDoc.json.scenes || [];\n\n    sceneDefs.forEach((sceneDef, sceneIndex) => {\n      if (!sceneDef.extensions || !sceneDef.extensions[EXTENSION_NAME]) return;\n      const background = this.createBackground();\n      const backgroundDef = sceneDef.extensions[EXTENSION_NAME] as BackgroundExtensionDef;\n      const textureInfoDef = backgroundDef.backgroundTexture;\n      const texture = context.textures[textureDefs[textureInfoDef.index].source!];\n      background.setBackgroundTexture(texture);\n      context.setTextureInfo(background.getBackgroundTextureInfo()!, textureInfoDef);\n      context.scenes[sceneIndex].setExtension(EXTENSION_NAME, background);\n    });\n\n    return this;\n  }\n\n  public write(context: WriterContext): this {\n    const jsonDoc = context.jsonDoc;\n\n    this.document\n      .getRoot()\n      .listScenes()\n      .forEach((scene) => {\n        const background = scene.getExtension<MXBackground>(EXTENSION_NAME);\n\n        if (background) {\n          const sceneIndex = context.sceneIndexMap.get(scene)!;\n          const sceneDef = jsonDoc.json.scenes![sceneIndex];\n          sceneDef.extensions = sceneDef.extensions || {};\n\n          const texture = background.getBackgroundTexture()!;\n          const textureInfo = background.getBackgroundTextureInfo()!;\n\n          sceneDef.extensions[EXTENSION_NAME] = {\n            backgroundTexture: context.createTextureInfoDef(texture, textureInfo),\n          };\n        }\n      });\n\n    return this;\n  }\n}\n\ninterface IMXBackground extends IProperty {\n  backgroundTexture: Texture;\n  backgroundTextureInfo: TextureInfo;\n}\n\nexport class MXBackground extends ExtensionProperty<IMXBackground> {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public declare extensionName: typeof EXTENSION_NAME;\n  public declare propertyType: typeof PROPERTY_TYPE;\n  public declare parentTypes: [PropertyType.SCENE];\n\n  protected init(): void {\n    this.extensionName = EXTENSION_NAME;\n    this.propertyType = PROPERTY_TYPE;\n    this.parentTypes = [PropertyType.SCENE];\n  }\n\n  protected getDefaults(): Nullable<IMXBackground> {\n    return Object.assign(super.getDefaults() as IProperty, {\n      backgroundTexture: null,\n      backgroundTextureInfo: new TextureInfo(this.graph, \"backgroundTextureInfo\"),\n    });\n  }\n\n  public getBackgroundTexture(): Texture | null {\n    return this.getRef(\"backgroundTexture\");\n  }\n\n  public setBackgroundTexture(texture: Texture | null): this {\n    return this.setRef(\"backgroundTexture\", texture);\n  }\n\n  public getBackgroundTextureInfo(): TextureInfo | null {\n    return this.getRef(\"backgroundTexture\") ? this.getRef(\"backgroundTextureInfo\") : null;\n  }\n}\n","import {\n  Extension,\n  ExtensionProperty,\n  IProperty,\n  Nullable,\n  PropertyType,\n  ReaderContext,\n  Texture,\n  WriterContext,\n  vec2,\n  MathUtils,\n  GLTF,\n  TextureInfo,\n} from \"@gltf-transform/core\";\n\nconst EXTENSION_NAME = \"MX_lightmap\";\nconst PROPERTY_TYPE = \"Lightmap\";\n\nconst eq = MathUtils.eq;\n\ninterface LightMapDef {\n  scale?: vec2;\n  offset?: vec2;\n  intensity?: number;\n  lightMapTexture: GLTF.ITextureInfo;\n}\n\nexport class MXLightmapExtension extends Extension {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public readonly extensionName = EXTENSION_NAME;\n\n  public createLightmap(): MXLightmap {\n    return new MXLightmap(this.document.getGraph());\n  }\n\n  public read(context: ReaderContext): this {\n    const jsonDoc = context.jsonDoc;\n    const nodeDefs = jsonDoc.json.nodes || [];\n    const textureDefs = jsonDoc.json.textures || [];\n\n    nodeDefs.forEach((nodeDef, nodeIndex) => {\n      if (nodeDef.extensions && nodeDef.extensions[EXTENSION_NAME]) {\n        const lightMap = this.createLightmap();\n        context.nodes[nodeIndex].setExtension(EXTENSION_NAME, lightMap);\n        const lightMapDef = nodeDef.extensions[EXTENSION_NAME] as LightMapDef;\n\n        const textureInfoDef = lightMapDef.lightMapTexture;\n        const texture = context.textures[textureDefs[textureInfoDef.index].source!];\n        lightMap.setLightMapTexture(texture);\n        context.setTextureInfo(lightMap.getLightMapTextureInfo()!, textureInfoDef);\n\n        if (lightMapDef.intensity !== undefined) {\n          lightMap.setIntensity(lightMapDef.intensity);\n        }\n\n        if (lightMapDef.offset !== undefined) {\n          lightMap.setOffset(lightMapDef.offset);\n        }\n\n        if (lightMapDef.scale !== undefined) {\n          lightMap.setScale(lightMapDef.scale);\n        }\n      }\n    });\n\n    return this;\n  }\n\n  public write(context: WriterContext): this {\n    const jsonDoc = context.jsonDoc;\n\n    this.document\n      .getRoot()\n      .listNodes()\n      .forEach((node) => {\n        const lightMap = node.getExtension<MXLightmap>(EXTENSION_NAME);\n\n        if (lightMap) {\n          const nodeIndex = context.nodeIndexMap.get(node)!;\n          const nodeDef = jsonDoc.json.nodes![nodeIndex];\n          nodeDef.extensions = nodeDef.extensions || {};\n\n          const lightMapDef = (nodeDef.extensions[EXTENSION_NAME] = {} as LightMapDef);\n\n          if (lightMap.getIntensity() !== 1) {\n            lightMapDef.intensity = lightMap.getIntensity();\n          }\n\n          if (!eq(lightMap.getOffset(), [0, 0])) {\n            lightMapDef.offset = lightMap.getOffset();\n          }\n\n          if (!eq(lightMap.getScale(), [1, 1])) {\n            lightMapDef.scale = lightMap.getScale();\n          }\n\n          if (lightMap.getLightMapTexture()) {\n            const texture = lightMap.getLightMapTexture()!;\n            const textureInfo = lightMap.getLightMapTextureInfo()!;\n            lightMapDef.lightMapTexture = context.createTextureInfoDef(texture, textureInfo);\n          }\n        }\n      });\n\n    return this;\n  }\n}\n\ninterface IMXLightmap extends IProperty {\n  scale: vec2;\n  offset: vec2;\n  intensity: number;\n  lightMapTexture: Texture;\n  lightMapTextureInfo: TextureInfo;\n}\n\nexport class MXLightmap extends ExtensionProperty<IMXLightmap> {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public declare extensionName: typeof EXTENSION_NAME;\n  public declare propertyType: typeof PROPERTY_TYPE;\n  public declare parentTypes: [PropertyType.NODE];\n\n  protected init(): void {\n    this.extensionName = EXTENSION_NAME;\n    this.propertyType = PROPERTY_TYPE;\n    this.parentTypes = [PropertyType.NODE];\n  }\n\n  protected getDefaults(): Nullable<IMXLightmap> {\n    return Object.assign(super.getDefaults() as IProperty, {\n      scale: [1, 1] as vec2,\n      offset: [0, 0] as vec2,\n      intensity: 1,\n      lightMapTexture: null,\n      lightMapTextureInfo: new TextureInfo(this.graph, \"lightMapTextureInfo\"),\n    });\n  }\n\n  public getScale(): vec2 {\n    return this.get(\"scale\");\n  }\n\n  public setScale(scale: vec2): this {\n    return this.set(\"scale\", scale);\n  }\n\n  public getOffset(): vec2 {\n    return this.get(\"offset\");\n  }\n\n  public setOffset(offset: vec2): this {\n    return this.set(\"offset\", offset);\n  }\n\n  public getIntensity(): number {\n    return this.get(\"intensity\");\n  }\n\n  public setIntensity(intensity: number): this {\n    return this.set(\"intensity\", intensity);\n  }\n\n  public getLightMapTexture(): Texture | null {\n    return this.getRef(\"lightMapTexture\");\n  }\n\n  public setLightMapTexture(texture: Texture | null): this {\n    return this.setRef(\"lightMapTexture\", texture);\n  }\n\n  public getLightMapTextureInfo(): TextureInfo | null {\n    return this.getRef(\"lightMapTexture\") ? this.getRef(\"lightMapTextureInfo\") : null;\n  }\n}\n","import {\n  Extension,\n  ExtensionProperty,\n  IProperty,\n  Nullable,\n  PropertyType,\n  ReaderContext,\n  WriterContext,\n} from \"@gltf-transform/core\";\n\nconst EXTENSION_NAME = \"MX_lights_shadows\";\nconst PROPERTY_TYPE = \"Shadows\";\n\ninterface LightsShadowsDef {\n  castShadow?: boolean;\n  receiveShadow?: boolean;\n}\n\nexport class MXLightsShadowsExtension extends Extension {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public readonly extensionName = EXTENSION_NAME;\n\n  public createLightsShadows(): MXLightsShadows {\n    return new MXLightsShadows(this.document.getGraph());\n  }\n\n  public read(context: ReaderContext): this {\n    const jsonDoc = context.jsonDoc;\n    const nodeDefs = jsonDoc.json.nodes || [];\n\n    nodeDefs.forEach((nodeDef, nodeIndex) => {\n      if (nodeDef.extensions && nodeDef.extensions[EXTENSION_NAME]) {\n        const shadows = this.createLightsShadows();\n\n        const extension = nodeDef.extensions[EXTENSION_NAME] as LightsShadowsDef;\n\n        if (extension.castShadow !== undefined) {\n          shadows.setCastShadow(extension.castShadow);\n        }\n\n        if (extension.receiveShadow !== undefined) {\n          shadows.setReceiveShadow(extension.receiveShadow);\n        }\n\n        context.nodes[nodeIndex].setExtension(EXTENSION_NAME, shadows);\n      }\n    });\n\n    return this;\n  }\n\n  public write(context: WriterContext): this {\n    const jsonDoc = context.jsonDoc;\n\n    this.document\n      .getRoot()\n      .listNodes()\n      .forEach((node) => {\n        const shadows = node.getExtension<MXLightsShadows>(EXTENSION_NAME);\n\n        if (shadows) {\n          const nodeIndex = context.nodeIndexMap.get(node)!;\n          const nodeDef = jsonDoc.json.nodes![nodeIndex];\n          nodeDef.extensions = nodeDef.extensions || {};\n          nodeDef.extensions[EXTENSION_NAME] = {\n            castShadow: shadows.getCastShadow(),\n            receiveShadow: shadows.getReceiveShadow(),\n          };\n        }\n      });\n\n    return this;\n  }\n}\n\ninterface IMXLightsShadows extends IProperty {\n  castShadow: boolean;\n  receiveShadow: boolean;\n}\n\nexport class MXLightsShadows extends ExtensionProperty<IMXLightsShadows> {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public declare extensionName: typeof EXTENSION_NAME;\n  public declare propertyType: typeof PROPERTY_TYPE;\n  public declare parentTypes: [PropertyType.NODE];\n\n  protected init(): void {\n    this.extensionName = EXTENSION_NAME;\n    this.propertyType = PROPERTY_TYPE;\n    this.parentTypes = [PropertyType.NODE];\n  }\n\n  protected getDefaults(): Nullable<IMXLightsShadows> {\n    return Object.assign(super.getDefaults() as IProperty, {\n      castShadow: null,\n      receiveShadow: null,\n    });\n  }\n\n  public getCastShadow(): boolean {\n    return this.get(\"castShadow\");\n  }\n\n  public setCastShadow(castShadow: boolean): this {\n    return this.set(\"castShadow\", castShadow);\n  }\n\n  public getReceiveShadow(): boolean {\n    return this.get(\"receiveShadow\");\n  }\n\n  public setReceiveShadow(receiveShadow: boolean): this {\n    return this.set(\"receiveShadow\", receiveShadow);\n  }\n}\n","import {\n  Extension,\n  ExtensionProperty,\n  IProperty,\n  Nullable,\n  PropertyType,\n  ReaderContext,\n  WriterContext,\n} from \"@gltf-transform/core\";\n\nconst EXTENSION_NAME = \"MX_portal\";\nconst PROPERTY_TYPE = \"Portal\";\n\ninterface PortalExtensionDef {\n  uri: string;\n}\n\n// NOTE: MX_portal is deprecated. Use OMI_link instead.\nexport class MXPortalExtension extends Extension {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public readonly extensionName = EXTENSION_NAME;\n\n  public createPortal(): MXPortal {\n    return new MXPortal(this.document.getGraph());\n  }\n\n  public read(context: ReaderContext): this {\n    const jsonDoc = context.jsonDoc;\n    const nodeDefs = jsonDoc.json.nodes || [];\n\n    nodeDefs.forEach((nodeDef, nodeIndex) => {\n      if (nodeDef.extensions && nodeDef.extensions[EXTENSION_NAME]) {\n        const portal = this.createPortal();\n\n        const extension = nodeDef.extensions[EXTENSION_NAME] as PortalExtensionDef;\n\n        portal.setUri(extension.uri);\n\n        context.nodes[nodeIndex].setExtension(EXTENSION_NAME, portal);\n      }\n    });\n\n    return this;\n  }\n\n  public write(context: WriterContext): this {\n    const jsonDoc = context.jsonDoc;\n\n    this.document\n      .getRoot()\n      .listNodes()\n      .forEach((node) => {\n        const portal = node.getExtension<MXPortal>(EXTENSION_NAME);\n\n        if (portal) {\n          const nodeIndex = context.nodeIndexMap.get(node)!;\n          const nodeDef = jsonDoc.json.nodes![nodeIndex];\n          nodeDef.extensions = nodeDef.extensions || {};\n          nodeDef.extensions[EXTENSION_NAME] = {\n            uri: portal.getUri(),\n          };\n        }\n      });\n\n    return this;\n  }\n}\n\ninterface IMXPortal extends IProperty {\n  uri: string;\n}\n\nexport class MXPortal extends ExtensionProperty<IMXPortal> {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public declare extensionName: typeof EXTENSION_NAME;\n  public declare propertyType: typeof PROPERTY_TYPE;\n  public declare parentTypes: [PropertyType.NODE];\n\n  protected init(): void {\n    this.extensionName = EXTENSION_NAME;\n    this.propertyType = PROPERTY_TYPE;\n    this.parentTypes = [PropertyType.NODE];\n  }\n\n  protected getDefaults(): Nullable<IMXPortal> {\n    return Object.assign(super.getDefaults() as IProperty, {\n      uri: null,\n    });\n  }\n\n  public getUri(): string {\n    return this.get(\"uri\");\n  }\n\n  public setUri(uri: string): this {\n    return this.set(\"uri\", uri);\n  }\n}\n","import {\n  Extension,\n  ExtensionProperty,\n  IProperty,\n  Nullable,\n  PropertyType,\n  ReaderContext,\n  WriterContext,\n} from \"@gltf-transform/core\";\n\nconst EXTENSION_NAME = \"MX_postprocessing\";\n\ninterface BloomEffectDef {\n  strength?: number;\n  radius?: number;\n  threshold?: number;\n}\n\ninterface PostProcessingExtensionDef {\n  bloom?: BloomEffectDef;\n}\n\nexport class MXPostprocessingExtension extends Extension {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public readonly extensionName = EXTENSION_NAME;\n\n  public createBloomEffect(): MXBloomEffect {\n    return new MXBloomEffect(this.document.getGraph());\n  }\n\n  public createPostprocessing(): MXPostprocessing {\n    return new MXPostprocessing(this.document.getGraph());\n  }\n\n  public read(context: ReaderContext): this {\n    const jsonDoc = context.jsonDoc;\n\n    const sceneDefs = jsonDoc.json.scenes || [];\n\n    sceneDefs.forEach((sceneDef, sceneIndex) => {\n      if (!sceneDef.extensions || !sceneDef.extensions[EXTENSION_NAME]) return;\n      const postprocessingDef = sceneDef.extensions[EXTENSION_NAME] as PostProcessingExtensionDef;\n\n      const postprocessing = this.createPostprocessing();\n\n      if (postprocessingDef.bloom) {\n        const bloomDef = postprocessingDef.bloom;\n        const bloom = this.createBloomEffect();\n        if (bloomDef.strength !== undefined) bloom.setStrength(bloomDef.strength);\n        if (bloomDef.radius !== undefined) bloom.setRadius(bloomDef.radius);\n        if (bloomDef.threshold !== undefined) bloom.setThreshold(bloomDef.threshold);\n        postprocessing.setBloom(bloom);\n      }\n\n      context.scenes[sceneIndex].setExtension(EXTENSION_NAME, postprocessing);\n    });\n\n    return this;\n  }\n\n  public write(context: WriterContext): this {\n    const jsonDoc = context.jsonDoc;\n\n    if (this.properties.size === 0) return this;\n\n    this.document\n      .getRoot()\n      .listScenes()\n      .forEach((scene) => {\n        const postprocessing = scene.getExtension<MXPostprocessing>(EXTENSION_NAME);\n\n        if (postprocessing) {\n          const sceneIndex = context.sceneIndexMap.get(scene)!;\n          const sceneDef = jsonDoc.json.scenes![sceneIndex];\n          sceneDef.extensions = sceneDef.extensions || {};\n\n          const extensionDef: PostProcessingExtensionDef = {};\n\n          const bloom = postprocessing.getBloom();\n\n          if (bloom) {\n            extensionDef.bloom = {\n              strength: bloom.getStrength(),\n              radius: bloom.getRadius(),\n              threshold: bloom.getThreshold(),\n            };\n          }\n\n          sceneDef.extensions[EXTENSION_NAME] = extensionDef;\n        }\n      });\n\n    return this;\n  }\n}\n\nconst POSTPROCESSING_PROPERTY_TYPE = \"Postprocessing\";\nconst BLOOM_EFFECT_PROPERTY_TYPE = \"BloomEffect\";\n\ninterface IMXBloomEffect extends IProperty {\n  strength: number;\n  radius: number;\n  threshold: number;\n}\n\nexport class MXBloomEffect extends ExtensionProperty<IMXBloomEffect> {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public declare extensionName: typeof EXTENSION_NAME;\n  public declare propertyType: typeof BLOOM_EFFECT_PROPERTY_TYPE;\n  public declare parentTypes: [typeof POSTPROCESSING_PROPERTY_TYPE];\n\n  protected init(): void {\n    this.extensionName = EXTENSION_NAME;\n    this.propertyType = BLOOM_EFFECT_PROPERTY_TYPE;\n    this.parentTypes = [POSTPROCESSING_PROPERTY_TYPE];\n  }\n\n  protected getDefaults(): Nullable<IMXBloomEffect> {\n    return Object.assign(super.getDefaults() as IProperty, {\n      strength: 0.4,\n      radius: 0.4,\n      threshold: 0.9,\n    });\n  }\n\n  public getStrength(): number {\n    return this.get(\"strength\");\n  }\n\n  public setStrength(strength: number): this {\n    return this.set(\"strength\", strength);\n  }\n\n  public getRadius(): number {\n    return this.get(\"radius\");\n  }\n\n  public setRadius(radius: number): this {\n    return this.set(\"radius\", radius);\n  }\n\n  public getThreshold(): number {\n    return this.get(\"threshold\");\n  }\n\n  public setThreshold(threshold: number): this {\n    return this.set(\"threshold\", threshold);\n  }\n}\n\ninterface IMXPostprocessing extends IProperty {\n  bloom: MXBloomEffect;\n}\n\nexport class MXPostprocessing extends ExtensionProperty<IMXPostprocessing> {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public declare extensionName: typeof EXTENSION_NAME;\n  public declare propertyType: typeof POSTPROCESSING_PROPERTY_TYPE;\n  public declare parentTypes: [PropertyType.SCENE];\n\n  protected init(): void {\n    this.extensionName = EXTENSION_NAME;\n    this.propertyType = POSTPROCESSING_PROPERTY_TYPE;\n    this.parentTypes = [PropertyType.SCENE];\n  }\n\n  protected getDefaults(): Nullable<IMXPostprocessing> {\n    return Object.assign(super.getDefaults() as IProperty, {\n      bloom: null,\n    });\n  }\n\n  public getBloom(): MXBloomEffect | null {\n    return this.getRef(\"bloom\");\n  }\n\n  public setBloom(bloom: MXBloomEffect | null): this {\n    return this.setRef(\"bloom\", bloom);\n  }\n}\n","import {\n  Extension,\n  ExtensionProperty,\n  IProperty,\n  Nullable,\n  PropertyType,\n  ReaderContext,\n  WriterContext,\n  vec3,\n  GLTF,\n  Texture,\n  TextureInfo,\n} from \"@gltf-transform/core\";\n\nconst EXTENSION_NAME = \"MX_reflection_probes\";\nconst PROPERTY_TYPE = \"ReflectionProbe\";\n\ninterface ReflectionProbeRefDef {\n  reflectionProbe: number;\n}\n\ninterface ReflectionProbeDef {\n  size?: vec3;\n  reflectionProbeTexture: GLTF.ITextureInfo;\n}\n\ninterface ReflectionProbesExtensionDef {\n  reflectionProbes: ReflectionProbeDef[];\n}\n\nexport class MXReflectionProbesExtension extends Extension {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public readonly extensionName = EXTENSION_NAME;\n\n  public createReflectionProbe(): MXReflectionProbe {\n    return new MXReflectionProbe(this.document.getGraph());\n  }\n\n  public read(context: ReaderContext): this {\n    const jsonDoc = context.jsonDoc;\n\n    if (!jsonDoc.json.extensions || !jsonDoc.json.extensions[EXTENSION_NAME]) return this;\n\n    const rootDef = jsonDoc.json.extensions[EXTENSION_NAME] as ReflectionProbesExtensionDef;\n\n    const reflectionProbeDefs = rootDef.reflectionProbes || ([] as ReflectionProbeDef[]);\n    const textureDefs = jsonDoc.json.textures || [];\n\n    const reflectionProbes = reflectionProbeDefs.map((reflectionProbeDef) => {\n      const reflectionProbe = this.createReflectionProbe();\n\n      reflectionProbe.setSize(reflectionProbeDef.size || null);\n\n      const textureInfoDef = reflectionProbeDef.reflectionProbeTexture;\n      const texture = context.textures[textureDefs[textureInfoDef.index].source!];\n      reflectionProbe.setReflectionProbeTexture(texture);\n      context.setTextureInfo(reflectionProbe.getReflectionProbeTextureInfo()!, textureInfoDef);\n\n      return reflectionProbe;\n    });\n\n    const nodeDefs = jsonDoc.json.nodes || [];\n\n    nodeDefs.forEach((nodeDef, nodeIndex) => {\n      if (!nodeDef.extensions || !nodeDef.extensions[EXTENSION_NAME]) return;\n      const reflectionProbeRefDef = nodeDef.extensions[EXTENSION_NAME] as ReflectionProbeRefDef;\n      context.nodes[nodeIndex].setExtension(EXTENSION_NAME, reflectionProbes[reflectionProbeRefDef.reflectionProbe]);\n    });\n\n    const sceneDefs = jsonDoc.json.scenes || [];\n\n    sceneDefs.forEach((sceneDef, sceneIndex) => {\n      if (!sceneDef.extensions || !sceneDef.extensions[EXTENSION_NAME]) return;\n      const reflectionProbeRefDef = sceneDef.extensions[EXTENSION_NAME] as ReflectionProbeRefDef;\n      context.scenes[sceneIndex].setExtension(EXTENSION_NAME, reflectionProbes[reflectionProbeRefDef.reflectionProbe]);\n    });\n\n    return this;\n  }\n\n  public write(context: WriterContext): this {\n    const jsonDoc = context.jsonDoc;\n\n    if (this.properties.size === 0) return this;\n\n    const reflectionProbeDefs = [];\n    const reflectionProbeIndexMap = new Map<MXReflectionProbe, number>();\n\n    for (const property of this.properties) {\n      const reflectionProbe = property as MXReflectionProbe;\n\n      const texture = reflectionProbe.getReflectionProbeTexture()!;\n      const textureInfo = reflectionProbe.getReflectionProbeTextureInfo()!;\n\n      const reflectionProbeDef: ReflectionProbeDef = {\n        reflectionProbeTexture: context.createTextureInfoDef(texture, textureInfo),\n      };\n\n      const size = reflectionProbe.getSize();\n\n      if (size) {\n        reflectionProbeDef.size = size;\n      }\n\n      reflectionProbeDefs.push(reflectionProbeDef);\n\n      reflectionProbeIndexMap.set(reflectionProbe, reflectionProbeDefs.length - 1);\n    }\n\n    this.document\n      .getRoot()\n      .listNodes()\n      .forEach((node) => {\n        const reflectionProbe = node.getExtension<MXReflectionProbe>(EXTENSION_NAME);\n\n        if (reflectionProbe) {\n          const nodeIndex = context.nodeIndexMap.get(node)!;\n          const nodeDef = jsonDoc.json.nodes![nodeIndex];\n          nodeDef.extensions = nodeDef.extensions || {};\n          nodeDef.extensions[EXTENSION_NAME] = { reflectionProbe: reflectionProbeIndexMap.get(reflectionProbe) };\n        }\n      });\n\n    this.document\n      .getRoot()\n      .listScenes()\n      .forEach((scene) => {\n        const reflectionProbe = scene.getExtension<MXReflectionProbe>(EXTENSION_NAME);\n\n        if (reflectionProbe) {\n          const sceneIndex = context.sceneIndexMap.get(scene)!;\n          const sceneDef = jsonDoc.json.scenes![sceneIndex];\n          sceneDef.extensions = sceneDef.extensions || {};\n          sceneDef.extensions[EXTENSION_NAME] = { reflectionProbe: reflectionProbeIndexMap.get(reflectionProbe) };\n        }\n      });\n\n    jsonDoc.json.extensions = jsonDoc.json.extensions || {};\n    jsonDoc.json.extensions[EXTENSION_NAME] = { reflectionProbes: reflectionProbeDefs };\n\n    return this;\n  }\n}\n\ninterface IMXReflectionProbe extends IProperty {\n  size: vec3 | null;\n  reflectionProbeTexture: Texture;\n  reflectionProbeTextureInfo: TextureInfo;\n}\n\nexport class MXReflectionProbe extends ExtensionProperty<IMXReflectionProbe> {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public declare extensionName: typeof EXTENSION_NAME;\n  public declare propertyType: typeof PROPERTY_TYPE;\n  public declare parentTypes: [PropertyType.SCENE, PropertyType.NODE];\n\n  protected init(): void {\n    this.extensionName = EXTENSION_NAME;\n    this.propertyType = PROPERTY_TYPE;\n    this.parentTypes = [PropertyType.SCENE, PropertyType.NODE];\n  }\n\n  protected getDefaults(): Nullable<IMXReflectionProbe> {\n    return Object.assign(super.getDefaults() as IProperty, {\n      size: null,\n      reflectionProbeTexture: null,\n      reflectionProbeTextureInfo: new TextureInfo(this.graph, \"reflectionProbeTextureInfo\"),\n    });\n  }\n\n  public getSize(): vec3 | null {\n    return this.get(\"size\");\n  }\n\n  public setSize(size: vec3 | null): this {\n    return this.set(\"size\", size);\n  }\n\n  public getReflectionProbeTexture(): Texture | null {\n    return this.getRef(\"reflectionProbeTexture\");\n  }\n\n  public setReflectionProbeTexture(texture: Texture | null): this {\n    return this.setRef(\"reflectionProbeTexture\", texture);\n  }\n\n  public getReflectionProbeTextureInfo(): TextureInfo | null {\n    return this.getRef(\"reflectionProbeTexture\") ? this.getRef(\"reflectionProbeTextureInfo\") : null;\n  }\n}\n","import {\n  Extension,\n  ExtensionProperty,\n  IProperty,\n  Nullable,\n  PropertyType,\n  ReaderContext,\n  WriterContext,\n} from \"@gltf-transform/core\";\n\nconst EXTENSION_NAME = \"MX_scene_ar\";\n\nexport class MXSceneARExtension extends Extension {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public readonly extensionName = EXTENSION_NAME;\n\n  public createSceneAR(): MXSceneAR {\n    return new MXSceneAR(this.document.getGraph());\n  }\n\n  public read(context: ReaderContext): this {\n    const jsonDoc = context.jsonDoc;\n\n    const sceneDefs = jsonDoc.json.scenes || [];\n\n    sceneDefs.forEach((sceneDef, sceneIndex) => {\n      if (!sceneDef.extensions || !sceneDef.extensions[EXTENSION_NAME]) return;\n      const postprocessing = this.createSceneAR();\n      context.scenes[sceneIndex].setExtension(EXTENSION_NAME, postprocessing);\n    });\n\n    return this;\n  }\n\n  public write(context: WriterContext): this {\n    const jsonDoc = context.jsonDoc;\n\n    if (this.properties.size === 0) return this;\n\n    this.document\n      .getRoot()\n      .listScenes()\n      .forEach((scene) => {\n        const sceneAR = scene.getExtension<MXSceneAR>(EXTENSION_NAME);\n\n        if (sceneAR) {\n          const sceneIndex = context.sceneIndexMap.get(scene)!;\n          const sceneDef = jsonDoc.json.scenes![sceneIndex];\n          sceneDef.extensions = sceneDef.extensions || {};\n          sceneDef.extensions[EXTENSION_NAME] = {};\n        }\n      });\n\n    return this;\n  }\n}\n\nconst POSTPROCESSING_PROPERTY_TYPE = \"SceneAR\";\n\ntype IMXSceneAR = IProperty;\n\nexport class MXSceneAR extends ExtensionProperty<IMXSceneAR> {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public declare extensionName: typeof EXTENSION_NAME;\n  public declare propertyType: typeof POSTPROCESSING_PROPERTY_TYPE;\n  public declare parentTypes: [PropertyType.SCENE];\n\n  protected init(): void {\n    this.extensionName = EXTENSION_NAME;\n    this.propertyType = POSTPROCESSING_PROPERTY_TYPE;\n    this.parentTypes = [PropertyType.SCENE];\n  }\n\n  protected getDefaults(): Nullable<IMXSceneAR> {\n    return Object.assign(super.getDefaults() as IProperty, {});\n  }\n}\n","import {\n  Extension,\n  ExtensionProperty,\n  IProperty,\n  PropertyType,\n  ReaderContext,\n  WriterContext,\n} from \"@gltf-transform/core\";\n\nconst EXTENSION_NAME = \"MX_spawn_point\";\nconst PROPERTY_TYPE = \"SpawnPoint\";\n\nexport class MXSpawnPointExtension extends Extension {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public readonly extensionName = EXTENSION_NAME;\n\n  public createSpawnPoint(): MXSpawnPoint {\n    return new MXSpawnPoint(this.document.getGraph());\n  }\n\n  public read(context: ReaderContext): this {\n    const jsonDoc = context.jsonDoc;\n    const nodeDefs = jsonDoc.json.nodes || [];\n\n    nodeDefs.forEach((nodeDef, nodeIndex) => {\n      if (nodeDef.extensions && nodeDef.extensions[EXTENSION_NAME]) {\n        const spawnPoint = this.createSpawnPoint();\n        context.nodes[nodeIndex].setExtension(EXTENSION_NAME, spawnPoint);\n      }\n    });\n\n    return this;\n  }\n\n  public write(context: WriterContext): this {\n    const jsonDoc = context.jsonDoc;\n\n    this.document\n      .getRoot()\n      .listNodes()\n      .forEach((node) => {\n        const spawnPoint = node.getExtension<MXSpawnPoint>(EXTENSION_NAME);\n\n        if (spawnPoint) {\n          const nodeIndex = context.nodeIndexMap.get(node)!;\n          const nodeDef = jsonDoc.json.nodes![nodeIndex];\n          nodeDef.extensions = nodeDef.extensions || {};\n          nodeDef.extensions[EXTENSION_NAME] = {};\n        }\n      });\n\n    return this;\n  }\n}\n\nexport class MXSpawnPoint extends ExtensionProperty<IProperty> {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public declare extensionName: typeof EXTENSION_NAME;\n  public declare propertyType: typeof PROPERTY_TYPE;\n  public declare parentTypes: [PropertyType.NODE];\n\n  protected init(): void {\n    this.extensionName = EXTENSION_NAME;\n    this.propertyType = PROPERTY_TYPE;\n    this.parentTypes = [PropertyType.NODE];\n  }\n}\n","import {\n  Extension,\n  ExtensionProperty,\n  IProperty,\n  PropertyType,\n  ReaderContext,\n  WriterContext,\n} from \"@gltf-transform/core\";\n\nconst EXTENSION_NAME = \"MX_static\";\nconst PROPERTY_TYPE = \"Static\";\n\nexport class MXStaticExtension extends Extension {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public readonly extensionName = EXTENSION_NAME;\n\n  public createStatic(): MXStatic {\n    return new MXStatic(this.document.getGraph());\n  }\n\n  public read(context: ReaderContext): this {\n    const jsonDoc = context.jsonDoc;\n    const nodeDefs = jsonDoc.json.nodes || [];\n\n    nodeDefs.forEach((nodeDef, nodeIndex) => {\n      if (nodeDef.extensions && nodeDef.extensions[EXTENSION_NAME]) {\n        const isStatic = this.createStatic();\n        context.nodes[nodeIndex].setExtension(EXTENSION_NAME, isStatic);\n      }\n    });\n\n    return this;\n  }\n\n  public write(context: WriterContext): this {\n    const jsonDoc = context.jsonDoc;\n\n    this.document\n      .getRoot()\n      .listNodes()\n      .forEach((node) => {\n        const spawnPoint = node.getExtension<MXStatic>(EXTENSION_NAME);\n\n        if (spawnPoint) {\n          const nodeIndex = context.nodeIndexMap.get(node)!;\n          const nodeDef = jsonDoc.json.nodes![nodeIndex];\n          nodeDef.extensions = nodeDef.extensions || {};\n          nodeDef.extensions[EXTENSION_NAME] = {};\n        }\n      });\n\n    return this;\n  }\n}\n\nexport class MXStatic extends ExtensionProperty<IProperty> {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public declare extensionName: typeof EXTENSION_NAME;\n  public declare propertyType: typeof PROPERTY_TYPE;\n  public declare parentTypes: [PropertyType.NODE];\n\n  protected init(): void {\n    this.extensionName = EXTENSION_NAME;\n    this.propertyType = PROPERTY_TYPE;\n    this.parentTypes = [PropertyType.NODE];\n  }\n}\n","import {\n  Extension,\n  ExtensionProperty,\n  IProperty,\n  Nullable,\n  PropertyType,\n  ReaderContext,\n  WriterContext,\n} from \"@gltf-transform/core\";\n\nconst EXTENSION_NAME = \"MX_texture_rgbm\";\nconst PROPERTY_TYPE = \"TextureRGBM\";\n\nexport class MXTextureRGBMExtension extends Extension {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public readonly extensionName = EXTENSION_NAME;\n\n  public createTextureRGBM(): MXTextureRGBM {\n    return new MXTextureRGBM(this.document.getGraph());\n  }\n\n  public read(context: ReaderContext): this {\n    const jsonDoc = context.jsonDoc;\n    const textureDefs = jsonDoc.json.textures || [];\n\n    textureDefs.forEach((textureDef, textureIndex) => {\n      if (textureDef.extensions && textureDef.extensions[EXTENSION_NAME]) {\n        const rgbm = this.createTextureRGBM();\n        context.textures[textureIndex].setExtension(EXTENSION_NAME, rgbm);\n      }\n    });\n\n    return this;\n  }\n\n  public write(context: WriterContext): this {\n    const jsonDoc = context.jsonDoc;\n\n    this.document\n      .getRoot()\n      .listTextures()\n      .forEach((texture) => {\n        const rgbm = texture.getExtension<MXTextureRGBM>(EXTENSION_NAME);\n\n        if (rgbm) {\n          const imageIndex = context.imageIndexMap.get(texture);\n          const textureDefs = jsonDoc.json.textures || [];\n\n          textureDefs.forEach((textureDef) => {\n            if (textureDef.source === imageIndex) {\n              textureDef.extensions = textureDef.extensions || {};\n              textureDef.extensions[EXTENSION_NAME] = {};\n            }\n          });\n        }\n      });\n\n    return this;\n  }\n}\n\ntype IMXTextureRGBM = IProperty;\n\nexport class MXTextureRGBM extends ExtensionProperty<IMXTextureRGBM> {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public declare extensionName: typeof EXTENSION_NAME;\n  public declare propertyType: typeof PROPERTY_TYPE;\n  public declare parentTypes: [PropertyType.TEXTURE];\n\n  protected init(): void {\n    this.extensionName = EXTENSION_NAME;\n    this.propertyType = PROPERTY_TYPE;\n    this.parentTypes = [PropertyType.TEXTURE];\n  }\n\n  protected getDefaults(): Nullable<IMXTextureRGBM> {\n    return Object.assign(super.getDefaults() as IProperty, {});\n  }\n}\n","import {\n  Extension,\n  ExtensionProperty,\n  IProperty,\n  Nullable,\n  PropertyType,\n  ReaderContext,\n  WriterContext,\n  vec3,\n  Mesh,\n} from \"@gltf-transform/core\";\n\nconst EXTENSION_NAME = \"OMI_collider\";\nconst PROPERTY_TYPE = \"Collider\";\n\ninterface NodeColliderDef {\n  collider: number;\n}\n\ninterface ColliderDef {\n  type: OMIColliderType;\n  extents?: vec3;\n  radius?: number;\n  height?: number;\n  mesh?: number;\n}\n\ninterface ColliderExtensionDef {\n  colliders: ColliderDef[];\n}\n\nexport class OMIColliderExtension extends Extension {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public readonly extensionName = EXTENSION_NAME;\n\n  public createCollider(): OMICollider {\n    return new OMICollider(this.document.getGraph());\n  }\n\n  public read(context: ReaderContext): this {\n    const jsonDoc = context.jsonDoc;\n\n    if (!jsonDoc.json.extensions || !jsonDoc.json.extensions[EXTENSION_NAME]) return this;\n\n    const rootDef = jsonDoc.json.extensions[EXTENSION_NAME] as ColliderExtensionDef;\n\n    const colliderDefs = rootDef.colliders || ([] as ColliderDef[]);\n\n    const colliders = colliderDefs.map((colliderDef) => {\n      const collider = this.createCollider().setType(colliderDef.type);\n\n      if (colliderDef.extents !== undefined) collider.setExtents(colliderDef.extents);\n      if (colliderDef.radius !== undefined) collider.setRadius(colliderDef.radius);\n      if (colliderDef.height !== undefined) collider.setHeight(colliderDef.height);\n      if (colliderDef.mesh !== undefined) collider.setMesh(context.meshes[colliderDef.mesh!]);\n\n      return collider;\n    });\n\n    const nodeDefs = jsonDoc.json.nodes || [];\n\n    nodeDefs.forEach((nodeDef, nodeIndex) => {\n      if (!nodeDef.extensions || !nodeDef.extensions[EXTENSION_NAME]) return;\n      const colliderNodeDef = nodeDef.extensions[EXTENSION_NAME] as NodeColliderDef;\n      context.nodes[nodeIndex].setExtension(EXTENSION_NAME, colliders[colliderNodeDef.collider]);\n    });\n\n    return this;\n  }\n\n  public write(context: WriterContext): this {\n    const jsonDoc = context.jsonDoc;\n\n    if (this.properties.size === 0) return this;\n\n    const colliderDefs = [];\n    const colliderIndexMap = new Map<OMICollider, number>();\n\n    for (const property of this.properties) {\n      const collider = property as OMICollider;\n      const colliderType = collider.getType();\n      const colliderDef = { type: colliderType } as ColliderDef;\n\n      if (colliderType === OMICollider.Type.BOX) {\n        colliderDef.extents = collider.getExtents()!;\n      } else if (colliderType === OMICollider.Type.MESH) {\n        colliderDef.mesh = context.meshIndexMap.get(collider.getMesh()!);\n      } else if (colliderType === OMICollider.Type.SPHERE) {\n        colliderDef.radius = collider.getRadius()!;\n      } else if (colliderType === OMICollider.Type.CAPSULE) {\n        colliderDef.height = collider.getHeight()!;\n        colliderDef.radius = collider.getRadius()!;\n      }\n\n      colliderDefs.push(colliderDef);\n      colliderIndexMap.set(collider, colliderDefs.length - 1);\n    }\n\n    this.document\n      .getRoot()\n      .listNodes()\n      .forEach((node) => {\n        const collider = node.getExtension<OMICollider>(EXTENSION_NAME);\n\n        if (collider) {\n          const nodeIndex = context.nodeIndexMap.get(node)!;\n          const nodeDef = jsonDoc.json.nodes![nodeIndex];\n          nodeDef.extensions = nodeDef.extensions || {};\n          nodeDef.extensions[EXTENSION_NAME] = { collider: colliderIndexMap.get(collider) };\n        }\n      });\n\n    jsonDoc.json.extensions = jsonDoc.json.extensions || {};\n    jsonDoc.json.extensions[EXTENSION_NAME] = { colliders: colliderDefs };\n\n    return this;\n  }\n}\n\ntype OMIColliderType = \"box\" | \"mesh\" | \"sphere\" | \"capsule\" | \"hull\" | \"compound\";\n\ninterface IOMICollider extends IProperty {\n  type: OMIColliderType;\n  extents: vec3 | null;\n  radius: number | null;\n  height: number | null;\n  mesh: Mesh;\n}\n\nexport class OMICollider extends ExtensionProperty<IOMICollider> {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public declare extensionName: typeof EXTENSION_NAME;\n  public declare propertyType: typeof PROPERTY_TYPE;\n  public declare parentTypes: [PropertyType.NODE];\n\n  public static Type: Record<string, OMIColliderType> = {\n    MESH: \"mesh\",\n    BOX: \"box\",\n    SPHERE: \"sphere\",\n    CAPSULE: \"capsule\",\n    HULL: \"hull\",\n    COMPOUND: \"compound\",\n  };\n\n  protected init(): void {\n    this.extensionName = EXTENSION_NAME;\n    this.propertyType = PROPERTY_TYPE;\n    this.parentTypes = [PropertyType.NODE];\n  }\n\n  protected getDefaults(): Nullable<IOMICollider> {\n    return Object.assign(super.getDefaults() as IProperty, {\n      type: null,\n      extents: null,\n      radius: null,\n      height: null,\n      mesh: null,\n    });\n  }\n\n  public getType(): OMIColliderType {\n    return this.get(\"type\");\n  }\n\n  public setType(type: OMIColliderType): this {\n    return this.set(\"type\", type);\n  }\n\n  public getExtents(): vec3 | null {\n    return this.get(\"extents\");\n  }\n\n  public setExtents(extents: vec3 | null): this {\n    return this.set(\"extents\", extents);\n  }\n\n  public getRadius(): number | null {\n    return this.get(\"radius\");\n  }\n\n  public setRadius(radius: number | null): this {\n    return this.set(\"radius\", radius);\n  }\n\n  public getHeight(): number | null {\n    return this.get(\"height\");\n  }\n\n  public setHeight(height: number | null): this {\n    return this.set(\"height\", height);\n  }\n\n  public getMesh(): Mesh | null {\n    return this.getRef(\"mesh\");\n  }\n\n  public setMesh(mesh: Mesh | null): this {\n    return this.setRef(\"mesh\", mesh);\n  }\n}\n","import {\n  Extension,\n  ExtensionProperty,\n  IProperty,\n  Nullable,\n  PropertyType,\n  ReaderContext,\n  WriterContext,\n} from \"@gltf-transform/core\";\n\nconst EXTENSION_NAME = \"OMI_link\";\nconst PROPERTY_TYPE = \"Link\";\n\ninterface LinkExtensionDef {\n  uri: string;\n}\n\nexport class OMILinkExtension extends Extension {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public readonly extensionName = EXTENSION_NAME;\n\n  public createLink(): OMILink {\n    return new OMILink(this.document.getGraph());\n  }\n\n  public read(context: ReaderContext): this {\n    const jsonDoc = context.jsonDoc;\n    const nodeDefs = jsonDoc.json.nodes || [];\n\n    nodeDefs.forEach((nodeDef, nodeIndex) => {\n      if (nodeDef.extensions && nodeDef.extensions[EXTENSION_NAME]) {\n        const link = this.createLink();\n\n        const extension = nodeDef.extensions[EXTENSION_NAME] as LinkExtensionDef;\n\n        link.setUri(extension.uri);\n\n        context.nodes[nodeIndex].setExtension(EXTENSION_NAME, link);\n      }\n    });\n\n    return this;\n  }\n\n  public write(context: WriterContext): this {\n    const jsonDoc = context.jsonDoc;\n\n    this.document\n      .getRoot()\n      .listNodes()\n      .forEach((node) => {\n        const link = node.getExtension<OMILink>(EXTENSION_NAME);\n\n        if (link) {\n          const nodeIndex = context.nodeIndexMap.get(node)!;\n          const nodeDef = jsonDoc.json.nodes![nodeIndex];\n          nodeDef.extensions = nodeDef.extensions || {};\n          nodeDef.extensions[EXTENSION_NAME] = {\n            uri: link.getUri(),\n          };\n        }\n      });\n\n    return this;\n  }\n}\n\ninterface IOMILink extends IProperty {\n  uri: string;\n}\n\nexport class OMILink extends ExtensionProperty<IOMILink> {\n  public static readonly EXTENSION_NAME = EXTENSION_NAME;\n  public declare extensionName: typeof EXTENSION_NAME;\n  public declare propertyType: typeof PROPERTY_TYPE;\n  public declare parentTypes: [PropertyType.NODE];\n\n  protected init(): void {\n    this.extensionName = EXTENSION_NAME;\n    this.propertyType = PROPERTY_TYPE;\n    this.parentTypes = [PropertyType.NODE];\n  }\n\n  protected getDefaults(): Nullable<IOMILink> {\n    return Object.assign(super.getDefaults() as IProperty, {\n      uri: null,\n    });\n  }\n\n  public getUri(): string {\n    return this.get(\"uri\");\n  }\n\n  public setUri(uri: string): this {\n    return this.set(\"uri\", uri);\n  }\n}\n","import { Document, Texture, Transform } from \"@gltf-transform/core\";\nimport { TextureBasisu } from \"@gltf-transform/extensions\";\nimport { listTextureSlots } from \"@gltf-transform/functions\";\n\nimport { createDeferred, Deferred } from \"../../engine/utils/Deferred\";\nimport { GLTFTransformProgressCallback } from \"../web\";\nimport TextureCompressionWorker from \"./TextureCompressionWorker?worker\";\n\nexport function compressTextures(onProgress?: GLTFTransformProgressCallback): Transform {\n  return async (doc: Document) => {\n    const root = doc.getRoot();\n\n    let nextJobId = 0;\n    const jobs: Map<number, Deferred<{ jobId: number; data: Uint8Array; mimeType: string }>> = new Map();\n    const textureMap: Map<number, Texture> = new Map();\n    const workers: Worker[] = [];\n\n    const numWorkers = navigator.hardwareConcurrency || 4;\n    let completedJobs = 0;\n\n    if (onProgress) {\n      onProgress({\n        step: \"Compressing textures with Basis Universal Texture Compression...\",\n        status: `Using ${numWorkers} threads. Initializing...`,\n      });\n    }\n\n    for (let i = 0; i < numWorkers; i++) {\n      const worker = new TextureCompressionWorker();\n\n      worker.addEventListener(\"message\", (event) => {\n        const jobId = event.data.jobId;\n\n        if (event.data.error) {\n          jobs.get(jobId)!.reject(new Error(\"Error compressing texture\"));\n        } else {\n          completedJobs++;\n\n          if (onProgress) {\n            onProgress({\n              step: \"Compressing textures with Basis Universal Texture Compression...\",\n              status: `Using ${numWorkers} threads. ${jobs.size - completedJobs} / ${jobs.size} textures remaining.`,\n            });\n          }\n\n          jobs.get(jobId)!.resolve(event.data);\n        }\n      });\n\n      workers.push(worker);\n    }\n\n    const canvas = document.createElement(\"canvas\");\n    const ctx = canvas.getContext(\"2d\") as CanvasRenderingContext2D;\n\n    const start = performance.now();\n\n    let usesBasisExtension = false;\n\n    for (const texture of root.listTextures()) {\n      const mimeType = texture.getMimeType();\n\n      // Skip any non png/jpeg textures\n      if (mimeType !== \"image/png\" && mimeType !== \"image/jpeg\") {\n        continue;\n      }\n\n      let imageData: Uint8Array | Uint8ClampedArray | null = texture.getImage();\n      const size = texture.getSize();\n\n      if (!imageData || !size) {\n        continue;\n      }\n\n      const name = texture.getName() || texture.getURI();\n      const slots = listTextureSlots(doc, texture);\n      const isSRGB = slots.some((slotName) => slotName === \"baseColorTexture\" || slotName === \"emissiveTexture\");\n      const isNormal = slots.some((slotName) => slotName === \"normalTexture\");\n      const flipY = slots.some((slotName) => slotName === \"backgroundTexture\");\n\n      const workerIndex = jobs.size % workers.length;\n      const worker = workers[workerIndex];\n\n      const useOptiPng = texture\n        .listParents()\n        .some((prop) => prop.propertyType === \"ReflectionProbe\" || prop.propertyType === \"Lightmap\");\n\n      if (useOptiPng && mimeType === \"image/jpeg\") {\n        continue;\n      }\n\n      if (mimeType === \"image/jpeg\") {\n        const originalByteLength = imageData.byteLength;\n        canvas.width = size[0];\n        canvas.height = size[1];\n        ctx.clearRect(0, 0, size[0], size[1]);\n        const bitmap = await createImageBitmap(new Blob([imageData], { type: mimeType }));\n        ctx.drawImage(bitmap, 0, 0);\n        imageData = ctx.getImageData(0, 0, size[0], size[1]).data;\n        bitmap.close();\n\n        console.log(\n          `Converted image from jpeg to bitmap:\n  Width: ${size[0]}\n  Height: ${size[1]}\n  JPEG Byte Length: ${originalByteLength}\n  Bitmap Byte Length: ${imageData.byteLength}`\n        );\n      }\n\n      const jobId = nextJobId++;\n\n      textureMap.set(jobId, texture);\n      jobs.set(jobId, createDeferred(false));\n\n      worker.postMessage(\n        {\n          jobId,\n          name,\n          slots,\n          isSRGB,\n          isNormal,\n          useOptiPng,\n          size,\n          data: imageData,\n          mimeType,\n          flipY,\n        },\n        [imageData.buffer]\n      );\n    }\n\n    const results = await Promise.all(Array.from(jobs.values()).map((job) => job.promise));\n\n    for (const worker of workers) {\n      worker.terminate();\n    }\n\n    for (const result of results) {\n      const texture = textureMap.get(result.jobId) as Texture;\n      texture.setImage(result.data);\n      texture.setMimeType(result.mimeType);\n\n      if (result.mimeType === \"image/ktx2\") {\n        usesBasisExtension = true;\n      }\n    }\n\n    if (usesBasisExtension) {\n      doc.createExtension(TextureBasisu).setRequired(true);\n    }\n\n    const duration = ((performance.now() - start) / 1000).toFixed(1);\n\n    console.log(`Total texture compression time: ${duration} secs`);\n  };\n}\n","import {\n  Accessor,\n  BufferUtils,\n  Document,\n  ILogger,\n  Material,\n  Mesh,\n  Primitive,\n  PrimitiveTarget,\n  PropertyType,\n  Root,\n  Texture,\n  Transform,\n} from \"@gltf-transform/core\";\n\nconst NAME = \"dedup\";\n\nexport interface DedupOptions {\n  /** List of {@link PropertyType} identifiers to be de-duplicated.*/\n  propertyTypes: string[];\n}\n\nconst DEDUP_DEFAULTS: Required<DedupOptions> = {\n  propertyTypes: [PropertyType.ACCESSOR, PropertyType.MESH, PropertyType.TEXTURE, PropertyType.MATERIAL],\n};\n\n/**\n * Removes duplicate {@link Accessor}, {@link Mesh}, {@link Texture}, and {@link Material}\n * properties. Partially based on a\n * [gist by mattdesl](https://gist.github.com/mattdesl/aea40285e2d73916b6b9101b36d84da8). Only\n * accessors in mesh primitives, morph targets, and animation samplers are processed.\n *\n * Example:\n *\n * ```ts\n * document.getRoot().listMeshes(); //  [Mesh, Mesh, Mesh]\n *\n * await document.transform(dedup({propertyTypes: [PropertyType.MESH]}));\n *\n * document.getRoot().listMeshes(); //  [Mesh]\n * ```\n */\nexport const dedupeProperties = function (_options: DedupOptions = DEDUP_DEFAULTS): Transform {\n  const options = { ...DEDUP_DEFAULTS, ..._options } as Required<DedupOptions>;\n\n  const propertyTypes = new Set(options.propertyTypes);\n  for (const propertyType of options.propertyTypes) {\n    if (!DEDUP_DEFAULTS.propertyTypes.includes(propertyType)) {\n      throw new Error(`${NAME}: Unsupported deduplication on type \"${propertyType}\".`);\n    }\n  }\n\n  const fn = (doc: Document): void => {\n    const logger = doc.getLogger();\n\n    if (propertyTypes.has(PropertyType.ACCESSOR)) dedupAccessors(logger, doc);\n    if (propertyTypes.has(PropertyType.TEXTURE)) dedupImages(logger, doc);\n    if (propertyTypes.has(PropertyType.MATERIAL)) dedupMaterials(logger, doc);\n    if (propertyTypes.has(PropertyType.MESH)) dedupMeshes(logger, doc);\n\n    logger.debug(`${NAME}: Complete.`);\n  };\n\n  Object.defineProperty(fn, \"name\", { value: \"dedupe-properties\" });\n\n  return fn;\n};\n\nfunction dedupAccessors(logger: ILogger, doc: Document): void {\n  // Find all accessors used for mesh data.\n  const indicesAccessors: Set<Accessor> = new Set();\n  const attributeAccessors: Set<Accessor> = new Set();\n  const inputAccessors: Set<Accessor> = new Set();\n  const outputAccessors: Set<Accessor> = new Set();\n\n  const meshes = doc.getRoot().listMeshes();\n  meshes.forEach((mesh) => {\n    mesh.listPrimitives().forEach((primitive) => {\n      primitive.listAttributes().forEach((accessor) => attributeAccessors.add(accessor));\n      const indices = primitive.getIndices();\n      if (indices) indicesAccessors.add(indices);\n    });\n  });\n\n  for (const animation of doc.getRoot().listAnimations()) {\n    for (const sampler of animation.listSamplers()) {\n      const input = sampler.getInput();\n      const output = sampler.getOutput();\n      if (input) inputAccessors.add(input);\n      if (output) outputAccessors.add(output);\n    }\n  }\n\n  // Find duplicate accessors of a given type.\n  function detectDuplicates(accessors: Accessor[]): Map<Accessor, Accessor> {\n    const duplicateAccessors: Map<Accessor, Accessor> = new Map();\n\n    for (let i = 0; i < accessors.length; i++) {\n      const a = accessors[i];\n      const aData = BufferUtils.toView(a.getArray()!);\n\n      if (duplicateAccessors.has(a)) continue;\n\n      for (let j = 0; j < accessors.length; j++) {\n        const b = accessors[j];\n\n        if (a === b) continue;\n        if (duplicateAccessors.has(b)) continue;\n\n        if (a.getType() !== b.getType()) continue;\n        if (a.getComponentType() !== b.getComponentType()) continue;\n        if (a.getCount() !== b.getCount()) continue;\n        if (a.getNormalized() !== b.getNormalized()) continue;\n        if (BufferUtils.equals(aData, BufferUtils.toView(b.getArray()!))) {\n          duplicateAccessors.set(b, a);\n        }\n      }\n    }\n\n    return duplicateAccessors;\n  }\n\n  const duplicateIndices = detectDuplicates(Array.from(indicesAccessors));\n  logger.debug(`${NAME}: Found ${duplicateIndices.size} duplicates among ${indicesAccessors.size} indices.`);\n\n  const duplicateAttributes = detectDuplicates(Array.from(attributeAccessors));\n  logger.debug(\n    `${NAME}: Found ${duplicateAttributes.size} duplicates among ${attributeAccessors.size}` + \" attributes.\"\n  );\n\n  const duplicateInputs = detectDuplicates(Array.from(inputAccessors));\n  const duplicateOutputs = detectDuplicates(Array.from(outputAccessors));\n  logger.debug(\n    `${NAME}: Found ${duplicateInputs.size + duplicateOutputs.size} duplicates among` +\n      ` ${inputAccessors.size + outputAccessors.size} animation accessors.`\n  );\n\n  // Dissolve duplicate vertex attributes and indices.\n  meshes.forEach((mesh) => {\n    mesh.listPrimitives().forEach((primitive) => {\n      primitive.listAttributes().forEach((accessor) => {\n        if (duplicateAttributes.has(accessor)) {\n          primitive.swap(accessor, duplicateAttributes.get(accessor) as Accessor);\n        }\n      });\n      const indices = primitive.getIndices();\n      if (indices && duplicateIndices.has(indices)) {\n        primitive.swap(indices, duplicateIndices.get(indices) as Accessor);\n      }\n    });\n  });\n  Array.from(duplicateIndices.keys()).forEach((indices) => indices.dispose());\n  Array.from(duplicateAttributes.keys()).forEach((attribute) => attribute.dispose());\n\n  // Dissolve duplicate animation sampler inputs and outputs.\n  for (const animation of doc.getRoot().listAnimations()) {\n    for (const sampler of animation.listSamplers()) {\n      const input = sampler.getInput();\n      const output = sampler.getOutput();\n      if (input && duplicateInputs.has(input)) {\n        sampler.swap(input, duplicateInputs.get(input) as Accessor);\n      }\n      if (output && duplicateOutputs.has(output)) {\n        sampler.swap(output, duplicateOutputs.get(output) as Accessor);\n      }\n    }\n  }\n  Array.from(duplicateInputs.keys()).forEach((input) => input.dispose());\n  Array.from(duplicateOutputs.keys()).forEach((output) => output.dispose());\n}\n\nfunction dedupMeshes(logger: ILogger, doc: Document): void {\n  const root = doc.getRoot();\n\n  // Create Reference -> ID lookup table.\n  const refs = new Map<Accessor | Material, number>();\n  root.listAccessors().forEach((accessor, index) => refs.set(accessor, index));\n  root.listMaterials().forEach((material, index) => refs.set(material, index));\n\n  // For each mesh, create a hashkey.\n  const numMeshes = root.listMeshes().length;\n  const uniqueMeshes = new Map<string, Mesh>();\n  for (const src of root.listMeshes()) {\n    // For each mesh, create a hashkey.\n    const srcKeyItems = [];\n    for (const prim of src.listPrimitives()) {\n      srcKeyItems.push(createPrimitiveKey(prim, refs));\n    }\n\n    // If another mesh exists with the same key, replace all instances with that, and dispose\n    // of the duplicate. If not, just cache it.\n    const meshKey = srcKeyItems.join(\";\");\n    if (uniqueMeshes.has(meshKey)) {\n      const targetMesh = uniqueMeshes.get(meshKey)!;\n      src.listParents().forEach((parent) => {\n        if (parent.propertyType !== PropertyType.ROOT) {\n          parent.swap(src, targetMesh);\n        }\n      });\n      src.dispose();\n    } else {\n      uniqueMeshes.set(meshKey, src);\n    }\n  }\n\n  logger.debug(`${NAME}: Found ${numMeshes - uniqueMeshes.size} duplicates among ${numMeshes} meshes.`);\n}\n\nfunction dedupImages(logger: ILogger, doc: Document): void {\n  const root = doc.getRoot();\n  const textures = root.listTextures();\n  const duplicates: Map<Texture, Texture> = new Map();\n\n  // Compare each texture to every other texture  O(n)  and mark duplicates for replacement.\n  for (let i = 0; i < textures.length; i++) {\n    const a = textures[i];\n    const aData = a.getImage();\n\n    if (duplicates.has(a)) continue;\n\n    for (let j = 0; j < textures.length; j++) {\n      const b = textures[j];\n      const bData = b.getImage();\n\n      if (a === b) continue;\n      if (duplicates.has(b)) continue;\n\n      // URIs are intentionally not compared.\n      if (a.getMimeType() !== b.getMimeType()) continue;\n\n      const aSize = a.getSize();\n      const bSize = b.getSize();\n      if (!aSize || !bSize) continue;\n      if (aSize[0] !== bSize[0]) continue;\n      if (aSize[1] !== bSize[1]) continue;\n      if (!aData || !bData) continue;\n      if (BufferUtils.equals(aData, bData)) {\n        duplicates.set(b, a);\n      }\n    }\n  }\n\n  logger.debug(`${NAME}: Found ${duplicates.size} duplicates among ${root.listTextures().length} textures.`);\n\n  Array.from(duplicates.entries()).forEach(([src, dst]) => {\n    src.listParents().forEach((property) => {\n      if (!(property instanceof Root)) property.swap(src, dst);\n    });\n    src.dispose();\n  });\n}\n\nfunction dedupMaterials(logger: ILogger, doc: Document): void {\n  const root = doc.getRoot();\n  const materials = root.listMaterials();\n  const duplicates: Map<Material, Material> = new Map();\n  const skip = new Set([\"name\"]);\n\n  // Compare each material to every other material  O(n)  and mark duplicates for replacement.\n  for (let i = 0; i < materials.length; i++) {\n    const a = materials[i];\n\n    if (duplicates.has(a)) continue;\n\n    for (let j = 0; j < materials.length; j++) {\n      const b = materials[j];\n\n      if (a === b) continue;\n      if (duplicates.has(b)) continue;\n\n      if (a.equals(b, skip)) {\n        duplicates.set(b, a);\n      }\n    }\n  }\n\n  logger.debug(\n    // eslint-disable-next-line max-len\n    `${NAME}: Found ${duplicates.size} duplicates among ${root.listMaterials().length} materials.`\n  );\n\n  Array.from(duplicates.entries()).forEach(([src, dst]) => {\n    src.listParents().forEach((property) => {\n      if (!(property instanceof Root)) property.swap(src, dst);\n    });\n    src.dispose();\n  });\n}\n\n/** Generates a key unique to the content of a primitive or target. */\nfunction createPrimitiveKey(prim: Primitive | PrimitiveTarget, refs: Map<Accessor | Material, number>): string {\n  const primKeyItems = [];\n  for (const semantic of prim.listSemantics()) {\n    const attribute = prim.getAttribute(semantic)!;\n    primKeyItems.push(semantic + \":\" + refs.get(attribute));\n  }\n  if (prim instanceof Primitive) {\n    const indices = prim.getIndices();\n    if (indices) {\n      primKeyItems.push(\"indices:\" + refs.get(indices));\n    }\n    const material = prim.getMaterial();\n    if (material) {\n      primKeyItems.push(\"material:\" + refs.get(material));\n    }\n    primKeyItems.push(\"mode:\" + prim.getMode());\n    for (const target of prim.listTargets()) {\n      primKeyItems.push(\"target:\" + createPrimitiveKey(target, refs));\n    }\n  }\n  return primKeyItems.join(\",\");\n}\n","import { Document, ILogger, MathUtils, Mesh, Node, Texture, Transform, vec3, vec4 } from \"@gltf-transform/core\";\nimport { InstancedMesh, MeshGPUInstancing } from \"@gltf-transform/extensions\";\n\nimport { MXLightmap, MXLightmapExtension } from \"../extensions/MXLightmapExtension\";\n\nconst NAME = \"extension-aware-instance\";\n\nfunction createObjectKeyMap<O>() {\n  const map = new Map<O, number>();\n  let counter = 0;\n\n  return (obj: O) => {\n    let id = map.get(obj);\n\n    if (id === undefined) {\n      id = counter++;\n      map.set(obj, id);\n    }\n\n    return id;\n  };\n}\n\nfunction createInstanceKeyMap() {\n  const getMeshKey = createObjectKeyMap<Mesh>();\n  const getLightMapKey = createObjectKeyMap<Texture>();\n\n  return (node: Node) => {\n    const mesh = node.getMesh();\n    const lightMap = node.getExtension<MXLightmap>(MXLightmapExtension.EXTENSION_NAME)?.getLightMapTexture();\n\n    if (!mesh) {\n      return null;\n    }\n\n    if (node.getSkin()) {\n      return null;\n    }\n\n    return `mesh-${getMeshKey(mesh)}` + (lightMap ? `-lightmap-${getLightMapKey(lightMap)}` : \"\");\n  };\n}\n\nexport function extensionAwareInstance(): Transform {\n  const fn = (doc: Document) => {\n    const logger = doc.getLogger();\n    const root = doc.getRoot();\n    const batchExtension = doc.createExtension(MeshGPUInstancing);\n\n    let numBatches = 0;\n    let numInstances = 0;\n\n    const excludedNodes = new Set<Node>();\n\n    for (const animation of root.listAnimations()) {\n      for (const channel of animation.listChannels()) {\n        const target = channel.getTargetNode();\n\n        if (target) {\n          target.traverse((node) => {\n            excludedNodes.add(node);\n          });\n        }\n      }\n    }\n\n    for (const scene of root.listScenes()) {\n      // Gather a one-to-many Mesh/Node mapping, identifying what we can instance.\n      const meshInstances = new Map<string, { mesh: Mesh; nodes: Set<Node>; lightMap?: MXLightmap }>();\n      const getInstanceKey = createInstanceKeyMap();\n\n      scene.traverse((node) => {\n        if (excludedNodes.has(node)) {\n          return;\n        }\n\n        const instanceKey = getInstanceKey(node);\n\n        if (instanceKey) {\n          let instanceRecord = meshInstances.get(instanceKey);\n\n          if (!instanceRecord) {\n            const lightMap = node.getExtension<MXLightmap>(MXLightmapExtension.EXTENSION_NAME)?.clone();\n\n            if (lightMap) {\n              lightMap.setOffset([0, 0]);\n              lightMap.setScale([1, 1]);\n            }\n\n            instanceRecord = { mesh: node.getMesh()!, nodes: new Set(), lightMap };\n            meshInstances.set(instanceKey, instanceRecord);\n          }\n\n          instanceRecord.nodes.add(node);\n        }\n      });\n\n      for (const [, { mesh, nodes, lightMap }] of meshInstances) {\n        if (nodes.size < 2) {\n          continue;\n        }\n\n        // For each Mesh, create an InstancedMesh and collect transforms.\n        const modifiedNodes = [];\n\n        const nodesArr = Array.from(nodes);\n\n        const batch = createBatch(doc, batchExtension, mesh, nodes.size, !!lightMap);\n        const batchTranslation = batch.getAttribute(\"TRANSLATION\")!;\n        const batchRotation = batch.getAttribute(\"ROTATION\")!;\n        const batchScale = batch.getAttribute(\"SCALE\")!;\n\n        const batchNode = doc\n          .createNode()\n          .setName(nodesArr[0].getName() + \"-instanced\")\n          .setMesh(mesh)\n          .setExtension(\"EXT_mesh_gpu_instancing\", batch);\n\n        if (lightMap) {\n          batchNode.setExtension(MXLightmapExtension.EXTENSION_NAME, lightMap);\n        }\n\n        scene.addChild(batchNode);\n\n        let needsTranslation = false;\n        let needsRotation = false;\n        let needsScale = false;\n\n        // For each Node, write TRS properties into instance attributes.\n        for (let i = 0; i < nodesArr.length; i++) {\n          let t: vec3;\n          let r: vec4;\n          let s: vec3;\n\n          const node = nodesArr[i];\n\n          batchTranslation.setElement(i, (t = node.getWorldTranslation()));\n          batchRotation.setElement(i, (r = node.getWorldRotation()));\n          batchScale.setElement(i, (s = node.getWorldScale()));\n\n          if (lightMap) {\n            const nodeLightMap = node.getExtension<MXLightmap>(MXLightmapExtension.EXTENSION_NAME)!;\n            const batchLightmapOffset = batch.getAttribute(\"_LIGHTMAP_OFFSET\")!;\n            const batchLightmapScale = batch.getAttribute(\"_LIGHTMAP_SCALE\")!;\n            batchLightmapOffset.setElement(i, nodeLightMap.getOffset());\n            batchLightmapScale.setElement(i, nodeLightMap.getScale());\n            node.setExtension(MXLightmapExtension.EXTENSION_NAME, null);\n          }\n\n          if (!MathUtils.eq(t, [0, 0, 0])) needsTranslation = true;\n          if (!MathUtils.eq(r, [0, 0, 0, 1])) needsRotation = true;\n          if (!MathUtils.eq(s, [1, 1, 1])) needsScale = true;\n\n          // Mark the node for cleanup.\n          node.setMesh(null);\n          modifiedNodes.push(node);\n        }\n\n        if (!needsTranslation) batchTranslation.dispose();\n        if (!needsRotation) batchRotation.dispose();\n        if (!needsScale) batchScale.dispose();\n\n        pruneUnusedNodes(modifiedNodes, logger);\n\n        numBatches++;\n        numInstances += nodesArr.length;\n      }\n    }\n\n    if (numBatches > 0) {\n      logger.info(`${NAME}: Created ${numBatches} batches, with ${numInstances} total instances.`);\n    } else {\n      logger.info(`${NAME}: No meshes with multiple parent nodes were found.`);\n      batchExtension.dispose();\n    }\n\n    logger.debug(`${NAME}: Complete.`);\n  };\n\n  Object.defineProperty(fn, \"name\", { value: \"extension-aware-instance\" });\n\n  return fn;\n}\n\nfunction pruneUnusedNodes(nodes: Node[], logger: ILogger): void {\n  let node: Node | undefined;\n  let unusedNodes = 0;\n  while ((node = nodes.pop())) {\n    if (\n      node.listChildren().length ||\n      node.getCamera() ||\n      node.getMesh() ||\n      node.getSkin() ||\n      node.listExtensions().length\n    ) {\n      continue;\n    }\n    const nodeParent = node.getParent();\n    if (nodeParent instanceof Node) {\n      nodes.push(nodeParent);\n    }\n    node.dispose();\n    unusedNodes++;\n  }\n\n  logger.debug(`${NAME}: Removed ${unusedNodes} unused nodes.`);\n}\n\nfunction createBatch(\n  doc: Document,\n  batchExtension: MeshGPUInstancing,\n  mesh: Mesh,\n  count: number,\n  useLightmap: boolean\n): InstancedMesh {\n  const buffer = mesh.listPrimitives()[0].getAttribute(\"POSITION\")!.getBuffer();\n\n  const batchTranslation = doc\n    .createAccessor()\n    .setType(\"VEC3\")\n    .setArray(new Float32Array(3 * count))\n    .setBuffer(buffer);\n  const batchRotation = doc\n    .createAccessor()\n    .setType(\"VEC4\")\n    .setArray(new Float32Array(4 * count))\n    .setBuffer(buffer);\n  const batchScale = doc\n    .createAccessor()\n    .setType(\"VEC3\")\n    .setArray(new Float32Array(3 * count))\n    .setBuffer(buffer);\n\n  const instancedMesh = batchExtension\n    .createInstancedMesh()\n    .setAttribute(\"TRANSLATION\", batchTranslation)\n    .setAttribute(\"ROTATION\", batchRotation)\n    .setAttribute(\"SCALE\", batchScale);\n\n  if (useLightmap) {\n    const batchLightmapScale = doc\n      .createAccessor()\n      .setType(\"VEC2\")\n      .setArray(new Float32Array(2 * count))\n      .setBuffer(buffer);\n    const batchLightmapOffset = doc\n      .createAccessor()\n      .setType(\"VEC2\")\n      .setArray(new Float32Array(2 * count))\n      .setBuffer(buffer);\n\n    instancedMesh\n      .setAttribute(\"_LIGHTMAP_SCALE\", batchLightmapScale)\n      .setAttribute(\"_LIGHTMAP_OFFSET\", batchLightmapOffset);\n  }\n\n  return instancedMesh;\n}\n","import { Document, PlatformIO } from \"@gltf-transform/core\";\nimport { ALL_EXTENSIONS } from \"@gltf-transform/extensions\";\nimport { textureResize } from \"@gltf-transform/functions\";\n\nimport { KHRAudioExtension } from \"./extensions/KHRAudioExtension\";\nimport { MXBackgroundExtension } from \"./extensions/MXBackgroundExtension\";\nimport { MXLightmapExtension } from \"./extensions/MXLightmapExtension\";\nimport { MXLightsShadowsExtension } from \"./extensions/MXLightsShadows\";\nimport { MXPortalExtension } from \"./extensions/MXPortalExtension\";\nimport { MXPostprocessingExtension } from \"./extensions/MXPostprocessing\";\nimport { MXReflectionProbesExtension } from \"./extensions/MXReflectionProbesExtension\";\nimport { MXSceneARExtension } from \"./extensions/MXSceneAR\";\nimport { MXSpawnPointExtension } from \"./extensions/MXSpawnPointExtension\";\nimport { MXStaticExtension } from \"./extensions/MXStatic\";\nimport { MXTextureRGBMExtension } from \"./extensions/MXTextureRGBM\";\nimport { OMIColliderExtension } from \"./extensions/OMIColliderExtension\";\nimport { OMILinkExtension } from \"./extensions/OMILinkExtension\";\nimport { compressTextures } from \"./functions/compressTextures\";\nimport { dedupeProperties } from \"./functions/dedupeProperties\";\nimport { extensionAwareInstance } from \"./functions/extensionAwareInstance\";\nimport { GLTFTransformProgressCallback } from \"./web\";\n\nexport function registerExtensions(io: PlatformIO) {\n  io.registerExtensions([\n    ...ALL_EXTENSIONS,\n    KHRAudioExtension,\n    MXLightmapExtension,\n    MXLightsShadowsExtension,\n    MXReflectionProbesExtension,\n    MXBackgroundExtension,\n    MXSceneARExtension,\n    MXSpawnPointExtension,\n    MXStaticExtension,\n    MXPostprocessingExtension,\n    MXPortalExtension,\n    MXTextureRGBMExtension,\n    OMILinkExtension,\n    OMIColliderExtension,\n  ]);\n}\n\nexport interface AssetPipelineOptions {\n  dedupeProperties?: boolean;\n  resizeTextures?: boolean;\n  instancing?: boolean;\n  compressTextures?: boolean;\n}\n\nexport const DefaultAssetPipelineOptions: AssetPipelineOptions = {\n  dedupeProperties: true,\n  resizeTextures: true,\n  instancing: true,\n  compressTextures: true,\n};\n\nexport async function transformGLTF(\n  doc: Document,\n  options: AssetPipelineOptions = DefaultAssetPipelineOptions,\n  onProgress?: GLTFTransformProgressCallback\n) {\n  if (options.dedupeProperties) {\n    if (onProgress) {\n      onProgress({\n        step: \"Deduplicating Properties...\",\n      });\n    }\n\n    await doc.transform(dedupeProperties());\n  }\n\n  if (options.instancing) {\n    if (onProgress) {\n      onProgress({\n        step: \"Instancing meshes...\",\n      });\n    }\n\n    await doc.transform(extensionAwareInstance());\n  }\n\n  if (options.resizeTextures) {\n    if (onProgress) {\n      onProgress({\n        step: \"Resizing base color textures and emissive textures to 2048x2048...\",\n      });\n    }\n\n    await doc.transform(\n      textureResize({\n        pattern: /^(?!ignore-).*/,\n        slots: /(baseColorTexture)|(emissiveTexture)/,\n        size: [2048, 2048],\n      })\n    );\n\n    if (onProgress) {\n      onProgress({\n        step: \"Resizing metallic roughness, occlusion, and normal textures to 1024x1024...\",\n      });\n    }\n\n    await doc.transform(\n      textureResize({\n        pattern: /^(?!ignore-).*/,\n        slots: /(metallicRoughnessTexture)|(occlusionTexture)|(normalTexture)/,\n        size: [1024, 1024],\n      })\n    );\n\n    await doc.transform(\n      textureResize({\n        pattern: /^ignore-.*/,\n        size: [4096, 4096],\n      })\n    );\n  }\n\n  if (options.compressTextures) {\n    await doc.transform(compressTextures(onProgress));\n  }\n}\n","import { Document, WebIO, Logger, Verbosity, JSONDocument, Extension, PlatformIO } from \"@gltf-transform/core\";\n\nimport { downloadFile } from \"../engine/utils/downloadFile\";\nimport { registerExtensions, transformGLTF, AssetPipelineOptions } from \"./pipeline\";\n\nexport class CustomWebIO extends WebIO {\n  fileMap: Map<string, string> = new Map();\n\n  private beforeReadDocumentHooks: ((io: PlatformIO, jsonDoc: JSONDocument) => Promise<void>)[] = [];\n\n  readGLTF(uri: string, fileMap: Map<string, string>): Promise<Document> {\n    this.fileMap = fileMap;\n    return this.read(uri);\n  }\n\n  registerExtensions(extensions: (typeof Extension)[]): this {\n    super.registerExtensions(extensions);\n\n    for (const extension of extensions) {\n      if ((extension as any).beforeReadDocument) {\n        this.beforeReadDocumentHooks.push((extension as any).beforeReadDocument);\n      }\n    }\n\n    return this;\n  }\n\n  async readAsJSON(uri: string): Promise<JSONDocument> {\n    const jsonDoc = await super.readAsJSON(uri);\n\n    await Promise.all(this.beforeReadDocumentHooks.map((hook) => hook(this, jsonDoc)));\n\n    return jsonDoc;\n  }\n\n  public resolve(base: string, path: string): string {\n    const uri = super.resolve(base, path);\n    return this.fileMap.get(decodeURIComponent(path)) || uri;\n  }\n\n  public declare readURI: {\n    (uri: string, type: \"view\"): Promise<Uint8Array>;\n    (uri: string, type: \"text\"): Promise<string>;\n  };\n\n  public declare dirname: (uri: string) => string;\n}\n\nexport interface GLTFTransformProgressMessage {\n  step: string;\n  status?: string;\n}\n\nexport type GLTFTransformProgressCallback = (message: GLTFTransformProgressMessage) => void;\n\nexport async function transformGLTFWeb(\n  url: string,\n  fileMap: Map<string, string>,\n  options?: AssetPipelineOptions,\n  onProgress?: GLTFTransformProgressCallback\n) {\n  const logger = new Logger(Verbosity.DEBUG);\n\n  const io = new CustomWebIO().setLogger(logger);\n\n  registerExtensions(io);\n\n  if (onProgress) {\n    onProgress({\n      step: \"Reading glTF...\",\n    });\n  }\n\n  const doc = await io.readGLTF(url, fileMap);\n\n  doc.setLogger(logger);\n\n  if (onProgress) {\n    onProgress({\n      step: \"Transforming glTF...\",\n    });\n  }\n\n  await transformGLTF(doc, options, onProgress);\n\n  if (onProgress) {\n    onProgress({\n      step: \"Writing glTF...\",\n    });\n  }\n\n  const glbBuffer = await io.writeBinary(doc);\n\n  const fileName = `${doc.getRoot().getName() || \"scene\"}.glb`;\n\n  if (onProgress) {\n    onProgress({\n      step: `glTF successfully transformed, downloading \"${fileName}\"...`,\n    });\n  }\n\n  downloadFile(glbBuffer, fileName, \"model/gltf-binary\");\n}\n","import { DragEvent, useCallback, useState } from \"react\";\n\nimport { AssetPipelineOptions, DefaultAssetPipelineOptions } from \"../../../asset-pipeline/pipeline\";\nimport { transformGLTFWeb } from \"../../../asset-pipeline/web\";\nimport { Switch } from \"../../atoms/button/Switch\";\nimport { Label } from \"../../atoms/text/Label\";\nimport { Text } from \"../../atoms/text/Text\";\nimport { SettingTile } from \"../components/setting-tile/SettingTile\";\nimport \"./AssetPipeline.css\";\n\nexport default function AssetPipeline() {\n  const [{ step, status, error }, setState] = useState<{ step?: string; status?: string; error?: string }>({\n    step: \"Drag and drop .gltf directory contents onto this page to optimize.\",\n  });\n\n  const [options, setOptions] = useState<Required<AssetPipelineOptions>>(\n    DefaultAssetPipelineOptions as Required<AssetPipelineOptions>\n  );\n\n  const onDropFile = useCallback(\n    (e: DragEvent<HTMLDivElement>) => {\n      e.preventDefault();\n\n      if (!e.dataTransfer) {\n        return;\n      }\n\n      let url: string | undefined = undefined;\n      const fileMap: Map<string, string> = new Map();\n\n      for (const item of e.dataTransfer.items) {\n        const file = item.getAsFile();\n\n        if (file) {\n          const fileUrl = URL.createObjectURL(file);\n\n          if (file.name.match(/\\.gl(?:tf|b)$/)) {\n            url = fileUrl;\n          } else {\n            fileMap.set(file.name, fileUrl);\n          }\n        }\n      }\n\n      if (url) {\n        transformGLTFWeb(url, fileMap, options, ({ step, status }) => {\n          setState({\n            step,\n            status,\n          });\n        }).catch((error) => {\n          console.error(error);\n          setState({ error: error.message });\n        });\n      }\n    },\n    [options]\n  );\n\n  const onDragOver = useCallback((e: DragEvent<HTMLDivElement>) => {\n    e.preventDefault();\n  }, []);\n\n  return (\n    <div className=\"AssetPipeline\">\n      <div className=\"AssetPipeline__dropzone\" onDrop={onDropFile} onDragOver={onDragOver} />\n      <div className=\"AssetPipeline__content gap-lg\">\n        <Text variant=\"h2\">Third Room Asset Pipeline</Text>\n        {Object.keys(DefaultAssetPipelineOptions).map((key) => (\n          <SettingTile label={<Label>{key}</Label>}>\n            <Switch\n              checked={options[key as keyof AssetPipelineOptions]}\n              onCheckedChange={(value) => setOptions((prev) => ({ ...prev, [key]: value }))}\n            />\n          </SettingTile>\n        ))}\n        <div className=\"AssetPipeline__message\">\n          {error ? (\n            <>\n              <Text color=\"danger\">{error}</Text>\n              <Text color=\"danger\">See console for more details.</Text>\n            </>\n          ) : (\n            <>\n              <Text>{step}</Text>\n              {status && <Text>{status}</Text>}\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["t$1","t","e","i","e$1","s$2","s","r","n","h","d","a","o$2","o","g","p","m","w","y","v","T","x","b","A","u","E","M$1","M","I","R","N$1","O","C","F","B$2","c","l","f","U","P","j","L","_","D","k","z","G","J","$$1","N","$","V","q","W$1","H$1","W","Y$1","Y","H","B","K$1","K","Q","X$1","tt$1","tt","et$1","et","rt$1","rt","st","nt","it","ot","at$1","at","S","ut$1","ct$1","ct","ht$1","ht","lt$1","ft","dt$1","gt$1","pt$1","mt$1","dt","gt","ut","pt","Z","X","wt","mt","lt","yt","vt","Tt","xt","bt","At","Et","St","St$1","Mt","It","Rt$1","Ct","Rt","ee","te","se","re","ne","oe","ie","ae","ce","ue","le","he","fe","ge","pe","xe","de","Te","me","Ee","Ie","Re","Ne","_e","Se","Ae","ye","Ce","Me","Oe","we","De","Fe","be","je","ve","ke","Be","Ge","He","Le","Ue","Pe","Ve","Xe","Ke","ze","qe","$e","Ye","Qe","We","Je","Ze","xt$1","Nt","_t","iota","result","iota_1","isBuffer_1","obj","isBuffer","isSlowBuffer","require$$0","require$$1","hasTypedArrays","compare1st","order","stride","terms","compileConstructor","dtype","dimension","className","useGetters","code","procedure","CACHED_CONSTRUCTORS","indices","args","index_str","shapeArg","strideArg","a_vars","c_vars","tShape","tStride","idx","arrayDType","data","wrappedNDArrayCtor","shape","offset","ctor","sz","ctor_list","ndarray","unique_pred","list","compare","ptr","len","unique_eq","unique","sorted","uniq","innerFill","proc","body","nargs","has_index","vars","pidx","outerFill","matched","blockSize","indexStr","countMatches","orders","processBlock","block","dtypes","pre","post","carg","ptrStr","arrNum","offArgIndex","offArg","localStr","arrStr","reStrArr","ptrStrArr","typeSummary","summary","allEqual","digits","generateCWiseOp","typesig","blockBegin","blockEnd","loopBegin","loopEnd","loopOrders","newOrder","arglist","zeros","off_arg","init_string","thisVars","loopName","compile","createThunk","thunkName","string_typesig","proc_args","shapeLengthConditions","shapeConditions","thunk","Procedure","compileCwise","user_args","arg_type","compiler","EmptyProc","fixup","pcompile","makeOp","wrapper","assign_ops","id","op","exports","unary_ops","binary_ops","math_unary","math_comm","math_noncomm","s$1","Pt","$t","Jt","Zt","Qt","Yt","EXTENSION_NAME","KHRAudioExtension","Extension","__publicField","PropertyType","KHRSceneAudioEmitters","KHRAudioEmitter","KHRAudioSource","KHRAudioData","io","jsonDoc","rootDef","uri","context","json","resources","audioDataDefs","audioSourceDefs","audioEmitterDefs","audioData","audioDataDef","audio","bufferViewDef","bufferDef","bufferData","byteOffset","byteLength","audioSources","audioSourceDef","audioSource","audioEmitters","audioEmitterDef","audioEmitter","sourceIndex","positionalDef","sceneDef","sceneIndex","sceneEmitterDef","sceneAudioEmitters","emitterIndex","nodeDef","nodeIndex","nodeEmitterDef","propertyType","audioFileCounter","property","AUDIO_DATA_PROPERTY_TYPE","Format","glbBuffer","bufferViews","audioDataIndexMap","audioSourceIndexMap","AUDIO_SOURCE_PROPERTY_TYPE","audioDataIndex","gain","audioEmitterIndexMap","AUDIO_EMITTER_PROPERTY_TYPE","type","sources","source","coneInnerAngle","coneOuterAngle","coneOuterGain","distanceModel","maxDistance","refDistance","rolloffFactor","scene","emitterIndices","node","SCENE_AUDIO_EMITTERS_PROPERTY_TYPE","ExtensionProperty","emitter","_KHRAudioEmitter","autoPlay","loop","extensionToMimeType","FileUtils","mimeType","BufferUtils","extension","PROPERTY_TYPE","MXBackgroundExtension","MXBackground","textureDefs","background","textureInfoDef","texture","textureInfo","TextureInfo","eq","MathUtils","MXLightmapExtension","MXLightmap","nodeDefs","lightMap","lightMapDef","scale","intensity","MXLightsShadowsExtension","MXLightsShadows","shadows","castShadow","receiveShadow","MXPortalExtension","MXPortal","portal","MXPostprocessingExtension","MXBloomEffect","MXPostprocessing","postprocessingDef","postprocessing","bloomDef","bloom","extensionDef","POSTPROCESSING_PROPERTY_TYPE","BLOOM_EFFECT_PROPERTY_TYPE","strength","radius","threshold","MXReflectionProbesExtension","MXReflectionProbe","reflectionProbeDefs","reflectionProbes","reflectionProbeDef","reflectionProbe","reflectionProbeRefDef","reflectionProbeIndexMap","size","MXSceneARExtension","MXSceneAR","MXSpawnPointExtension","MXSpawnPoint","spawnPoint","MXStaticExtension","MXStatic","isStatic","MXTextureRGBMExtension","MXTextureRGBM","textureDef","textureIndex","rgbm","imageIndex","OMIColliderExtension","OMICollider","colliders","colliderDef","collider","colliderNodeDef","colliderDefs","colliderIndexMap","colliderType","extents","height","mesh","OMILinkExtension","OMILink","link","compressTextures","onProgress","doc","root","nextJobId","jobs","textureMap","workers","numWorkers","completedJobs","worker","TextureCompressionWorker","event","jobId","canvas","ctx","start","usesBasisExtension","imageData","name","slots","listTextureSlots","isSRGB","slotName","isNormal","flipY","workerIndex","useOptiPng","prop","originalByteLength","bitmap","createDeferred","results","job","TextureBasisu","duration","NAME","DEDUP_DEFAULTS","dedupeProperties","_options","options","propertyTypes","fn","logger","dedupAccessors","dedupImages","dedupMaterials","dedupMeshes","indicesAccessors","attributeAccessors","inputAccessors","outputAccessors","meshes","primitive","accessor","animation","sampler","input","output","detectDuplicates","accessors","duplicateAccessors","aData","duplicateIndices","duplicateAttributes","duplicateInputs","duplicateOutputs","attribute","refs","index","material","numMeshes","uniqueMeshes","src","srcKeyItems","prim","createPrimitiveKey","meshKey","targetMesh","parent","textures","duplicates","bData","aSize","bSize","dst","Root","materials","skip","primKeyItems","semantic","Primitive","target","createObjectKeyMap","map","counter","createInstanceKeyMap","getMeshKey","getLightMapKey","_a","extensionAwareInstance","batchExtension","MeshGPUInstancing","numBatches","numInstances","excludedNodes","channel","meshInstances","getInstanceKey","instanceKey","instanceRecord","nodes","modifiedNodes","nodesArr","batch","createBatch","batchTranslation","batchRotation","batchScale","batchNode","needsTranslation","needsRotation","needsScale","nodeLightMap","batchLightmapOffset","batchLightmapScale","pruneUnusedNodes","unusedNodes","nodeParent","Node","count","useLightmap","buffer","instancedMesh","registerExtensions","ALL_EXTENSIONS","DefaultAssetPipelineOptions","transformGLTF","textureResize","CustomWebIO","WebIO","fileMap","extensions","hook","base","path","transformGLTFWeb","url","Logger","Verbosity","fileName","downloadFile","AssetPipeline","step","status","error","setState","useState","setOptions","onDropFile","useCallback","item","file","fileUrl","onDragOver","jsxs","jsx","Text","key","SettingTile","Label","Switch","value","prev","Fragment"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13]}