{"version":3,"file":"MainMenuRootView-b320840f.js","sources":["../../src/ui/views/session/world/MainMenuRootView.tsx"],"sourcesContent":["import { useAtom } from \"jotai\";\nimport { useEffect } from \"react\";\n\nimport { overlayVisibilityAtom } from \"../../../state/overlayVisibility\";\nimport { worldAtom } from \"../../../state/world\";\nimport { WorldThumbnail } from \"./WorldThumbnail\";\nimport { useWorldLoader } from \"../../../hooks/useWorldLoader\";\n\nexport default function MainMenuRootView() {\n  const [{ entered, loading }] = useAtom(worldAtom);\n  const { exitWorld } = useWorldLoader();\n\n  /**\n   * Make overlay visible when not loading and not entered\n   */\n  const [, setOverlayVisibility] = useAtom(overlayVisibilityAtom);\n  useEffect(() => {\n    if (!loading && !entered) {\n      setOverlayVisibility(true);\n    }\n  }, [setOverlayVisibility, loading, entered]);\n\n  /**\n   * Exit world if we navigated home and we were entered in a world\n   */\n  useEffect(() => {\n    if (entered) {\n      exitWorld();\n    }\n  }, [entered, exitWorld]);\n\n  return (\n    <>\n      <WorldThumbnail />\n    </>\n  );\n}\n"],"names":["MainMenuRootView","entered","loading","useAtom","worldAtom","exitWorld","useWorldLoader","setOverlayVisibility","overlayVisibilityAtom","useEffect","jsx","Fragment","WorldThumbnail"],"mappings":"gTAQA,SAAwBA,GAAmB,CACzC,KAAM,CAAC,CAAE,QAAAC,EAAS,QAAAC,CAAS,CAAA,EAAIC,EAAQC,CAAS,EAC1C,CAAE,UAAAC,GAAcC,IAKhB,EAAGC,CAAoB,EAAIJ,EAAQK,CAAqB,EAC9DC,OAAAA,EAAAA,UAAU,IAAM,CACV,CAACP,GAAW,CAACD,GACfM,EAAqB,EAAI,CAE1B,EAAA,CAACA,EAAsBL,EAASD,CAAO,CAAC,EAK3CQ,EAAAA,UAAU,IAAM,CACVR,GACQI,GACZ,EACC,CAACJ,EAASI,CAAS,CAAC,EAGrBK,EAAAC,EAAA,CACE,SAACD,EAAAE,EAAA,CAAA,CAAe,CAClB,CAAA,CAEJ"}