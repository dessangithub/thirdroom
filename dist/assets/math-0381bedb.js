import{f as l,i as P,a as T,s as Q,r as y}from"./Deferred-af9e678f.js";import{bj as z}from"./editor-9e67c00a.js";l(1,0,0),l(0,1,0),l(0,0,1);const{sin:x,cos:d}=Math,E=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],D=(s,Y)=>{const[Z,X,b,f]=Y,t=E[f]||"XYZ",e=d(Z/2),a=d(X/2),M=d(b/2),h=x(Z/2),m=x(X/2),c=x(b/2);switch(t){case"XYZ":s[0]=h*a*M+e*m*c,s[1]=e*m*M-h*a*c,s[2]=e*a*c+h*m*M,s[3]=e*a*M-h*m*c;break;case"YXZ":s[0]=h*a*M+e*m*c,s[1]=e*m*M-h*a*c,s[2]=e*a*c-h*m*M,s[3]=e*a*M+h*m*c;break;case"ZXY":s[0]=h*a*M-e*m*c,s[1]=e*m*M+h*a*c,s[2]=e*a*c+h*m*M,s[3]=e*a*M-h*m*c;break;case"ZYX":s[0]=h*a*M-e*m*c,s[1]=e*m*M+h*a*c,s[2]=e*a*c-h*m*M,s[3]=e*a*M+h*m*c;break;case"YZX":s[0]=h*a*M+e*m*c,s[1]=e*m*M+h*a*c,s[2]=e*a*c-h*m*M,s[3]=e*a*M-h*m*c;break;case"XZY":s[0]=h*a*M-e*m*c,s[1]=e*m*M-h*a*c,s[2]=e*a*c+h*m*M,s[3]=e*a*M+h*m*c;break}};function k(s,Y,Z){return Math.max(Y,Math.min(Z,s))}function F(s,Y){const Z=E[s[3]]||"XYZ",X=Y,b=X[0],f=X[4],t=X[8],e=X[1],a=X[5],M=X[9],h=X[2],m=X[6],c=X[10];switch(Z){case"XYZ":s[1]=Math.asin(k(t,-1,1)),Math.abs(t)<.9999999?(s[0]=Math.atan2(-M,c),s[2]=Math.atan2(-f,b)):(s[0]=Math.atan2(m,a),s[2]=0);break;case"YXZ":s[0]=Math.asin(-k(M,-1,1)),Math.abs(M)<.9999999?(s[1]=Math.atan2(t,c),s[2]=Math.atan2(e,a)):(s[1]=Math.atan2(-h,b),s[2]=0);break;case"ZXY":s[0]=Math.asin(k(m,-1,1)),Math.abs(m)<.9999999?(s[1]=Math.atan2(-h,c),s[2]=Math.atan2(-f,a)):(s[1]=0,s[2]=Math.atan2(e,b));break;case"ZYX":s[1]=Math.asin(-k(h,-1,1)),Math.abs(h)<.9999999?(s[0]=Math.atan2(m,c),s[2]=Math.atan2(e,b)):(s[0]=0,s[2]=Math.atan2(-f,a));break;case"YZX":s[2]=Math.asin(k(e,-1,1)),Math.abs(e)<.9999999?(s[0]=Math.atan2(-M,a),s[1]=Math.atan2(-h,b)):(s[0]=0,s[1]=Math.atan2(t,c));break;case"XZY":s[2]=Math.asin(-k(f,-1,1)),Math.abs(f)<.9999999?(s[0]=Math.atan2(m,a),s[1]=Math.atan2(t,b)):(s[0]=Math.atan2(-M,c),s[1]=0);break}return s}const w=P();T();z();Q(T(),0,1,0);function V(s,Y){y(w,Y),F(s,w)}const $=([s,Y,Z,X])=>Math.atan2(2*Y*X-2*s*Z,1-2*Y*Y-2*Z*Z);function j(s,Y){return s[0]=Y.x,s[1]=Y.y,s[2]=Y.z,s}function p(s,Y){return s[0]=Y.x,s[1]=Y.y,s[2]=Y.z,s[3]=Y.w,s}function v(s){return{x:s[0],y:s[1],z:s[2],w:1}}function A(s){return{x:s[0],y:s[1],z:s[2],w:s[3]}}export{D as a,p as b,k as c,j as d,$ as g,A as q,V as s,v};
//# sourceMappingURL=math-0381bedb.js.map
