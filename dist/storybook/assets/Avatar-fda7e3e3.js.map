{"version":3,"file":"Avatar-fda7e3e3.js","sources":["../../../src/ui/atoms/avatar/Avatar.tsx"],"sourcesContent":["import { useState, CSSProperties, MouseEvent, useEffect } from \"react\";\nimport classNames from \"classnames\";\nimport \"./Avatar.css\";\n\nimport { Text } from \"../text/Text\";\n\ninterface IAvatar {\n  className?: string;\n  style?: CSSProperties;\n  name: string;\n  bgColor: string;\n  fgColor?: string;\n  shape?: \"rounded\" | \"circle\";\n  imageSrc?: string | null;\n  size?: \"xl\" | \"lg\" | \"md\" | \"sm\" | \"xs\" | \"xxs\";\n  onClick?: (event: MouseEvent<HTMLButtonElement>) => void;\n}\n\nexport function Avatar({\n  className,\n  style,\n  name,\n  bgColor,\n  fgColor = \"white\",\n  shape = \"rounded\",\n  imageSrc,\n  size = \"md\",\n  onClick,\n}: IAvatar) {\n  const [isFallback, setIsFallback] = useState(false);\n\n  let textSize: \"h2\" | \"s1\" | \"b1\" | \"b3\" = \"h2\";\n  if (size === \"xl\") textSize = \"h2\";\n  else if (size === \"lg\") textSize = \"s1\";\n  else if (size === \"md\" || size == \"sm\") textSize = \"b1\";\n  else textSize = \"b3\";\n\n  const avatarClass = classNames(\n    \"Avatar\",\n    `Avatar--${size}`,\n    { \"Avatar--circle\": shape === \"circle\" },\n    className,\n    \"noselect\"\n  );\n\n  style = style ?? {};\n  if (isFallback || !imageSrc) style.backgroundColor = bgColor;\n  const props = {\n    className: avatarClass,\n    \"aria-label\": name,\n    style,\n  };\n\n  useEffect(() => {\n    setIsFallback(false);\n  }, [imageSrc]);\n\n  const content =\n    !isFallback && imageSrc ? (\n      <img draggable=\"false\" src={imageSrc} alt=\"\" onError={() => setIsFallback(true)} />\n    ) : (\n      <Text style={{ color: fgColor }} variant={textSize} weight=\"medium\" type=\"span\">\n        {[...name][0]}\n      </Text>\n    );\n\n  if (onClick)\n    return (\n      <button onClick={onClick} {...props}>\n        {content}\n      </button>\n    );\n  return <div {...props}>{content}</div>;\n}\n"],"names":["Avatar","className","style","name","bgColor","fgColor","shape","imageSrc","size","onClick","isFallback","setIsFallback","useState","textSize","avatarClass","classNames","props","useEffect","content","jsx","Text"],"mappings":"qKAkBO,SAAAA,EAAA,CAAgB,UAAAC,EACrB,MAAAC,EACA,KAAAC,EACA,QAAAC,EACA,QAAAC,EAAA,QACU,MAAAC,EAAA,UACF,SAAAC,EACR,KAAAC,EAAA,KACO,QAAAC,CAET,EAAA,CACE,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAAA,EAEA,IAAAC,EAAA,KACAL,IAAA,KAAmBK,EAAA,KAAWL,IAAA,KACNK,EAAA,KAAWL,IAAA,MAAAA,GAAA,KACKK,EAAA,KACnCA,EAAA,KAEL,MAAAC,EAAAC,EAAoB,SAClB,WAAAP,IACW,CAAA,iBAAAF,IAAA,QAAA,EAC4BL,EACvC,UACA,EAGFC,EAAAA,GAAA,IACAQ,GAAA,CAAAH,KAA6BL,EAAA,gBAAAE,GAC7B,MAAAY,EAAA,CAAc,UAAAF,EACD,aAAAX,EACG,MAAAD,CACd,EAGFe,EAAAA,UAAA,IAAA,CACEN,EAAA,EAAA,CAAmB,EAAA,CAAAJ,CAAA,CAAA,EAGrB,MAAAW,EAAA,CAAAR,GAAAH,EAAAY,EAAA,MAAA,CAAA,UAAA,QAAA,IAAAZ,EAAA,IAAA,GAAA,QAAA,IAAAI,EAAA,EAAA,EAAA,EAAAQ,EAAAC,EAAA,CAAA,MAAA,CAAA,MAAAf,GAAA,QAAAQ,EAAA,OAAA,SAAA,KAAA,OAAA,SAAA,CAAA,GAAAV,CAAA,EAAA,CAAA,CAAA,CAAA,EASA,OAAAM,EACEU,EAAA,SAAA,CAAA,QAAAV,EAAA,GAAAO,EAAA,SAAAE,CAAA,CAAA,EAKFC,EAAA,MAAA,CAAA,GAAAH,EAAA,SAAAE,CAAA,CAAA,CACF"}