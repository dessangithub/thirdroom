import{a as F}from"./jsx-runtime-06a742f9.js";import{r as d}from"./index-f2bd0723.js";import{I as z}from"./Input-5f757d12.js";function L(n,u){if(typeof u!="number"||u<0)return n;const a=n.indexOf(".");return a<0?n:a===n.length-1||u===0?n.slice(0,a):n.slice(0,a+1+u)}function M(n,u,a,o,f){return{getCurrentValue:()=>{if(n.current){const r=n.current.value.replace(/\s/g,""),t=r.includes(".")?parseFloat(r):parseInt(r);return isNaN(t)?void 0:t}},constrainValue:r=>{if(typeof r!="number")return;let t=r;return u!=="f32"&&(t=Math.round(t)),u==="u32"&&t<0&&(t=0),u=="f32"&&typeof a=="number"&&(t=parseFloat(t.toFixed(a))),typeof o=="number"&&t<o?o:typeof f=="number"&&t>f?f:t}}}function P(n,u,a){return{getStep:(i,s)=>{let r=u??1;return i==="sm"&&n&&(r=n),i==="lg"&&a&&(r=a),s?-1*r:r},getStepType:i=>{let s="md";return i.shiftKey?s="lg":i.ctrlKey&&(s="sm"),s}}}function h({type:n="u32",smStep:u,mdStep:a,lgStep:o,floatPrecision:f,displayPrecision:i,min:s,max:r,value:t,onChange:v,onKeyDown:c,onBlur:m,onFocus:y,forwardRef:N,...x}){const[b,p]=d.useState(t.toString()),V=d.useRef(null),[I,q]=d.useState(!1),{getCurrentValue:g,constrainValue:_}=M(V,n,f,s,r),{getStep:C,getStepType:T}=P(u,a,o);d.useEffect(()=>{p(t.toString())},[t]);const k=e=>{p(e.currentTarget.value)},S=e=>{const l=_(e);p((l==null?void 0:l.toString())??t.toString()),typeof l=="number"&&v(l)},w=()=>{p(t.toString())},E=e=>{if(c==null||c(e),e.key==="Escape"){w(),setTimeout(()=>{var l;(l=V.current)==null||l.blur()},100);return}if(e.key==="Enter"){S(g());return}if(e.key==="ArrowUp"||e.key==="ArrowDown"){const l=C(T(e),e.key==="ArrowDown");S((g()??0)+l),e.preventDefault();return}},R=e=>{m==null||m(e),q(!1),S(g())},A=e=>{y==null||y(e),q(!0)};return F(z,{ref:e=>{N=e,V.current=e},type:"text",min:s,max:r,value:I===!1&&typeof i=="number"?L(b,i):b,onChange:k,onKeyDown:E,onBlur:R,onFocus:A,...x})}try{h.displayName="NumericInput",h.__docgenInfo={description:"",displayName:"NumericInput",props:{type:{defaultValue:{value:"u32"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"u32"'},{value:'"f32"'}]}},smStep:{defaultValue:null,description:"",name:"smStep",required:!1,type:{name:"number"}},mdStep:{defaultValue:null,description:"",name:"mdStep",required:!1,type:{name:"number"}},lgStep:{defaultValue:null,description:"",name:"lgStep",required:!1,type:{name:"number"}},floatPrecision:{defaultValue:null,description:"",name:"floatPrecision",required:!1,type:{name:"number"}},displayPrecision:{defaultValue:null,description:"",name:"displayPrecision",required:!1,type:{name:"number"}},forwardRef:{defaultValue:null,description:"",name:"forwardRef",required:!1,type:{name:"HTMLInputElement | null"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: number) => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},outlined:{defaultValue:null,description:"",name:"outlined",required:!1,type:{name:"boolean"}},before:{defaultValue:null,description:"",name:"before",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"",name:"after",required:!1,type:{name:"ReactNode"}},inputSize:{defaultValue:null,description:"",name:"inputSize",required:!1,type:{name:"enum",value:[{value:'"sm"'},{value:'"md"'},{value:'"lg"'}]}},state:{defaultValue:null,description:"",name:"state",required:!1,type:{name:"enum",value:[{value:'"success"'},{value:'"error"'}]}}}}}catch{}export{h as N};
//# sourceMappingURL=NumericInput-07715796.js.map
