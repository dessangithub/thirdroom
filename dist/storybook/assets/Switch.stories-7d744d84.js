import{a as b,j as z}from"./jsx-runtime-06a742f9.js";import{r}from"./index-f2bd0723.js";import{S as M}from"./index.module-3f7deb99.js";import{_ as S}from"./extends-98964cd2.js";import{u as _}from"./index.module-a2f32e93.js";import{c as O}from"./index-f9f0573c.js";import"./_commonjsHelpers-042e6b4d.js";function T(e,t){const n=r.createContext(t);function c(a){const{children:o,...u}=a,i=r.useMemo(()=>u,Object.values(u));return r.createElement(n.Provider,{value:i},o)}return c.displayName=e+"Provider",[c,function(a){const o=r.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}]}const[ie,A]=T("Label",{id:void 0,controlRef:{current:null}}),B=e=>{const t=A("LabelConsumer"),{controlRef:n}=t;return r.useEffect(()=>{e&&(n.current=e)},[e,n]),t.id},P=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>({...e,[t]:r.forwardRef((n,c)=>{const{asChild:a,...o}=n,u=a?M:t;return r.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),r.createElement(u,S({},o,{ref:c}))})}),{});function L(e){const[t,n]=r.useState(void 0);return r.useEffect(()=>{if(e){const c=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let u,i;if("borderBoxSize"in o){const s=o.borderBoxSize,d=Array.isArray(s)?s[0]:s;u=d.inlineSize,i=d.blockSize}else{const s=e.getBoundingClientRect();u=s.width,i=s.height}n({width:u,height:i})});return c.observe(e,{box:"border-box"}),()=>c.unobserve(e)}n(void 0)},[e]),t}function I(e){const t=r.useRef({value:e,previous:e});return r.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function D({prop:e,defaultProp:t,onChange:n=()=>{}}){const[c,a]=function({defaultProp:s,onChange:d}){const l=r.useState(s),[p]=l,f=r.useRef(p),m=_(d);return r.useEffect(()=>{f.current!==p&&(m(p),f.current=p)},[p,f,m]),l}({defaultProp:t,onChange:n}),o=e!==void 0,u=o?e:c,i=_(n);return[u,r.useCallback(s=>{if(o){const d=s,l=typeof s=="function"?d(e):s;l!==e&&i(l)}else a(s)},[o,e,a,i])]}function H(e,t=[]){let n=[];const c=()=>{const a=n.map(o=>r.createContext(o));return function(o){const u=(o==null?void 0:o[e])||a;return r.useMemo(()=>({[`__scope${e}`]:{...o,[e]:u}}),[o,u])}};return c.scopeName=e,[function(a,o){const u=r.createContext(o),i=n.length;function s(d){const{scope:l,children:p,...f}=d,m=(l==null?void 0:l[e][i])||u,k=r.useMemo(()=>f,Object.values(f));return r.createElement(m.Provider,{value:k},p)}return n=[...n,o],s.displayName=a+"Provider",[s,function(d,l){const p=(l==null?void 0:l[e][i])||u,f=r.useContext(p);if(f)return f;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${a}\``)}]},F(c,...t)]}function F(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const c=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){const o=c.reduce((u,{useScope:i,scopeName:s})=>({...u,...i(a)[`__scope${s}`]}),{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function X(...e){return t=>e.forEach(n=>function(c,a){typeof c=="function"?c(a):c!=null&&(c.current=a)}(n,t))}function G(...e){return r.useCallback(X(...e),e)}function J(e,t,{checkForDefaultPrevented:n=!0}={}){return function(c){if(e==null||e(c),n===!1||!c.defaultPrevented)return t==null?void 0:t(c)}}const[K,le]=H("Switch"),[Q,U]=K("Switch"),W=r.forwardRef((e,t)=>{const{__scopeSwitch:n,"aria-labelledby":c,name:a,checked:o,defaultChecked:u,required:i,disabled:s,value:d="on",onCheckedChange:l,...p}=e,[f,m]=r.useState(null),k=G(t,C=>m(C)),q=B(f),V=c||q,g=r.useRef(!1),y=!f||!!f.closest("form"),[v=!1,$]=D({prop:o,defaultProp:u,onChange:l});return r.createElement(Q,{scope:n,checked:v,disabled:s},r.createElement(P.button,S({type:"button",role:"switch","aria-checked":v,"aria-labelledby":V,"aria-required":i,"data-state":R(v),"data-disabled":s?"":void 0,disabled:s,value:d},p,{ref:k,onClick:J(e.onClick,C=>{$(j=>!j),y&&(g.current=C.isPropagationStopped(),g.current||C.stopPropagation())})})),y&&r.createElement(Z,{control:f,bubbles:!g.current,name:a,value:d,checked:v,required:i,disabled:s,style:{transform:"translateX(-100%)"}}))}),Y=r.forwardRef((e,t)=>{const{__scopeSwitch:n,...c}=e,a=U("SwitchThumb",n);return r.createElement(P.span,S({"data-state":R(a.checked),"data-disabled":a.disabled?"":void 0},c,{ref:t}))}),Z=e=>{const{control:t,checked:n,bubbles:c=!0,...a}=e,o=r.useRef(null),u=I(n),i=L(t);return r.useEffect(()=>{const s=o.current,d=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(d,"checked").set;if(u!==n&&l){const p=new Event("click",{bubbles:c});l.call(s,n),s.dispatchEvent(p)}},[u,n,c]),r.createElement("input",S({type:"checkbox","aria-hidden":!0,defaultChecked:n},a,{tabIndex:-1,ref:o,style:{...e.style,...i,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function R(e){return e?"checked":"unchecked"}const ee=W,te=Y;function h({className:e,value:t="off",...n}){const c=O("Switch",e);return b(ee,{className:c,value:t,...n,children:b(te,{className:"Switch__thumb"})})}try{h.displayName="Switch",h.__docgenInfo={description:"",displayName:"Switch",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},value:{defaultValue:{value:"off"},description:"",name:"value",required:!1,type:{name:"string"}},defaultChecked:{defaultValue:null,description:"",name:"defaultChecked",required:!1,type:{name:"boolean"}},checked:{defaultValue:null,description:"",name:"checked",required:!1,type:{name:"boolean"}},onCheckedChange:{defaultValue:null,description:"",name:"onCheckedChange",required:!1,type:{name:"((checked: boolean) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}}}}}catch{}const de={title:"Switch",component:h};function w(){return z("div",{className:"flex",children:[b(h,{onCheckedChange:e=>console.log(e)}),b(h,{defaultChecked:!0,onCheckedChange:e=>console.log(e)}),b(h,{defaultChecked:!0,disabled:!0})]})}var x,E,N;w.parameters={...w.parameters,docs:{...(x=w.parameters)==null?void 0:x.docs,source:{originalSource:`function SwitchStories() {
  return <div className="flex">\r
      <Switch onCheckedChange={v => console.log(v)} />\r
      <Switch defaultChecked={true} onCheckedChange={v => console.log(v)} />\r
      <Switch defaultChecked={true} disabled />\r
    </div>;
}`,...(N=(E=w.parameters)==null?void 0:E.docs)==null?void 0:N.source}}};const fe=["SwitchStories"];export{w as SwitchStories,fe as __namedExportsOrder,de as default};
//# sourceMappingURL=Switch.stories-7d744d84.js.map
