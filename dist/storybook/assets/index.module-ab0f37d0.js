import{S as T}from"./index.module-3f7deb99.js";import{$ as S,h as U}from"./Combination-6dabe904.js";import{u as x,F as k,D as L}from"./index.module-3ff68a1e.js";import{r as n}from"./index-f2bd0723.js";import{_ as E}from"./extends-98964cd2.js";import{u as w}from"./index.module-b8f4923b.js";import{u as y,U as $}from"./index.module-97271be0.js";import{u as F}from"./index.module-a2f32e93.js";const A=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce((e,s)=>({...e,[s]:n.forwardRef((a,r)=>{const{asChild:t,...o}=a,u=t?T:s;return n.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),n.createElement(u,E({},o,{ref:r}))})}),{});function Z(...e){return s=>e.forEach(a=>function(r,t){typeof r=="function"?r(t):r!=null&&(r.current=t)}(a,s))}function _(...e){return n.useCallback(Z(...e),e)}const P=e=>{const{present:s,children:a}=e,r=function(u){const[c,l]=n.useState(),i=n.useRef({}),f=n.useRef(u),d=n.useRef("none"),m=u?"mounted":"unmounted",[C,g]=function(p,O){return n.useReducer((v,h)=>{const b=O[v][h];return b??v},p)}(m,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return n.useEffect(()=>{const p=N(i.current);d.current=C==="mounted"?p:"none"},[C]),w(()=>{const p=i.current,O=f.current;if(O!==u){const v=d.current,h=N(p);u?g("MOUNT"):h==="none"||(p==null?void 0:p.display)==="none"?g("UNMOUNT"):g(O&&v!==h?"ANIMATION_OUT":"UNMOUNT"),f.current=u}},[u,g]),w(()=>{if(c){const p=v=>{const h=N(i.current).includes(v.animationName);v.target===c&&h&&g("ANIMATION_END")},O=v=>{v.target===c&&(d.current=N(i.current))};return c.addEventListener("animationstart",O),c.addEventListener("animationcancel",p),c.addEventListener("animationend",p),()=>{c.removeEventListener("animationstart",O),c.removeEventListener("animationcancel",p),c.removeEventListener("animationend",p)}}g("ANIMATION_END")},[c,g]),{isPresent:["mounted","unmountSuspended"].includes(C),ref:n.useCallback(p=>{p&&(i.current=getComputedStyle(p)),l(p)},[])}}(s),t=typeof a=="function"?a({present:r.isPresent}):n.Children.only(a),o=_(r.ref,t.ref);return typeof a=="function"||r.isPresent?n.cloneElement(t,{ref:o}):null};function N(e){return(e==null?void 0:e.animationName)||"none"}P.displayName="Presence";function j({prop:e,defaultProp:s,onChange:a=()=>{}}){const[r,t]=function({defaultProp:l,onChange:i}){const f=n.useState(l),[d]=f,m=n.useRef(d),C=F(i);return n.useEffect(()=>{m.current!==d&&(C(d),m.current=d)},[d,m,C]),f}({defaultProp:s,onChange:a}),o=e!==void 0,u=o?e:r,c=F(a);return[u,n.useCallback(l=>{if(o){const i=l,f=typeof l=="function"?i(e):l;f!==e&&c(f)}else t(l)},[o,e,t,c])]}function G(e,s=[]){let a=[];const r=()=>{const t=a.map(o=>n.createContext(o));return function(o){const u=(o==null?void 0:o[e])||t;return n.useMemo(()=>({[`__scope${e}`]:{...o,[e]:u}}),[o,u])}};return r.scopeName=e,[function(t,o){const u=n.createContext(o),c=a.length;function l(i){const{scope:f,children:d,...m}=i,C=(f==null?void 0:f[e][c])||u,g=n.useMemo(()=>m,Object.values(m));return n.createElement(C.Provider,{value:g},d)}return a=[...a,o],l.displayName=t+"Provider",[l,function(i,f){const d=(f==null?void 0:f[e][c])||u,m=n.useContext(d);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${i}\` must be used within \`${t}\``)}]},H(r,...s)]}function H(...e){const s=e[0];if(e.length===1)return s;const a=()=>{const r=e.map(t=>({useScope:t(),scopeName:t.scopeName}));return function(t){const o=r.reduce((u,{useScope:c,scopeName:l})=>({...u,...c(t)[`__scope${l}`]}),{});return n.useMemo(()=>({[`__scope${s.scopeName}`]:o}),[o])}};return a.scopeName=s.scopeName,a}function R(e,s,{checkForDefaultPrevented:a=!0}={}){return function(r){if(e==null||e(r),a===!1||!r.defaultPrevented)return s==null?void 0:s(r)}}const[K,ce]=G("Dialog"),[q,D]=K("Dialog"),z=e=>{const{__scopeDialog:s,children:a,open:r,defaultOpen:t,onOpenChange:o,modal:u=!0,allowPinchZoom:c}=e,l=n.useRef(null),i=n.useRef(null),[f=!1,d]=j({prop:r,defaultProp:t,onChange:o});return n.createElement(q,{scope:s,triggerRef:l,contentRef:i,contentId:y(),titleId:y(),descriptionId:y(),open:f,onOpenChange:d,onOpenToggle:n.useCallback(()=>d(m=>!m),[d]),modal:u,allowPinchZoom:c},a)},B=n.forwardRef((e,s)=>{const{__scopeDialog:a,...r}=e,t=D("DialogTrigger",a),o=_(s,t.triggerRef);return n.createElement(A.button,E({type:"button","aria-haspopup":"dialog","aria-expanded":t.open,"aria-controls":t.contentId,"data-state":I(t.open)},r,{ref:o,onClick:R(e.onClick,t.onOpenToggle)}))}),J=e=>{const{__scopeDialog:s,forceMount:a,children:r,container:t}=e,o=D("DialogPortal",s);return n.createElement(n.Fragment,null,n.Children.map(r,u=>n.createElement(P,{present:a||o.open},n.createElement($,{asChild:!0,container:t},u))))},Q=n.forwardRef((e,s)=>{const{forceMount:a,...r}=e,t=D("DialogOverlay",e.__scopeDialog);return t.modal?n.createElement(P,{present:a||t.open},n.createElement(V,E({},r,{ref:s}))):null}),V=n.forwardRef((e,s)=>{const{__scopeDialog:a,...r}=e,t=D("DialogOverlay",a);return n.createElement(S,{as:T,allowPinchZoom:t.allowPinchZoom,shards:[t.contentRef]},n.createElement(A.div,E({"data-state":I(t.open)},r,{ref:s,style:{pointerEvents:"auto",...r.style}})))}),W=n.forwardRef((e,s)=>{const{forceMount:a,...r}=e,t=D("DialogContent",e.__scopeDialog);return n.createElement(P,{present:a||t.open},t.modal?n.createElement(X,E({},r,{ref:s})):n.createElement(Y,E({},r,{ref:s})))}),X=n.forwardRef((e,s)=>{const a=D("DialogContent",e.__scopeDialog),r=n.useRef(null),t=_(s,a.contentRef,r);return n.useEffect(()=>{const o=r.current;if(o)return U(o)},[]),n.createElement(M,E({},e,{ref:t,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:R(e.onCloseAutoFocus,o=>{var u;o.preventDefault(),(u=a.triggerRef.current)===null||u===void 0||u.focus()}),onPointerDownOutside:R(e.onPointerDownOutside,o=>{const u=o.detail.originalEvent,c=u.button===0&&u.ctrlKey===!0;(u.button===2||c)&&o.preventDefault()}),onFocusOutside:R(e.onFocusOutside,o=>o.preventDefault())}))}),Y=n.forwardRef((e,s)=>{const a=D("DialogContent",e.__scopeDialog),r=n.useRef(!1);return n.createElement(M,E({},e,{ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var o,u;(o=e.onCloseAutoFocus)===null||o===void 0||o.call(e,t),t.defaultPrevented||(r.current||(u=a.triggerRef.current)===null||u===void 0||u.focus(),t.preventDefault()),r.current=!1},onInteractOutside:t=>{var o,u;(o=e.onInteractOutside)===null||o===void 0||o.call(e,t),t.defaultPrevented||(r.current=!0);const c=t.target;!((u=a.triggerRef.current)===null||u===void 0)&&u.contains(c)&&t.preventDefault()}}))}),M=n.forwardRef((e,s)=>{const{__scopeDialog:a,trapFocus:r,onOpenAutoFocus:t,onCloseAutoFocus:o,...u}=e,c=D("DialogContent",a),l=n.useRef(null),i=_(s,l);return x(),n.createElement(n.Fragment,null,n.createElement(k,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:t,onUnmountAutoFocus:o},n.createElement(L,E({role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":I(c.open)},u,{ref:i,onDismiss:()=>c.onOpenChange(!1)}))),!1)});function I(e){return e?"open":"closed"}const le=z,ie=B,de=J,fe=Q,pe=W;export{pe as C,fe as O,de as P,le as R,ie as T};
//# sourceMappingURL=index.module-ab0f37d0.js.map
